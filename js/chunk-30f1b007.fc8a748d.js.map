{"version":3,"sources":["webpack:///./src/components/Statistics.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/echarts/lib/chart/pie/pieLayout.js","webpack:///./node_modules/echarts/lib/processor/dataFilter.js","webpack:///./node_modules/echarts/lib/chart/pie/labelLayout.js","webpack:///./node_modules/echarts/lib/chart/helper/pieHelper.js","webpack:///./node_modules/echarts/lib/chart/pie/PieView.js","webpack:///./node_modules/echarts/lib/chart/helper/createListSimply.js","webpack:///./node_modules/echarts/lib/visual/LegendVisualProvider.js","webpack:///./node_modules/echarts/lib/chart/pie/PieSeries.js","webpack:///./node_modules/echarts/lib/chart/pie/install.js","webpack:///./node_modules/echarts/lib/chart/line/LineSeries.js","webpack:///./node_modules/echarts/lib/chart/helper/Symbol.js","webpack:///./node_modules/echarts/lib/chart/helper/SymbolDraw.js","webpack:///./node_modules/echarts/lib/chart/line/helper.js","webpack:///./node_modules/echarts/lib/util/vendor.js","webpack:///./node_modules/echarts/lib/chart/line/lineAnimationDiff.js","webpack:///./node_modules/echarts/lib/chart/line/poly.js","webpack:///./node_modules/echarts/lib/chart/line/LineView.js","webpack:///./node_modules/echarts/lib/layout/points.js","webpack:///./node_modules/echarts/lib/chart/line/install.js","webpack:///./node_modules/echarts/lib/component/title/install.js","webpack:///./node_modules/echarts/lib/component/legend/LegendModel.js","webpack:///./node_modules/echarts/lib/component/helper/listComponent.js","webpack:///./node_modules/echarts/lib/component/legend/LegendView.js","webpack:///./node_modules/echarts/lib/component/legend/legendFilter.js","webpack:///./node_modules/echarts/lib/component/legend/legendAction.js","webpack:///./node_modules/echarts/lib/component/legend/installLegendPlain.js","webpack:///./node_modules/echarts/lib/component/legend/ScrollableLegendModel.js","webpack:///./node_modules/echarts/lib/component/legend/ScrollableLegendView.js","webpack:///./node_modules/echarts/lib/component/legend/scrollableLegendAction.js","webpack:///./node_modules/echarts/lib/component/legend/installLegendScroll.js","webpack:///./node_modules/echarts/lib/component/legend/install.js","webpack:///./node_modules/echarts/lib/component/dataZoom/helper.js","webpack:///./node_modules/echarts/lib/component/dataZoom/DataZoomModel.js","webpack:///./node_modules/echarts/lib/component/dataZoom/InsideZoomModel.js","webpack:///./node_modules/echarts/lib/component/dataZoom/DataZoomView.js","webpack:///./node_modules/echarts/lib/component/helper/sliderMove.js","webpack:///./node_modules/echarts/lib/component/helper/interactionMutex.js","webpack:///./node_modules/echarts/lib/component/helper/RoamController.js","webpack:///./node_modules/echarts/lib/component/dataZoom/roams.js","webpack:///./node_modules/echarts/lib/component/dataZoom/InsideZoomView.js","webpack:///./node_modules/echarts/lib/component/dataZoom/AxisProxy.js","webpack:///./node_modules/echarts/lib/component/dataZoom/dataZoomProcessor.js","webpack:///./node_modules/echarts/lib/component/dataZoom/dataZoomAction.js","webpack:///./node_modules/echarts/lib/component/dataZoom/installCommon.js","webpack:///./node_modules/echarts/lib/component/dataZoom/installDataZoomInside.js","webpack:///./node_modules/echarts/lib/component/dataZoom/SliderZoomModel.js","webpack:///./node_modules/echarts/lib/component/dataZoom/SliderZoomView.js","webpack:///./node_modules/echarts/lib/component/dataZoom/installDataZoomSlider.js","webpack:///./node_modules/echarts/lib/component/dataZoom/install.js","webpack:///./src/components/Statistics.vue?2719","webpack:///./node_modules/core-js/internals/get-substitution.js","webpack:///./node_modules/core-js/internals/regexp-unsupported-ncg.js","webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./node_modules/core-js/internals/regexp-exec-abstract.js","webpack:///./node_modules/core-js/internals/this-number-value.js","webpack:///./node_modules/core-js/modules/es.string.replace.js","webpack:///./src/components/Statistics.vue?4ec8","webpack:///./node_modules/core-js/internals/advance-string-index.js","webpack:///./node_modules/core-js/internals/regexp-exec.js","webpack:///./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack:///./node_modules/core-js/modules/es.regexp.exec.js","webpack:///./node_modules/core-js/internals/regexp-flags.js","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js","webpack:///./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack:///./node_modules/core-js/internals/regexp-unsupported-dot-all.js"],"names":["class","id","gutter","span","o","key","style","_defineProperty","obj","value","Object","defineProperty","enumerable","configurable","writable","PI2","Math","PI","RADIAN","getViewRect","seriesModel","api","getBoxLayoutParams","width","getWidth","height","getHeight","pieLayout","seriesType","ecModel","eachSeriesByType","data","getData","valueDim","mapDimension","viewRect","center","get","radius","size","min","cx","x","cy","y","r0","r","startAngle","minAngle","validDataCount","each","isNaN","sum","getSum","unitRadian","clockwise","roseType","stillShowZeroSum","extent","getDataExtent","restAngle","valueSumLargerThanMinAngle","currentAngle","dir","setLayout","idx","angle","setItemLayout","NaN","endAngle","angle_1","layout_1","getItemLayout","layout_2","dataFilter","reset","legendModels","findComponents","mainType","length","filterSelf","name","getName","i","isSelected","adjustSingleSide","list","viewWidth","viewHeight","viewLeft","viewTop","farthestX","len","position","labelAlignTo","dx","label","linePoints","recalculateX","recalculateXOnSemiToAlignOnEllipseCurve","semi","rB","rB2","item","dy","abs","rA","rA2","sqrt","len2","items","topSemi","maxY","bottomSemi","push","avoidOverlap","labelLayoutList","leftList","rightList","leftmostX","Number","MAX_VALUE","rightmostX","isPositionCenter","max","layout","isAlignToEdge","realTextWidth","rect","targetTextWidth","labelDistance","edgeDistance","bleedMargin","dist","sectorShape","pieLabelLayout","hasLabelRotate","minShowLabelRadian","getLayout","setNotShow","el","ignore","isLabelShown","states","sector","getItemGraphicEl","shape","getTextContent","labelLine","getTextGuideLine","itemModel","getItemModel","labelModel","getModel","labelPosition","labelLineModel","labelLineLen","labelLineLen2","textX","textY","textAlign","midAngle","nx","cos","ny","sin","labelRotate","isLabelInside","x1","y1","x2","y2","x3","y3","rotate","rotation","setStyle","verticalAlign","align","selectState","select","textRect","getBoundingRect","clone","applyTransform","getComputedTransform","margin","minTurnAngle","maxSurfaceAngle","surfaceNormal","Point","setTextConfig","inside","notShowLabel","setShape","points","__hostTarget","textGuideLineConfig","anchor","getSectorCornerRadius","model","cornerRadius","innerCornerRadius","_super","PiePiece","_this","call","this","z2","text","setTextContent","updateData","prototype","firstCreate","hostModel","emphasisModel","animationType","getShallow","graphic","useStyle","getItemVisual","offset","cursorStyle","attr","_updateLabel","ensureState","labelText","visualColor","fill","visualOpacity","opacity","labelFetcher","labelDataIndex","inheritColor","defaultOpacity","defaultText","getFormattedLabel","removeTextGuideLine","polyline","setTextGuideLine","stroke","PieView","apply","arguments","ignoreLabelLineUpdate","init","sectorGroup","_sectorGroup","render","payload","oldData","_data","group","count","s","diff","add","piePiece","setItemGraphicEl","update","newIdx","oldIdx","off","remove","execute","dispose","containPoint","point","itemLayout","type","Chart","createListSimply","opt","nameList","coordDimensions","source","getSource","dimensionsInfo","createDimensions","List","initData","LegendVisualProvider","getDataWithEncodedVisual","getRawData","_getDataWithEncodedVisual","_getRawData","getAllNames","rawData","mapArray","containName","indexOfName","dataWithEncodedVisual","dataIndex","PieSeriesModel","useColorPaletteOnData","option","legendVisualProvider","_defaultLabelLine","mergeOption","getInitialData","encodeDefaulter","getDataParams","params","valueList","percent","$vars","labelLineNormalOpt","labelLineEmphasisOpt","emphasis","show","defaultOption","zlevel","z","legendHoverLink","minShowLabelAngle","selectedOffset","percentPrecision","left","top","right","bottom","overflow","alignTo","distanceToLabelLine","length2","smooth","lineStyle","itemStyle","borderWidth","labelLayout","hideOverlap","scale","scaleSize","avoidLabelOverlap","animationDuration","animationTypeUpdate","animationEasingUpdate","animationDurationUpdate","animationEasing","Series","PieSeries","install","registers","registerChartView","registerSeriesModel","registerAction","registerLayout","registerProcessor","LineSeriesModel","hasSymbolVisual","createListFromArray","useEncodeDefaulter","getLegendIcon","Group","line","itemHeight","itemWidth","visualType","getVisual","visualRotate","symbolType","symbol","symbolRotate","iconRotate","setOrigin","indexOf","lineWidth","dependencies","coordinateSystem","clip","endLabel","valueAnimation","distance","step","smoothMonotone","symbolSize","showSymbol","showAllSymbol","connectNulls","sampling","progressive","hoverLayerThreshold","Infinity","LineSeries","Symbol","seriesScope","opts","_createSymbol","keepAspect","removeAll","symbolPath","culling","scaleX","scaleY","drift","driftSymbol","_symbolType","stopSymbolAnimation","toLastFrame","childAt","stopAnimation","getSymbolPath","highlight","downplay","setZ","setDraggable","draggable","cursor","silent","getSymbolSize","isInit","disableAnimation","target","_updateCommon","_sizeX","_sizeY","_seriesModel","emphasisItemStyle","blurItemStyle","selectItemStyle","focus","blurScope","labelStatesModels","hoverScale","hasItemOption","getItemStyle","symbolOffset","symbolStyle","pathStyle","image","__isEmptyBrush","decal","setColor","symbolInnerColor","strokeNoScale","liftZ","z2Origin","_z2","useNameLabel","getLabelDefaultText","emphasisState","scaleRatio","setSymbolScale","fadeOut","cb","animationOpt","animation","fadeLabel","textContent","removeOpt","removeTextContent","slice","parent","symbolNeedsDraw","isIgnore","clipShape","contain","normalizeUpdateOpt","makeSeriesScope","SymbolDraw","SymbolCtor","_SymbolCtor","symbolUpdateOpt","getSymbolPoint","symbolEl","setPosition","_getSymbolPoint","isPersistent","updateLayout","eachItemGraphicEl","markRedraw","incrementalPrepareUpdate","_seriesScope","incrementalUpdate","taskParams","updateIncrementalAndHover","isGroup","incremental","hoverLayer","start","end","traverse","enableAnimation","prepareDataCoordInfo","coordSys","valueOrigin","baseAxis","getBaseAxis","valueAxis","getOtherAxis","valueStart","getValueStart","baseAxisDim","dim","valueAxisDim","baseDim","baseDataOffset","dims","dimensions","coordDim","stacked","stackResultDim","getCalculationInfo","dataDimsForPoint","stackedOverDimension","getExtent","getStackedOnPoint","dataCoordInfo","stackedData","dataToPoint","supportFloat32Array","Float32Array","Float32ArrayCtor","Array","createFloat32Array","arg","diffData","newData","diffResult","cmd","idx1","lineAnimationDiff","oldStackedOnPoints","newStackedOnPoints","oldCoordSys","newCoordSys","oldValueOrigin","newValueOrigin","currPoints","nextPoints","currStackedPoints","nextStackedPoints","status","sortedIndices","rawIndices","newDataOldCoordInfo","oldPoints","newPoints","diffItem","pointAdded","oldIdx2","newIdx2","currentX","currentY","nextX","nextY","getRawIndex","newDataDimsForPoint","oldPt","stackedOnPoint","sort","a","b","sortedCurrPoints","sortedNextPoints","sortedCurrStackedPoints","sortedNextStackedPoints","sortedStatus","i2","idx2","current","next","stackedOnCurrent","stackedOnNext","mathMin","mathMax","isPointNull","drawSegment","ctx","segLen","allLen","prevX","prevY","cpx0","cpy0","cpx1","cpy1","k","nextIdx","tmpK","ratioNextSeg","vx","vy","nextCpx0","nextCpy0","dx0","dx1","dy0","dy1","lenPrevSeg","lenNextSeg","bezierCurveTo","lineTo","ECPolylineShape","smoothConstraint","ECPolyline","getDefaultStyle","getDefaultShape","buildPath","getPointOn","xOrY","path","createPathProxy","x0","y0","CMD","PathProxy","isDimX","roots","t","M","L","val","C","nRoot","i_1","t_1","Path","ECPolygonShape","ECPolygon","stackedOnPoints","stackedOnSmooth","closePath","isPointsSame","points1","points2","bboxFromPoints","minX","minY","maxX","getBoundingDiff","_a","min1","max1","_b","min2","max2","getSmooth","getStackedOnPoints","pt","turnPointsIntoStep","stepTurnAt","baseIndex","stepPoints","stepPt","nextPt","middle","stepPt2","getVisualGradient","visualMetaList","visualMeta","dimIndex","dimension","dimName","dimInfo","getDimensionInfo","axis","getAxis","colorStops","stops","stop","coord","toGlobalCoord","dataToCoord","color","stopLen","outerColors","reverse","tinyExtent","minCoord","maxCoord","coordSpan","unshift","gradient","getIsIgnoreFunc","isAuto","categoryAxis","getAxesByScale","canShowAllSymbolForCategory","categoryDataDim","labelMap","getViewLabels","labelItem","ordinalNumber","getRawOrdinalNumber","tickValue","hasOwnProperty","axisExtent","availSize","dataLen","round","isHorizontal","getLastIndexNotNull","getPointAtIndex","getIndexRange","dimIdx","prevIndex","nextIndex","range","createLineClipPath","lineView","hasAnimation","endLabelModel_1","showEndLabel","valueAnimation_1","data_1","labelAnimationRecord_1","lastFrameIndex","during","clipRect","_endLabelOnDuring","clipPath","_endLabel","originalX","originalY","rectShape","expandSize","getEndLabelStateSpecified","endLabelModel","isBaseInversed","inverse","normal","LineView","lineGroup","symbolDraw","_symbolDraw","_lineGroup","lineStyleModel","areaStyleModel","isCoordSysPolar","prevCoordSys","_coordSys","_polyline","polygon","_polygon","isAreaChart","isEmpty","isIgnoreFunc","__temp","clipShapeForSymbol","getArea","_clipShapeForSymbol","_step","_newPolygon","_initOrUpdateEndLabel","setClipPath","_stackedOnPoints","_points","_doUpdateAnimation","_initSymbolLabelAnimation","_newPolyline","getLineStyle","lineJoin","emphasisLineStyle","getState","seriesIndex","stackedOnSeries","getAreaStyle","changePolyState","toState","_changePolyState","onHoverStateChange","_valueOrigin","symbolLabel","segmentIgnoreThreshold","isHorizontalOrRadial","isAxisInverse","seriesDuration","seriesDalay","seriesDalayValue","polarClip","pointToCoord","gridClip","ratio","delay","animateTo","duration","animateFrom","disableLabelAnimation","data_2","ignoreClip","interpolatedValue","enableTextSetter","textConfig","animationRecord","precision","distanceX","distanceY","dataIndexRange","indices","getRawValue","startValue","endValue","setLabelText","__points","updatedDataInfo","diffStatus","ptIdx","animators","dirtyShape","pointsLayout","forceStoreInTypedArray","plan","createRenderPlanner","pipelineContext","useTypedArray","large","dimLen","dimInfo0","dimInfo1","dimIdx0","index","dimIdx1","progress","segCount","tmpIn","tmpOut","getByDimIdx","registerVisual","setVisual","PRIORITY","PROCESSOR","STATISTIC","dataSample","TitleModel","layoutMode","ignoreSize","subtext","subtarget","backgroundColor","borderColor","padding","itemGap","textStyle","fontSize","fontWeight","subtextStyle","Component","TitleView","titleModel","textStyleModel","subtextStyleModel","textVerticalAlign","textEl","getTextColor","disableBox","subText","subTextEl","link","sublink","triggerEvent","on","eventData","componentType","componentIndex","groupRect","layoutOption","layoutRect","alignStyle","subPixelOptimize","registerComponentModel","registerComponentView","getDefaultSelectorOptions","title","getLocale","LegendModel","parentModel","mergeDefaultAndTheme","selected","_updateSelector","selector","optionUpdated","_updateData","legendData","hasSelected","name_1","potentialData","availableNames","eachRawSeries","isPotential","seriesName","provider","names","isSeriesFiltered","concat","_availableNames","dataItem","Model","selectedMode","unSelect","toggleSelected","allSelect","inverseSelect","getOrient","orient","borderRadius","inactiveColor","inactiveBorderColor","inactiveBorderWidth","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","borderCap","borderJoin","borderDashOffset","borderMiterLimit","inactiveWidth","cap","join","dashOffset","miterLimit","selectorLabel","fontFamily","selectorPosition","selectorItemGap","selectorButtonGap","tooltip","makeBackground","componentModel","format","curry","LegendView","newlineDisabled","_contentGroup","_selectorGroup","_isFirstRender","getContentGroup","getSelectorGroup","legendModel","isFirstRender","resetInner","itemAlign","renderInner","positionInfo","viewportSize","maxSize","mainRect","layoutInner","_backgroundEl","contentGroup","legendDrawnMap","selectMode","excludeSeriesId","legendItemModel","g","newline","getSeriesByName","lineVisualStyle","legendIcon","itemGroup","_createItem","dispatchSelectAction","dispatchHighlightAction","dispatchDownplayAction","set","colorArr","_createSelector","selectorGroup","selectorItem","onclick","dispatchAction","emphasisLabelModel","itemVisualStyle","drawType","visualDrawType","legendIconType","legendLineStyle","getLegendStyle","getDefaultLegendIcon","icon","formatter","content","replace","hitRect","invisible","tooltipModel","itemName","itemTooltipOption","eachChild","child","__legendDataIndex","contentRect","contentPos","selectorRect","selectorPos","orientIdx","wh","hw","yx","iconType","itemProperties","propName","visualName","lastIndexOf","legendLineModel","lineProperties","visualHasBorder","symboType","dataName","isUseHoverLayer","getZr","storage","getDisplayList","legendFilter","filterSeries","series","legendSelectActionHandler","methodName","selectedMap","isToggleSelect","eachComponent","isItemSelected","installLegendAction","SERIES_FILTER","registerSubTypeDefaulter","ScrollableLegendModel","setScrollDataIndex","scrollDataIndex","inputPositionParams","mergeAndNormalizeLayoutParams","pageButtonItemGap","pageButtonGap","pageButtonPosition","pageFormatter","pageIcons","horizontal","vertical","pageIconColor","pageIconInactiveColor","pageIconSize","pageTextStyle","raw","WH","XY","ScrollableLegendView","_currentIndex","_containerGroup","_controllerGroup","removeClipPath","__rectSize","self","controllerGroup","pageIconSizeArr","createPageButton","pageTextStyleModel","iconIdx","pageDataIndexName","_pageGo","font","getFont","xy","processMaxSize","_layoutContentAndController","containerGroup","controllerRect","showController","_showController","containerPos","controllerPos","pageInfo","_getPageInfo","pageIndex","contentPosition","_updatePageInfoView","to","legendId","canJump","childOfName","pageText","total","pageCount","containerRectSize","targetItemIndex","_findTargetItemIndex","children","targetItem","itemCount","pCount","result","pagePrevDataIndex","pageNextDataIndex","targetItemInfo","getItemInfo","winStartItemInfo","winEndItemInfo","currItemInfo","e","intersect","itemRect","itemInfo","winStart","targetDataIndex","defaultIndex","legendDataIdx","installScrollableLegendAction","subType","query","DATA_ZOOM_AXIS_DIMENSIONS","SERIES_COORDS","isCoordSupported","coordType","getAxisMainType","axisDim","findEffectedDataZooms","foundNewLink","axisRecords","effectedModels","effectedModelMap","dataZoomModel","uid","addToEffected","processSingle","isLinked","dataZoom","markAxisControlled","isLink","eachTargetAxis","axisIndex","axisIdxArr","collectReferCoordSysModelInfo","coordSysInfoWrap","infoList","infoMap","axisModel","getComponent","coordSysModel","getCoordSysModel","coordSysUid","coordSysInfo","axisModels","DataZoomAxisInfo","indexList","indexMap","axisCmptIdx","DataZoomModel","_autoThrottle","_noTarget","_rangePropMode","inputRawOption","retrieveRawOption","settledOption","_doInit","newOption","thisOption","_setDefaultThrottle","_updateRangeUse","_resetTarget","optionOrient","targetAxisIndexMap","_targetAxisInfoMap","hasAxisSpecified","_fillSpecifiedTargetAxis","_orient","_makeAutoOrientByTargetAxis","_fillAutoTargetAxisByOrient","axisInfo","refering","getReferringComponents","specified","models","needAuto","setParallelAxis","filter","gridModel_1","axModel","globalOption","throttle","rangePropMode","rangeModeInOption","percentSpecified","valueSpecified","noTarget","getFirstTargetAxisModel","firstAxisModel","callback","context","getAxisProxy","getAxisModel","__dzAxisProxy","setRawRange","setCalculatedRange","getPercentRange","axisProxy","findRepresentativeAxisProxy","getDataPercentWindow","getValueRange","getDataValueWindow","firstProxy","axisDimList","keys","j","proxy","hostedBy","getRangePropMode","filterMode","ret","InsideZoomModel","disabled","zoomLock","zoomOnMouseWheel","moveOnMouseMove","moveOnMouseWheel","preventDefaultMouseMove","DataZoomView","sliderMove","delta","handleEnds","handleIndex","minSpan","maxSpan","extentSpan","restrict","handleSpan","originalDistSign","getSpanSign","currDistSign","extentMinSpan","realExtent","sign","extend","ATTR","isTaken","zr","resourceKey","getStore","echarts","event","RoamController","_zr","mousedownHandler","_mousedownHandler","mousemoveHandler","_mousemoveHandler","mouseupHandler","_mouseupHandler","mousewheelHandler","_mousewheelHandler","pinchHandler","_pinchHandler","enable","controlType","disable","_opt","isDragging","_dragging","isPinching","_pinching","setPointerChecker","pointerChecker","offsetX","offsetY","_x","_y","isAvailableBehavior","gestureEvent","oldX","oldY","trigger","newX","newY","shouldZoom","shouldMove","wheelDelta","absWheelDeltaDelta","originX","originY","factor","checkPointerAndTrigger","absDelta","scrollDelta","pinchScale","pinchX","pinchY","Eventful","controller","eventName","behaviorToCheck","contollerEvent","settings","setting","inner","setViewInfoToCoordSysRecord","getRange","coordSysRecordMap","coordSysRecord","dzInfo","dataZoomInfoMap","disposeCoordSysRecordIfNeeded","coordSysKeyArr","coordSysKey","dzUid","removeKey","disposeCoordSysRecord","createCoordSysRecord","containsPoint","batch","method","dzReferCoordSysInfo","dataZoomId","easing","mergeControllerParams","prefix","typePriority","dataZoomInfo","oneType","installDataZoomRoamProcessor","FILTER","apiInner","dzReferCoordSysWrap","dzCoordSysInfo","firstDzInfo","firstDzKey","controllerParams","InsideZoomView","_clear","pan","getRangeHandlers","zoom","scrollMove","coordSysMainType","lastRange","directionInfo","getDirectionInfo","percentPoint","signal","pixelStart","pixelLength","pixel","minMaxSpan","getMinMaxSpan","makeMover","getPercentDelta","percentDelta","grid","oldPoint","newPoint","getRect","polar","radiusExtent","getRadiusAxis","angleExtent","getAngleAxis","singleAxis","asc","number","AxisProxy","_dimName","_axisIndex","_dataZoomModel","_valueWindow","_percentWindow","getTargetSeriesModels","seriesModels","eachSeries","axisMainType","_minMaxSpan","calculateDataWindow","hasPropModeValue","dataExtent","_dataExtent","percentExtent","percentWindow","valueWindow","prop","boundPercent","boundValue","parse","spans","restrictSet","fromWindow","toWindow","fromExtent","toExtent","toValue","suffix","targetSeries","calculateDataExtent","_updateMinMaxSpan","dataWindow","_setAxisModel","filterData","seriesData","dataDims","mapDimensionsAll","leftOut","rightOut","hasValue","thisHasValue","thisLeftOut","thisRightOut","setData","map","isInWindow","selectRange","setApproximateExtent","minMax","percentSpan","valueSpan","rawExtentInfo","setDeterminedMinMax","toFixed","freeze","rawExtentResult","calculate","dataZoomProcessor","getTargetSeries","eachAxisModel","proxyList","seriesModelMap","overallReset","percentRange","valueRange","installDataZoomAction","installed","installCommon","SliderZoomModel","dataBackground","areaStyle","selectedDataBackground","fillerColor","handleIcon","handleSize","handleStyle","moveHandleSize","moveHandleIcon","moveHandleStyle","showDetail","showDataShadow","realtime","brushSelect","brushStyle","DEFAULT_LOCATION_EDGE_GAP","DEFAULT_FRAME_BORDER_WIDTH","DEFAULT_FILLER_SIZE","DEFAULT_MOVE_HANDLE_SIZE","HORIZONTAL","VERTICAL","LABEL_GAP","SHOW_DATA_SHADOW_SERIES_TYPE","REALTIME_ANIMATION_CONFIG","SliderZoomView","_displayables","_onBrush","_onBrushEnd","from","_buildView","_updateView","thisGroup","_brushing","brushRect","_resetLocation","_resetInterval","barGroup","sliderGroup","_renderBackground","_renderHandle","_renderDataShadow","_positionGroup","showMoveHandle","coordRect","_findCoordRect","ecSize","layoutParams","_location","_size","location","targetAxisModel","otherAxisInverse","_dataShadowInfo","_getViewExtent","clickPanel","_onClickPanel","_onBrushStart","info","_prepareDataShadowInfo","dataShadowSegs","otherDim","getShadowDim","otherDataExtent","otherOffset","lastIsEmpty","otherShadowExtent","thisShadowExtent","areaPoints","thisCoord","stride","otherCoord","createDataShadowGroup","isSelectedArea","thisAxis","getOtherDim","thisDim","displayables","handles","handleLabels","filler","iconStr","getCursor","_onDragMove","ondragend","_onDragEnd","onmouseover","_showDataInfo","onmouseout","bRect","_handleHeight","_handleWidth","rectHover","handleColor","actualMoveZone","moveHandleHeight","moveHandle_1","moveHandle","iconSize","moveZoneExpandSize","moveZone","enterEmphasis","leaveEmphasis","ondragstart","_range","viewExtent","_handleEnds","_updateInterval","viewExtend","nonRealtime","displaybles","handleInterval","handle","handleHeight","segIntervals","segGroup","getClipPath","_updateDataInfo","labelTexts","dataInterval","_formatLabel","orderedHandleEnds","setLabel","barTransform","direction","textPoint","labelFormatter","labelPrecision","getPixelPrecision","valueStr","getLabel","showOrHide","getLocalTransform","vertex","changed","_dispatchZoomAction","localPoint","transformCoordToLocal","_brushStart","_brushStartTime","Date","brushShape","brushEndTime","_updateBrushRect","mouseX","mouseY","brushStart","endPoint","startPoint","coordSysInfoList","components","provide","mounted","myChartA","document","getElementById","setOption","chartOptionA","window","addEventListener","resize","myChartB","chartOptionB","myChartC","chartOptionC","setup","props","legend","axisPointer","toolbox","feature","dataView","readOnly","restore","saveAsImage","xAxis","boundaryGap","now","res","toLocaleTimeString","yAxis","xAxisIndex","yAxisIndex","random","chartBCount","containLabel","stack","__scopeId","toObject","floor","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","module","exports","matched","str","captures","namedCaptures","replacement","tailPos","m","symbols","undefined","match","ch","capture","charAt","n","f","fails","re","RegExp","exec","groups","toInteger","requireObjectCoercible","String","RangeError","classof","regexpExec","R","S","TypeError","fixRegExpWellKnownSymbolLogic","anObject","toLength","advanceStringIndex","getSubstitution","regExpExec","wellKnownSymbol","REPLACE","maybeToString","it","REPLACE_KEEPS_$0","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_SUPPORTS_NAMED_GROUPS","_","nativeReplace","maybeCallNative","UNSAFE_SUBSTITUTE","searchValue","replaceValue","O","replacer","string","done","rx","functionalReplace","global","fullUnicode","unicode","lastIndex","results","matchStr","accumulatedResult","nextSourcePosition","replacerArgs","regexpFlags","stickyHelpers","shared","create","getInternalState","UNSUPPORTED_DOT_ALL","UNSUPPORTED_NCG","nativeExec","patchedExec","UPDATES_LAST_INDEX_WRONG","re1","re2","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","PATCH","reCopy","object","state","sticky","flags","charsAdded","strCopy","multiline","input","RE","$","proto","forced","that","ignoreCase","dotAll","thisNumberValue","repeat","nativeToFixed","pow","acc","log","multiply","c","c2","divide","dataToString","FORCED","fractionDigits","fractDigits","redefine","createNonEnumerableProperty","SPECIES","RegExpPrototype","KEY","SHAM","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","constructor","nativeRegExpMethod","methods","nativeMethod","regexp","arg2","forceStringMethod","$exec"],"mappings":"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","file":"js/chunk-30f1b007.fc8a748d.js","sourcesContent":["<template>\n<!--  <v-chart class=\"chart flex-rCenter\" :option=\"option\" />-->\n<div class=\"statis-container\">\n  <el-row :gutter=\"20\">\n     <el-col :span=\"6\">\n         <el-card class=\"box-card\">\n           <div v-for=\"o in 4\" :key=\"o\" class=\"text item\">\n             {{'列表内容 ' + o }}\n           </div>\n         </el-card>\n     </el-col>\n    <el-col :span=\"6\">\n      <el-card class=\"box-card\">\n        <div v-for=\"o in 4\" :key=\"o\" class=\"text item\">\n          {{'列表内容 ' + o }}\n        </div>\n      </el-card>\n    </el-col>\n    <el-col :span=\"6\">\n      <el-card class=\"box-card\">\n        <div v-for=\"o in 4\" :key=\"o\" class=\"text item\">\n          {{'列表内容 ' + o }}\n        </div>\n      </el-card>\n    </el-col>\n    <el-col :span=\"6\">\n      <el-card class=\"box-card\">\n        <div v-for=\"o in 4\" :key=\"o\" class=\"text item\">\n          {{'列表内容 ' + o }}\n        </div>\n      </el-card>\n    </el-col>\n  </el-row>\n  <el-row style=\"margin-top: 20px\" :gutter=\"20\">\n   <el-col :span=\"12\">\n     <div id=\"my-chart-a\" class=\"my-chart flex-rCenter\"></div>\n   </el-col>\n   <el-col :span=\"12\">\n     <div id=\"my-chart-b\" class=\"my-chart flex-rCenter\"></div>\n   </el-col>\n  </el-row>\n  <el-row style=\"margin-top: 20px\" :gutter=\"20\">\n   <el-col :span=\"24\">\n     <div id=\"my-chart-c\" class=\"my-chart flex-rCenter\"></div>\n   </el-col>\n  </el-row>\n</div>\n</template>\n\n<script>\nimport { use, init } from \"echarts/core\";\nimport { CanvasRenderer } from \"echarts/renderers\";\nimport { PieChart, LineChart } from \"echarts/charts\";\nimport {\n  TitleComponent,\n  TooltipComponent,\n  LegendComponent,\n  ToolboxComponent,\n  DataZoomComponent\n} from \"echarts/components\";\nimport VChart, { THEME_KEY } from \"vue-echarts\";\nimport {ref, defineComponent, onBeforeMount, inject, onMounted} from \"vue\";\nuse([\n  CanvasRenderer,\n  PieChart,\n  TitleComponent,\n  TooltipComponent,\n  LegendComponent,\n  // ToolboxComponent,\n  DataZoomComponent,\n  LineChart\n]);\n\nexport default defineComponent({\n  name: \"Statistics\",\n  components: {\n    // VChart\n  },\n  data(){\n    return {\n\n    }\n  },\n  provide: {\n    [THEME_KEY]: \"light\"\n  },\n  mounted() {\n    let myChartA = init(document.getElementById('my-chart-a'));\n    myChartA.setOption(this.chartOptionA);\n    window.addEventListener('resize', myChartA.resize);\n\n    let myChartB = init(document.getElementById('my-chart-b'));\n    myChartB.setOption(this.chartOptionB);\n    window.addEventListener('resize', myChartB.resize);\n    // setInterval(function (){\n    //   var axisData = (new Date()).toLocaleTimeString().replace(/^\\D*/, '');\n    //   var data0 = this.chartOptionB.series[0].data;\n    //   var data1 = this.chartOptionB.series[1].data;\n    //   data0.shift();\n    //   data0.push(Math.round(Math.random() * 1000));\n    //   data1.shift();\n    //   data1.push((Math.random() * 10 + 5).toFixed(1) - 0);\n    //   this.chartOptionB.xAxis[0].data.shift();\n    //   this.chartOptionB.xAxis[0].data.push(axisData);\n    //   this.chartOptionB.xAxis[1].data.shift();\n    //   this.chartOptionB.xAxis[1].data.push(this.chartBCount.value++);\n    //   myChartB.setOption(this.chartOptionB);\n    // }, 2100);\n\n    let myChartC = init(document.getElementById('my-chart-c'));\n    myChartC.setOption(this.chartOptionC);\n    window.addEventListener('resize', myChartC.resize);\n  },\n  setup (props, context) {\n    const axios = inject('axios');\n    const chartOptionA = ref({\n      title: {\n        text: '某站点用户访问来源',\n        subtext: '纯属虚构',\n        left: 'center'\n      },\n      tooltip: {\n        trigger: 'item'\n      },\n      legend: {\n        orient: 'vertical',\n        left: 'left',\n      },\n      series: [\n        {\n          name: '访问来源',\n          type: 'pie',\n          radius: '50%',\n          data: [\n            {value: 1048, name: '搜索引擎'},\n            {value: 735, name: '直接访问'},\n            {value: 580, name: '邮件营销'},\n            {value: 484, name: '联盟广告'},\n            {value: 300, name: '视频广告'}\n          ],\n          emphasis: {\n            itemStyle: {\n              shadowBlur: 10,\n              shadowOffsetX: 0,\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\n            }\n          }\n        }\n      ]\n    });\n    const chartOptionB = ref({\n      title: {\n        text: '动态数据',\n        subtext: '纯属虚构'\n      },\n      tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n          type: 'cross',\n          label: {\n            backgroundColor: '#283b56'\n          }\n        }\n      },\n      legend: {\n        data:['最新成交价', '预购队列']\n      },\n      toolbox: {\n        show: true,\n        feature: {\n          dataView: {readOnly: false},\n          restore: {},\n          saveAsImage: {}\n        }\n      },\n      dataZoom: {\n        show: false,\n        start: 0,\n        end: 100\n      },\n      xAxis: [\n        {\n          type: 'category',\n          boundaryGap: true,\n          data: (function (){\n            var now = new Date();\n            var res = [];\n            var len = 10;\n            while (len--) {\n              res.unshift(now.toLocaleTimeString().replace(/^\\D*/,''));\n              now = new Date(now - 2000);\n            }\n            return res;\n          })()\n        },\n        {\n          type: 'category',\n          boundaryGap: true,\n          data: (function (){\n            var res = [];\n            var len = 10;\n            while (len--) {\n              res.push(10 - len - 1);\n            }\n            return res;\n          })()\n        }\n      ],\n      yAxis: [\n        {\n          type: 'value',\n          scale: true,\n          name: '价格',\n          max: 30,\n          min: 0,\n          boundaryGap: [0.2, 0.2]\n        },\n        {\n          type: 'value',\n          scale: true,\n          name: '预购量',\n          max: 1200,\n          min: 0,\n          boundaryGap: [0.2, 0.2]\n        }\n      ],\n      series: [\n        {\n          name: '预购队列',\n          type: 'bar',\n          xAxisIndex: 1,\n          yAxisIndex: 1,\n          data: (function (){\n            var res = [];\n            var len = 10;\n            while (len--) {\n              res.push(Math.round(Math.random() * 1000));\n            }\n            return res;\n          })()\n        },\n        {\n          name: '最新成交价',\n          type: 'line',\n          data: (function (){\n            var res = [];\n            var len = 0;\n            while (len < 10) {\n              res.push((Math.random()*10 + 5).toFixed(1) - 0);\n              len++;\n            }\n            return res;\n          })()\n        }\n      ]\n    });\n    const chartBCount = ref(11);\n    const chartOptionC = ref({\n      title: {\n        text: '折线图堆叠'\n      },\n      tooltip: {\n        trigger: 'axis'\n      },\n      legend: {\n        data: ['邮件营销', '联盟广告', '视频广告', '直接访问', '搜索引擎']\n      },\n      grid: {\n        left: '3%',\n        right: '4%',\n        bottom: '3%',\n        containLabel: true\n      },\n      toolbox: {\n        feature: {\n          saveAsImage: {}\n        }\n      },\n      xAxis: {\n        type: 'category',\n        boundaryGap: false,\n        data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日']\n      },\n      yAxis: {\n        type: 'value'\n      },\n      series: [\n        {\n          name: '邮件营销',\n          type: 'line',\n          stack: '总量',\n          data: [120, 132, 101, 134, 90, 230, 210]\n        },\n        {\n          name: '联盟广告',\n          type: 'line',\n          stack: '总量',\n          data: [220, 182, 191, 234, 290, 330, 310]\n        },\n        {\n          name: '视频广告',\n          type: 'line',\n          stack: '总量',\n          data: [150, 232, 201, 154, 190, 330, 410]\n        },\n        {\n          name: '直接访问',\n          type: 'line',\n          stack: '总量',\n          data: [320, 332, 301, 334, 390, 330, 320]\n        },\n        {\n          name: '搜索引擎',\n          type: 'line',\n          stack: '总量',\n          data: [820, 932, 901, 934, 1290, 1330, 1320]\n        }\n      ]\n    });\n    // onBeforeMount(()=>{\n    //   (async()=>await axios({\n    //     method: 'get',\n    //     url: '/statis',\n    //     data: {\n    //       auth: 'xiaohu'\n    //     },\n    //   }).then(res=>{\n    //     for(let v of res.data){\n    //       let entry = {\n    //         value: v.score,\n    //         name: v.username\n    //       }\n    //       option.value.series[0].data.push(entry);\n    //     }\n    //   }))();\n    // });\n    return {\n      chartOptionA,\n      chartOptionB,\n      chartBCount,\n      chartOptionC,\n    };\n  }\n});\n</script>\n\n<style scoped lang=\"scss\">\n.chart {\n  height: 40rem;\n  & > div{\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n  }\n}\n.my-chart{\n  width: 100%;\n  height: 100%;\n  background-color: #fff;\n}\n.statis-container{\n  width: 100%;\n  height: 100%;\n  //display: flex;\n  //justify-content: space-evenly;\n  //align-items: center;\n  //flex-direction: column;\n}\n#my-chart-a{\n  height: 320px;\n  //transform: scale(0.6);\n}\n#my-chart-b{\n  height: 320px;\n}\n#my-chart-c{\n  height: 320px;\n}\n//.el-row{\n//  width: 100%;\n//  height: 100%;\n//}\n//.chart-col{\n//  height: 20rem;\n//  padding: 0px 0.5rem;\n//  background-color: rgba(154, 154, 154, 0.27);\n//}\n//.chart-box{\n//  width: 45rem;\n//  height: 30rem;\n//  background-color: rgba(255, 255, 255, 0.27);\n//  //transform: scale(0.6);\n//}\n</style>\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { parsePercent, linearMap } from '../../util/number';\nimport * as layout from '../../util/layout';\nimport * as zrUtil from 'zrender/lib/core/util';\nvar PI2 = Math.PI * 2;\nvar RADIAN = Math.PI / 180;\n\nfunction getViewRect(seriesModel, api) {\n  return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n\nexport default function pieLayout(seriesType, ecModel, api) {\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var viewRect = getViewRect(seriesModel, api);\n    var center = seriesModel.get('center');\n    var radius = seriesModel.get('radius');\n\n    if (!zrUtil.isArray(radius)) {\n      radius = [0, radius];\n    }\n\n    if (!zrUtil.isArray(center)) {\n      center = [center, center];\n    }\n\n    var width = parsePercent(viewRect.width, api.getWidth());\n    var height = parsePercent(viewRect.height, api.getHeight());\n    var size = Math.min(width, height);\n    var cx = parsePercent(center[0], width) + viewRect.x;\n    var cy = parsePercent(center[1], height) + viewRect.y;\n    var r0 = parsePercent(radius[0], size / 2);\n    var r = parsePercent(radius[1], size / 2);\n    var startAngle = -seriesModel.get('startAngle') * RADIAN;\n    var minAngle = seriesModel.get('minAngle') * RADIAN;\n    var validDataCount = 0;\n    data.each(valueDim, function (value) {\n      !isNaN(value) && validDataCount++;\n    });\n    var sum = data.getSum(valueDim); // Sum may be 0\n\n    var unitRadian = Math.PI / (sum || validDataCount) * 2;\n    var clockwise = seriesModel.get('clockwise');\n    var roseType = seriesModel.get('roseType');\n    var stillShowZeroSum = seriesModel.get('stillShowZeroSum'); // [0...max]\n\n    var extent = data.getDataExtent(valueDim);\n    extent[0] = 0; // In the case some sector angle is smaller than minAngle\n\n    var restAngle = PI2;\n    var valueSumLargerThanMinAngle = 0;\n    var currentAngle = startAngle;\n    var dir = clockwise ? 1 : -1;\n    data.setLayout({\n      viewRect: viewRect,\n      r: r\n    });\n    data.each(valueDim, function (value, idx) {\n      var angle;\n\n      if (isNaN(value)) {\n        data.setItemLayout(idx, {\n          angle: NaN,\n          startAngle: NaN,\n          endAngle: NaN,\n          clockwise: clockwise,\n          cx: cx,\n          cy: cy,\n          r0: r0,\n          r: roseType ? NaN : r\n        });\n        return;\n      } // FIXME 兼容 2.0 但是 roseType 是 area 的时候才是这样？\n\n\n      if (roseType !== 'area') {\n        angle = sum === 0 && stillShowZeroSum ? unitRadian : value * unitRadian;\n      } else {\n        angle = PI2 / validDataCount;\n      }\n\n      if (angle < minAngle) {\n        angle = minAngle;\n        restAngle -= minAngle;\n      } else {\n        valueSumLargerThanMinAngle += value;\n      }\n\n      var endAngle = currentAngle + dir * angle;\n      data.setItemLayout(idx, {\n        angle: angle,\n        startAngle: currentAngle,\n        endAngle: endAngle,\n        clockwise: clockwise,\n        cx: cx,\n        cy: cy,\n        r0: r0,\n        r: roseType ? linearMap(value, extent, [r0, r]) : r\n      });\n      currentAngle = endAngle;\n    }); // Some sector is constrained by minAngle\n    // Rest sectors needs recalculate angle\n\n    if (restAngle < PI2 && validDataCount) {\n      // Average the angle if rest angle is not enough after all angles is\n      // Constrained by minAngle\n      if (restAngle <= 1e-3) {\n        var angle_1 = PI2 / validDataCount;\n        data.each(valueDim, function (value, idx) {\n          if (!isNaN(value)) {\n            var layout_1 = data.getItemLayout(idx);\n            layout_1.angle = angle_1;\n            layout_1.startAngle = startAngle + dir * idx * angle_1;\n            layout_1.endAngle = startAngle + dir * (idx + 1) * angle_1;\n          }\n        });\n      } else {\n        unitRadian = restAngle / valueSumLargerThanMinAngle;\n        currentAngle = startAngle;\n        data.each(valueDim, function (value, idx) {\n          if (!isNaN(value)) {\n            var layout_2 = data.getItemLayout(idx);\n            var angle = layout_2.angle === minAngle ? minAngle : value * unitRadian;\n            layout_2.startAngle = currentAngle;\n            layout_2.endAngle = currentAngle + dir * angle;\n            currentAngle += dir * angle;\n          }\n        });\n      }\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function dataFilter(seriesType) {\n  return {\n    seriesType: seriesType,\n    reset: function (seriesModel, ecModel) {\n      var legendModels = ecModel.findComponents({\n        mainType: 'legend'\n      });\n\n      if (!legendModels || !legendModels.length) {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      data.filterSelf(function (idx) {\n        var name = data.getName(idx); // If in any legend component the status is not selected.\n\n        for (var i = 0; i < legendModels.length; i++) {\n          // @ts-ignore FIXME: LegendModel\n          if (!legendModels[i].isSelected(name)) {\n            return false;\n          }\n        }\n\n        return true;\n      });\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME emphasis label position is not same with normal label position\nimport { parsePercent } from '../../util/number';\nimport { Point } from '../../util/graphic';\nimport { each } from 'zrender/lib/core/util';\nimport { limitTurnAngle, limitSurfaceAngle } from '../../label/labelGuideHelper';\nimport { shiftLayoutOnY } from '../../label/labelLayoutHelper';\nvar RADIAN = Math.PI / 180;\n\nfunction adjustSingleSide(list, cx, cy, r, dir, viewWidth, viewHeight, viewLeft, viewTop, farthestX) {\n  if (list.length < 2) {\n    return;\n  }\n\n  ;\n\n  function recalculateXOnSemiToAlignOnEllipseCurve(semi) {\n    var rB = semi.rB;\n    var rB2 = rB * rB;\n\n    for (var i = 0; i < semi.list.length; i++) {\n      var item = semi.list[i];\n      var dy = Math.abs(item.label.y - cy); // horizontal r is always same with original r because x is not changed.\n\n      var rA = r + item.len;\n      var rA2 = rA * rA; // Use ellipse implicit function to calculate x\n\n      var dx = Math.sqrt((1 - Math.abs(dy * dy / rB2)) * rA2);\n      item.label.x = cx + (dx + item.len2) * dir;\n    }\n  } // Adjust X based on the shifted y. Make tight labels aligned on an ellipse curve.\n\n\n  function recalculateX(items) {\n    // Extremes of\n    var topSemi = {\n      list: [],\n      maxY: 0\n    };\n    var bottomSemi = {\n      list: [],\n      maxY: 0\n    };\n\n    for (var i = 0; i < items.length; i++) {\n      if (items[i].labelAlignTo !== 'none') {\n        continue;\n      }\n\n      var item = items[i];\n      var semi = item.label.y > cy ? bottomSemi : topSemi;\n      var dy = Math.abs(item.label.y - cy);\n\n      if (dy > semi.maxY) {\n        var dx = item.label.x - cx - item.len2 * dir; // horizontal r is always same with original r because x is not changed.\n\n        var rA = r + item.len; // Canculate rB based on the topest / bottemest label.\n\n        var rB = Math.abs(dx) < rA ? Math.sqrt(dy * dy / (1 - dx * dx / rA / rA)) : rA;\n        semi.rB = rB;\n        semi.maxY = dy;\n      }\n\n      semi.list.push(item);\n    }\n\n    recalculateXOnSemiToAlignOnEllipseCurve(topSemi);\n    recalculateXOnSemiToAlignOnEllipseCurve(bottomSemi);\n  }\n\n  var len = list.length;\n\n  for (var i = 0; i < len; i++) {\n    if (list[i].position === 'outer' && list[i].labelAlignTo === 'labelLine') {\n      var dx = list[i].label.x - farthestX;\n      list[i].linePoints[1][0] += dx;\n      list[i].label.x = farthestX;\n    }\n  }\n\n  if (shiftLayoutOnY(list, viewTop, viewTop + viewHeight)) {\n    recalculateX(list);\n  }\n}\n\nfunction avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight, viewLeft, viewTop) {\n  var leftList = [];\n  var rightList = [];\n  var leftmostX = Number.MAX_VALUE;\n  var rightmostX = -Number.MAX_VALUE;\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    var label = labelLayoutList[i].label;\n\n    if (isPositionCenter(labelLayoutList[i])) {\n      continue;\n    }\n\n    if (label.x < cx) {\n      leftmostX = Math.min(leftmostX, label.x);\n      leftList.push(labelLayoutList[i]);\n    } else {\n      rightmostX = Math.max(rightmostX, label.x);\n      rightList.push(labelLayoutList[i]);\n    }\n  }\n\n  adjustSingleSide(rightList, cx, cy, r, 1, viewWidth, viewHeight, viewLeft, viewTop, rightmostX);\n  adjustSingleSide(leftList, cx, cy, r, -1, viewWidth, viewHeight, viewLeft, viewTop, leftmostX);\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    var layout = labelLayoutList[i];\n    var label = layout.label;\n\n    if (isPositionCenter(layout)) {\n      continue;\n    }\n\n    var linePoints = layout.linePoints;\n\n    if (linePoints) {\n      var isAlignToEdge = layout.labelAlignTo === 'edge';\n      var realTextWidth = layout.rect.width;\n      var targetTextWidth = void 0;\n\n      if (isAlignToEdge) {\n        if (label.x < cx) {\n          targetTextWidth = linePoints[2][0] - layout.labelDistance - viewLeft - layout.edgeDistance;\n        } else {\n          targetTextWidth = viewLeft + viewWidth - layout.edgeDistance - linePoints[2][0] - layout.labelDistance;\n        }\n      } else {\n        if (label.x < cx) {\n          targetTextWidth = label.x - viewLeft - layout.bleedMargin;\n        } else {\n          targetTextWidth = viewLeft + viewWidth - label.x - layout.bleedMargin;\n        }\n      }\n\n      if (targetTextWidth < layout.rect.width) {\n        // TODOTODO\n        // layout.text = textContain.truncateText(layout.text, targetTextWidth, layout.font);\n        layout.label.style.width = targetTextWidth;\n\n        if (layout.labelAlignTo === 'edge') {\n          realTextWidth = targetTextWidth; // realTextWidth = textContain.getWidth(layout.text, layout.font);\n        }\n      }\n\n      var dist = linePoints[1][0] - linePoints[2][0];\n\n      if (isAlignToEdge) {\n        if (label.x < cx) {\n          linePoints[2][0] = viewLeft + layout.edgeDistance + realTextWidth + layout.labelDistance;\n        } else {\n          linePoints[2][0] = viewLeft + viewWidth - layout.edgeDistance - realTextWidth - layout.labelDistance;\n        }\n      } else {\n        if (label.x < cx) {\n          linePoints[2][0] = label.x + layout.labelDistance;\n        } else {\n          linePoints[2][0] = label.x - layout.labelDistance;\n        }\n\n        linePoints[1][0] = linePoints[2][0] + dist;\n      }\n\n      linePoints[1][1] = linePoints[2][1] = label.y;\n    }\n  }\n}\n\nfunction isPositionCenter(sectorShape) {\n  // Not change x for center label\n  return sectorShape.position === 'center';\n}\n\nexport default function pieLabelLayout(seriesModel) {\n  var data = seriesModel.getData();\n  var labelLayoutList = [];\n  var cx;\n  var cy;\n  var hasLabelRotate = false;\n  var minShowLabelRadian = (seriesModel.get('minShowLabelAngle') || 0) * RADIAN;\n  var viewRect = data.getLayout('viewRect');\n  var r = data.getLayout('r');\n  var viewWidth = viewRect.width;\n  var viewLeft = viewRect.x;\n  var viewTop = viewRect.y;\n  var viewHeight = viewRect.height;\n\n  function setNotShow(el) {\n    el.ignore = true;\n  }\n\n  function isLabelShown(label) {\n    if (!label.ignore) {\n      return true;\n    }\n\n    for (var key in label.states) {\n      if (label.states[key].ignore === false) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  data.each(function (idx) {\n    var sector = data.getItemGraphicEl(idx);\n    var sectorShape = sector.shape;\n    var label = sector.getTextContent();\n    var labelLine = sector.getTextGuideLine();\n    var itemModel = data.getItemModel(idx);\n    var labelModel = itemModel.getModel('label'); // Use position in normal or emphasis\n\n    var labelPosition = labelModel.get('position') || itemModel.get(['emphasis', 'label', 'position']);\n    var labelDistance = labelModel.get('distanceToLabelLine');\n    var labelAlignTo = labelModel.get('alignTo');\n    var edgeDistance = parsePercent(labelModel.get('edgeDistance'), viewWidth);\n    var bleedMargin = labelModel.get('bleedMargin');\n    var labelLineModel = itemModel.getModel('labelLine');\n    var labelLineLen = labelLineModel.get('length');\n    labelLineLen = parsePercent(labelLineLen, viewWidth);\n    var labelLineLen2 = labelLineModel.get('length2');\n    labelLineLen2 = parsePercent(labelLineLen2, viewWidth);\n\n    if (Math.abs(sectorShape.endAngle - sectorShape.startAngle) < minShowLabelRadian) {\n      each(label.states, setNotShow);\n      label.ignore = true;\n      return;\n    }\n\n    if (!isLabelShown(label)) {\n      return;\n    }\n\n    var midAngle = (sectorShape.startAngle + sectorShape.endAngle) / 2;\n    var nx = Math.cos(midAngle);\n    var ny = Math.sin(midAngle);\n    var textX;\n    var textY;\n    var linePoints;\n    var textAlign;\n    cx = sectorShape.cx;\n    cy = sectorShape.cy;\n    var isLabelInside = labelPosition === 'inside' || labelPosition === 'inner';\n\n    if (labelPosition === 'center') {\n      textX = sectorShape.cx;\n      textY = sectorShape.cy;\n      textAlign = 'center';\n    } else {\n      var x1 = (isLabelInside ? (sectorShape.r + sectorShape.r0) / 2 * nx : sectorShape.r * nx) + cx;\n      var y1 = (isLabelInside ? (sectorShape.r + sectorShape.r0) / 2 * ny : sectorShape.r * ny) + cy;\n      textX = x1 + nx * 3;\n      textY = y1 + ny * 3;\n\n      if (!isLabelInside) {\n        // For roseType\n        var x2 = x1 + nx * (labelLineLen + r - sectorShape.r);\n        var y2 = y1 + ny * (labelLineLen + r - sectorShape.r);\n        var x3 = x2 + (nx < 0 ? -1 : 1) * labelLineLen2;\n        var y3 = y2;\n\n        if (labelAlignTo === 'edge') {\n          // Adjust textX because text align of edge is opposite\n          textX = nx < 0 ? viewLeft + edgeDistance : viewLeft + viewWidth - edgeDistance;\n        } else {\n          textX = x3 + (nx < 0 ? -labelDistance : labelDistance);\n        }\n\n        textY = y3;\n        linePoints = [[x1, y1], [x2, y2], [x3, y3]];\n      }\n\n      textAlign = isLabelInside ? 'center' : labelAlignTo === 'edge' ? nx > 0 ? 'right' : 'left' : nx > 0 ? 'left' : 'right';\n    }\n\n    var labelRotate;\n    var rotate = labelModel.get('rotate');\n\n    if (typeof rotate === 'number') {\n      labelRotate = rotate * (Math.PI / 180);\n    } else {\n      labelRotate = rotate ? nx < 0 ? -midAngle + Math.PI : -midAngle : 0;\n    }\n\n    hasLabelRotate = !!labelRotate;\n    label.x = textX;\n    label.y = textY;\n    label.rotation = labelRotate;\n    label.setStyle({\n      verticalAlign: 'middle'\n    }); // Not sectorShape the inside label\n\n    if (!isLabelInside) {\n      var textRect = label.getBoundingRect().clone();\n      textRect.applyTransform(label.getComputedTransform()); // Text has a default 1px stroke. Exclude this.\n\n      var margin = (label.style.margin || 0) + 2.1;\n      textRect.y -= margin / 2;\n      textRect.height += margin;\n      labelLayoutList.push({\n        label: label,\n        labelLine: labelLine,\n        position: labelPosition,\n        len: labelLineLen,\n        len2: labelLineLen2,\n        minTurnAngle: labelLineModel.get('minTurnAngle'),\n        maxSurfaceAngle: labelLineModel.get('maxSurfaceAngle'),\n        surfaceNormal: new Point(nx, ny),\n        linePoints: linePoints,\n        textAlign: textAlign,\n        labelDistance: labelDistance,\n        labelAlignTo: labelAlignTo,\n        edgeDistance: edgeDistance,\n        bleedMargin: bleedMargin,\n        rect: textRect\n      });\n    } else {\n      label.setStyle({\n        align: textAlign\n      });\n      var selectState = label.states.select;\n\n      if (selectState) {\n        selectState.x += label.x;\n        selectState.y += label.y;\n      }\n    }\n\n    sector.setTextConfig({\n      inside: isLabelInside\n    });\n  });\n\n  if (!hasLabelRotate && seriesModel.get('avoidLabelOverlap')) {\n    avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight, viewLeft, viewTop);\n  }\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    var layout = labelLayoutList[i];\n    var label = layout.label;\n    var labelLine = layout.labelLine;\n    var notShowLabel = isNaN(label.x) || isNaN(label.y);\n\n    if (label) {\n      label.setStyle({\n        align: layout.textAlign\n      });\n\n      if (notShowLabel) {\n        each(label.states, setNotShow);\n        label.ignore = true;\n      }\n\n      var selectState = label.states.select;\n\n      if (selectState) {\n        selectState.x += label.x;\n        selectState.y += label.y;\n      }\n    }\n\n    if (labelLine) {\n      var linePoints = layout.linePoints;\n\n      if (notShowLabel || !linePoints) {\n        each(labelLine.states, setNotShow);\n        labelLine.ignore = true;\n      } else {\n        limitTurnAngle(linePoints, layout.minTurnAngle);\n        limitSurfaceAngle(linePoints, layout.surfaceNormal, layout.maxSurfaceAngle);\n        labelLine.setShape({\n          points: linePoints\n        }); // Set the anchor to the midpoint of sector\n\n        label.__hostTarget.textGuideLineConfig = {\n          anchor: new Point(linePoints[0][0], linePoints[0][1])\n        };\n      }\n    }\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isArray } from 'zrender/lib/core/util';\nimport { parsePercent } from 'zrender/lib/contain/text';\nexport function getSectorCornerRadius(model, shape) {\n  var cornerRadius = model.get('borderRadius');\n\n  if (cornerRadius == null) {\n    return null;\n  }\n\n  if (!isArray(cornerRadius)) {\n    cornerRadius = [cornerRadius, cornerRadius];\n  }\n\n  return {\n    innerCornerRadius: parsePercent(cornerRadius[0], shape.r0),\n    cornerRadius: parsePercent(cornerRadius[1], shape.r)\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __assign, __extends } from \"tslib\";\nimport { extend, retrieve3 } from 'zrender/lib/core/util';\nimport * as graphic from '../../util/graphic';\nimport { setStatesStylesFromModel, enableHoverEmphasis } from '../../util/states';\nimport ChartView from '../../view/Chart';\nimport labelLayout from './labelLayout';\nimport { setLabelLineStyle, getLabelLineStatesModels } from '../../label/labelGuideHelper';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle';\nimport { getSectorCornerRadius } from '../helper/pieHelper';\n/**\n * Piece of pie including Sector, Label, LabelLine\n */\n\nvar PiePiece =\n/** @class */\nfunction (_super) {\n  __extends(PiePiece, _super);\n\n  function PiePiece(data, idx, startAngle) {\n    var _this = _super.call(this) || this;\n\n    _this.z2 = 2;\n    var text = new graphic.Text();\n\n    _this.setTextContent(text);\n\n    _this.updateData(data, idx, startAngle, true);\n\n    return _this;\n  }\n\n  PiePiece.prototype.updateData = function (data, idx, startAngle, firstCreate) {\n    var sector = this;\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var emphasisModel = itemModel.getModel('emphasis');\n    var layout = data.getItemLayout(idx);\n    var sectorShape = extend(getSectorCornerRadius(itemModel.getModel('itemStyle'), layout) || {}, layout); // Ignore NaN data.\n\n    if (isNaN(sectorShape.startAngle)) {\n      // Use NaN shape to avoid drawing shape.\n      sector.setShape(sectorShape);\n      return;\n    }\n\n    if (firstCreate) {\n      sector.setShape(sectorShape);\n      var animationType = seriesModel.getShallow('animationType');\n\n      if (animationType === 'scale') {\n        sector.shape.r = layout.r0;\n        graphic.initProps(sector, {\n          shape: {\n            r: layout.r\n          }\n        }, seriesModel, idx);\n      } // Expansion\n      else {\n          if (startAngle != null) {\n            sector.setShape({\n              startAngle: startAngle,\n              endAngle: startAngle\n            });\n            graphic.initProps(sector, {\n              shape: {\n                startAngle: layout.startAngle,\n                endAngle: layout.endAngle\n              }\n            }, seriesModel, idx);\n          } else {\n            sector.shape.endAngle = layout.startAngle;\n            graphic.updateProps(sector, {\n              shape: {\n                endAngle: layout.endAngle\n              }\n            }, seriesModel, idx);\n          }\n        }\n    } else {\n      // Transition animation from the old shape\n      graphic.updateProps(sector, {\n        shape: sectorShape\n      }, seriesModel, idx);\n    }\n\n    sector.useStyle(data.getItemVisual(idx, 'style'));\n    setStatesStylesFromModel(sector, itemModel);\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var offset = seriesModel.get('selectedOffset');\n    var dx = Math.cos(midAngle) * offset;\n    var dy = Math.sin(midAngle) * offset;\n    var cursorStyle = itemModel.getShallow('cursor');\n    cursorStyle && sector.attr('cursor', cursorStyle);\n\n    this._updateLabel(seriesModel, data, idx);\n\n    sector.ensureState('emphasis').shape = __assign({\n      r: layout.r + (emphasisModel.get('scale') ? emphasisModel.get('scaleSize') || 0 : 0)\n    }, getSectorCornerRadius(emphasisModel.getModel('itemStyle'), layout));\n    extend(sector.ensureState('select'), {\n      x: dx,\n      y: dy,\n      shape: getSectorCornerRadius(itemModel.getModel(['select', 'itemStyle']), layout)\n    });\n    extend(sector.ensureState('blur'), {\n      shape: getSectorCornerRadius(itemModel.getModel(['blur', 'itemStyle']), layout)\n    });\n    var labelLine = sector.getTextGuideLine();\n    var labelText = sector.getTextContent();\n    labelLine && extend(labelLine.ensureState('select'), {\n      x: dx,\n      y: dy\n    }); // TODO: needs dx, dy in zrender?\n\n    extend(labelText.ensureState('select'), {\n      x: dx,\n      y: dy\n    });\n    enableHoverEmphasis(this, emphasisModel.get('focus'), emphasisModel.get('blurScope'));\n  };\n\n  PiePiece.prototype._updateLabel = function (seriesModel, data, idx) {\n    var sector = this;\n    var itemModel = data.getItemModel(idx);\n    var labelLineModel = itemModel.getModel('labelLine');\n    var style = data.getItemVisual(idx, 'style');\n    var visualColor = style && style.fill;\n    var visualOpacity = style && style.opacity;\n    setLabelStyle(sector, getLabelStatesModels(itemModel), {\n      labelFetcher: data.hostModel,\n      labelDataIndex: idx,\n      inheritColor: visualColor,\n      defaultOpacity: visualOpacity,\n      defaultText: seriesModel.getFormattedLabel(idx, 'normal') || data.getName(idx)\n    });\n    var labelText = sector.getTextContent(); // Set textConfig on sector.\n\n    sector.setTextConfig({\n      // reset position, rotation\n      position: null,\n      rotation: null\n    }); // Make sure update style on labelText after setLabelStyle.\n    // Because setLabelStyle will replace a new style on it.\n\n    labelText.attr({\n      z2: 10\n    });\n    var labelPosition = seriesModel.get(['label', 'position']);\n\n    if (labelPosition !== 'outside' && labelPosition !== 'outer') {\n      sector.removeTextGuideLine();\n    } else {\n      var polyline = this.getTextGuideLine();\n\n      if (!polyline) {\n        polyline = new graphic.Polyline();\n        this.setTextGuideLine(polyline);\n      } // Default use item visual color\n\n\n      setLabelLineStyle(this, getLabelLineStatesModels(itemModel), {\n        stroke: visualColor,\n        opacity: retrieve3(labelLineModel.get(['lineStyle', 'opacity']), visualOpacity, 1)\n      });\n    }\n  };\n\n  return PiePiece;\n}(graphic.Sector); // Pie view\n\n\nvar PieView =\n/** @class */\nfunction (_super) {\n  __extends(PieView, _super);\n\n  function PieView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.ignoreLabelLineUpdate = true;\n    return _this;\n  }\n\n  PieView.prototype.init = function () {\n    var sectorGroup = new graphic.Group();\n    this._sectorGroup = sectorGroup;\n  };\n\n  PieView.prototype.render = function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    var startAngle; // First render\n\n    if (!oldData && data.count() > 0) {\n      var shape = data.getItemLayout(0);\n\n      for (var s = 1; isNaN(shape && shape.startAngle) && s < data.count(); ++s) {\n        shape = data.getItemLayout(s);\n      }\n\n      if (shape) {\n        startAngle = shape.startAngle;\n      }\n    }\n\n    data.diff(oldData).add(function (idx) {\n      var piePiece = new PiePiece(data, idx, startAngle);\n      data.setItemGraphicEl(idx, piePiece);\n      group.add(piePiece);\n    }).update(function (newIdx, oldIdx) {\n      var piePiece = oldData.getItemGraphicEl(oldIdx);\n      piePiece.updateData(data, newIdx, startAngle);\n      piePiece.off('click');\n      group.add(piePiece);\n      data.setItemGraphicEl(newIdx, piePiece);\n    }).remove(function (idx) {\n      var piePiece = oldData.getItemGraphicEl(idx);\n      graphic.removeElementWithFadeOut(piePiece, seriesModel, idx);\n    }).execute();\n    labelLayout(seriesModel); // Always use initial animation.\n\n    if (seriesModel.get('animationTypeUpdate') !== 'expansion') {\n      this._data = data;\n    }\n  };\n\n  PieView.prototype.dispose = function () {};\n\n  PieView.prototype.containPoint = function (point, seriesModel) {\n    var data = seriesModel.getData();\n    var itemLayout = data.getItemLayout(0);\n\n    if (itemLayout) {\n      var dx = point[0] - itemLayout.cx;\n      var dy = point[1] - itemLayout.cy;\n      var radius = Math.sqrt(dx * dx + dy * dy);\n      return radius <= itemLayout.r && radius >= itemLayout.r0;\n    }\n  };\n\n  PieView.type = 'pie';\n  return PieView;\n}(ChartView);\n\nexport default PieView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport createDimensions from '../../data/helper/createDimensions';\nimport List from '../../data/List';\nimport { extend, isArray } from 'zrender/lib/core/util';\n/**\n * [Usage]:\n * (1)\n * createListSimply(seriesModel, ['value']);\n * (2)\n * createListSimply(seriesModel, {\n *     coordDimensions: ['value'],\n *     dimensionsCount: 5\n * });\n */\n\nexport default function createListSimply(seriesModel, opt, nameList) {\n  opt = isArray(opt) && {\n    coordDimensions: opt\n  } || extend({}, opt);\n  var source = seriesModel.getSource();\n  var dimensionsInfo = createDimensions(source, opt);\n  var list = new List(dimensionsInfo, seriesModel);\n  list.initData(source, nameList);\n  return list;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * LegendVisualProvider is an bridge that pick encoded color from data and\n * provide to the legend component.\n */\nvar LegendVisualProvider =\n/** @class */\nfunction () {\n  function LegendVisualProvider( // Function to get data after filtered. It stores all the encoding info\n  getDataWithEncodedVisual, // Function to get raw data before filtered.\n  getRawData) {\n    this._getDataWithEncodedVisual = getDataWithEncodedVisual;\n    this._getRawData = getRawData;\n  }\n\n  LegendVisualProvider.prototype.getAllNames = function () {\n    var rawData = this._getRawData(); // We find the name from the raw data. In case it's filtered by the legend component.\n    // Normally, the name can be found in rawData, but can't be found in filtered data will display as gray.\n\n\n    return rawData.mapArray(rawData.getName);\n  };\n\n  LegendVisualProvider.prototype.containName = function (name) {\n    var rawData = this._getRawData();\n\n    return rawData.indexOfName(name) >= 0;\n  };\n\n  LegendVisualProvider.prototype.indexOfName = function (name) {\n    // Only get data when necessary.\n    // Because LegendVisualProvider constructor may be new in the stage that data is not prepared yet.\n    // Invoking Series#getData immediately will throw an error.\n    var dataWithEncodedVisual = this._getDataWithEncodedVisual();\n\n    return dataWithEncodedVisual.indexOfName(name);\n  };\n\n  LegendVisualProvider.prototype.getItemVisual = function (dataIndex, key) {\n    // Get encoded visual properties from final filtered data.\n    var dataWithEncodedVisual = this._getDataWithEncodedVisual();\n\n    return dataWithEncodedVisual.getItemVisual(dataIndex, key);\n  };\n\n  return LegendVisualProvider;\n}();\n\nexport default LegendVisualProvider;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport createListSimply from '../helper/createListSimply';\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as modelUtil from '../../util/model';\nimport { getPercentWithPrecision } from '../../util/number';\nimport { makeSeriesEncodeForNameBased } from '../../data/helper/sourceHelper';\nimport LegendVisualProvider from '../../visual/LegendVisualProvider';\nimport SeriesModel from '../../model/Series';\n\nvar PieSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(PieSeriesModel, _super);\n\n  function PieSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.useColorPaletteOnData = true;\n    return _this;\n  }\n  /**\n   * @overwrite\n   */\n\n\n  PieSeriesModel.prototype.init = function (option) {\n    _super.prototype.init.apply(this, arguments); // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n\n    this.legendVisualProvider = new LegendVisualProvider(zrUtil.bind(this.getData, this), zrUtil.bind(this.getRawData, this));\n\n    this._defaultLabelLine(option);\n  };\n  /**\n   * @overwrite\n   */\n\n\n  PieSeriesModel.prototype.mergeOption = function () {\n    _super.prototype.mergeOption.apply(this, arguments);\n  };\n  /**\n   * @overwrite\n   */\n\n\n  PieSeriesModel.prototype.getInitialData = function () {\n    return createListSimply(this, {\n      coordDimensions: ['value'],\n      encodeDefaulter: zrUtil.curry(makeSeriesEncodeForNameBased, this)\n    });\n  };\n  /**\n   * @overwrite\n   */\n\n\n  PieSeriesModel.prototype.getDataParams = function (dataIndex) {\n    var data = this.getData();\n\n    var params = _super.prototype.getDataParams.call(this, dataIndex); // FIXME toFixed?\n\n\n    var valueList = [];\n    data.each(data.mapDimension('value'), function (value) {\n      valueList.push(value);\n    });\n    params.percent = getPercentWithPrecision(valueList, dataIndex, data.hostModel.get('percentPrecision'));\n    params.$vars.push('percent');\n    return params;\n  };\n\n  PieSeriesModel.prototype._defaultLabelLine = function (option) {\n    // Extend labelLine emphasis\n    modelUtil.defaultEmphasis(option, 'labelLine', ['show']);\n    var labelLineNormalOpt = option.labelLine;\n    var labelLineEmphasisOpt = option.emphasis.labelLine; // Not show label line if `label.normal.show = false`\n\n    labelLineNormalOpt.show = labelLineNormalOpt.show && option.label.show;\n    labelLineEmphasisOpt.show = labelLineEmphasisOpt.show && option.emphasis.label.show;\n  };\n\n  PieSeriesModel.type = 'series.pie';\n  PieSeriesModel.defaultOption = {\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    // 默认全局居中\n    center: ['50%', '50%'],\n    radius: [0, '75%'],\n    // 默认顺时针\n    clockwise: true,\n    startAngle: 90,\n    // 最小角度改为0\n    minAngle: 0,\n    // If the angle of a sector less than `minShowLabelAngle`,\n    // the label will not be displayed.\n    minShowLabelAngle: 0,\n    // 选中时扇区偏移量\n    selectedOffset: 10,\n    // 选择模式，默认关闭，可选single，multiple\n    // selectedMode: false,\n    // 南丁格尔玫瑰图模式，'radius'（半径） | 'area'（面积）\n    // roseType: null,\n    percentPrecision: 2,\n    // If still show when all data zero.\n    stillShowZeroSum: true,\n    // cursor: null,\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    width: null,\n    height: null,\n    label: {\n      // color: 'inherit',\n      // If rotate around circle\n      rotate: 0,\n      show: true,\n      overflow: 'truncate',\n      // 'outer', 'inside', 'center'\n      position: 'outer',\n      // 'none', 'labelLine', 'edge'. Works only when position is 'outer'\n      alignTo: 'none',\n      // Closest distance between label and chart edge.\n      // Works only position is 'outer' and alignTo is 'edge'.\n      edgeDistance: '25%',\n      // Works only position is 'outer' and alignTo is not 'edge'.\n      bleedMargin: 10,\n      // Distance between text and label line.\n      distanceToLabelLine: 5 // formatter: 标签文本格式器，同Tooltip.formatter，不支持异步回调\n      // 默认使用全局文本样式，详见TEXTSTYLE\n      // distance: 当position为inner时有效，为label位置到圆心的距离与圆半径(环状图为内外半径和)的比例系数\n\n    },\n    // Enabled when label.normal.position is 'outer'\n    labelLine: {\n      show: true,\n      // 引导线两段中的第一段长度\n      length: 15,\n      // 引导线两段中的第二段长度\n      length2: 15,\n      smooth: false,\n      minTurnAngle: 90,\n      maxSurfaceAngle: 90,\n      lineStyle: {\n        // color: 各异,\n        width: 1,\n        type: 'solid'\n      }\n    },\n    itemStyle: {\n      borderWidth: 1\n    },\n    labelLayout: {\n      // Hide the overlapped label.\n      hideOverlap: true\n    },\n    emphasis: {\n      scale: true,\n      scaleSize: 5\n    },\n    // If use strategy to avoid label overlapping\n    avoidLabelOverlap: true,\n    // Animation type. Valid values: expansion, scale\n    animationType: 'expansion',\n    animationDuration: 1000,\n    // Animation type when update. Valid values: transition, expansion\n    animationTypeUpdate: 'transition',\n    animationEasingUpdate: 'cubicInOut',\n    animationDurationUpdate: 500,\n    animationEasing: 'cubicInOut'\n  };\n  return PieSeriesModel;\n}(SeriesModel);\n\nexport default PieSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createLegacyDataSelectAction } from '../../legacy/dataSelectAction';\nimport pieLayout from '../pie/pieLayout';\nimport dataFilter from '../../processor/dataFilter';\nimport { curry } from 'zrender/lib/core/util';\nimport PieView from './PieView';\nimport PieSeriesModel from './PieSeries';\nexport function install(registers) {\n  registers.registerChartView(PieView);\n  registers.registerSeriesModel(PieSeriesModel);\n  createLegacyDataSelectAction('pie', registers.registerAction);\n  registers.registerLayout(curry(pieLayout, 'pie'));\n  registers.registerProcessor(dataFilter('pie'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport createListFromArray from '../helper/createListFromArray';\nimport SeriesModel from '../../model/Series';\nimport { createSymbol } from '../../util/symbol';\nimport { Group } from '../../util/graphic';\n\nvar LineSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(LineSeriesModel, _super);\n\n  function LineSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = LineSeriesModel.type;\n    _this.hasSymbolVisual = true;\n    return _this;\n  }\n\n  LineSeriesModel.prototype.getInitialData = function (option) {\n    if (process.env.NODE_ENV !== 'production') {\n      var coordSys = option.coordinateSystem;\n\n      if (coordSys !== 'polar' && coordSys !== 'cartesian2d') {\n        throw new Error('Line not support coordinateSystem besides cartesian and polar');\n      }\n    }\n\n    return createListFromArray(this.getSource(), this, {\n      useEncodeDefaulter: true\n    });\n  };\n\n  LineSeriesModel.prototype.getLegendIcon = function (opt) {\n    var group = new Group();\n    var line = createSymbol('line', 0, opt.itemHeight / 2, opt.itemWidth, 0, opt.lineStyle.stroke, false);\n    group.add(line);\n    line.setStyle(opt.lineStyle);\n    var visualType = this.getData().getVisual('symbol');\n    var visualRotate = this.getData().getVisual('symbolRotate');\n    var symbolType = visualType === 'none' ? 'circle' : visualType; // Symbol size is 80% when there is a line\n\n    var size = opt.itemHeight * 0.8;\n    var symbol = createSymbol(symbolType, (opt.itemWidth - size) / 2, (opt.itemHeight - size) / 2, size, size, opt.itemStyle.fill);\n    group.add(symbol);\n    symbol.setStyle(opt.itemStyle);\n    var symbolRotate = opt.iconRotate === 'inherit' ? visualRotate : opt.iconRotate || 0;\n    symbol.rotation = symbolRotate * Math.PI / 180;\n    symbol.setOrigin([opt.itemWidth / 2, opt.itemHeight / 2]);\n\n    if (symbolType.indexOf('empty') > -1) {\n      symbol.style.stroke = symbol.style.fill;\n      symbol.style.fill = '#fff';\n      symbol.style.lineWidth = 2;\n    }\n\n    return group;\n  };\n\n  LineSeriesModel.type = 'series.line';\n  LineSeriesModel.dependencies = ['grid', 'polar'];\n  LineSeriesModel.defaultOption = {\n    zlevel: 0,\n    z: 3,\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    clip: true,\n    label: {\n      position: 'top'\n    },\n    // itemStyle: {\n    // },\n    endLabel: {\n      show: false,\n      valueAnimation: true,\n      distance: 8\n    },\n    lineStyle: {\n      width: 2,\n      type: 'solid'\n    },\n    emphasis: {\n      scale: true,\n      lineStyle: {\n        width: 'bolder'\n      }\n    },\n    // areaStyle: {\n    // origin of areaStyle. Valid values:\n    // `'auto'/null/undefined`: from axisLine to data\n    // `'start'`: from min to data\n    // `'end'`: from data to max\n    // origin: 'auto'\n    // },\n    // false, 'start', 'end', 'middle'\n    step: false,\n    // Disabled if step is true\n    smooth: false,\n    smoothMonotone: null,\n    symbol: 'emptyCircle',\n    symbolSize: 4,\n    symbolRotate: null,\n    showSymbol: true,\n    // `false`: follow the label interval strategy.\n    // `true`: show all symbols.\n    // `'auto'`: If possible, show all symbols, otherwise\n    //           follow the label interval strategy.\n    showAllSymbol: 'auto',\n    // Whether to connect break point.\n    connectNulls: false,\n    // Sampling for large data. Can be: 'average', 'max', 'min', 'sum', 'lttb'.\n    sampling: 'none',\n    animationEasing: 'linear',\n    // Disable progressive\n    progressive: 0,\n    hoverLayerThreshold: Infinity\n  };\n  return LineSeriesModel;\n}(SeriesModel);\n\nexport default LineSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { createSymbol } from '../../util/symbol';\nimport * as graphic from '../../util/graphic';\nimport { getECData } from '../../util/innerStore';\nimport { enterEmphasis, leaveEmphasis, enableHoverEmphasis } from '../../util/states';\nimport { parsePercent } from '../../util/number';\nimport { getDefaultLabel } from './labelHelper';\nimport { extend, isArray, retrieve2 } from 'zrender/lib/core/util';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle';\nimport ZRImage from 'zrender/lib/graphic/Image';\n\nvar Symbol =\n/** @class */\nfunction (_super) {\n  __extends(Symbol, _super);\n\n  function Symbol(data, idx, seriesScope, opts) {\n    var _this = _super.call(this) || this;\n\n    _this.updateData(data, idx, seriesScope, opts);\n\n    return _this;\n  }\n\n  Symbol.prototype._createSymbol = function (symbolType, data, idx, symbolSize, keepAspect) {\n    // Remove paths created before\n    this.removeAll(); // let symbolPath = createSymbol(\n    //     symbolType, -0.5, -0.5, 1, 1, color\n    // );\n    // If width/height are set too small (e.g., set to 1) on ios10\n    // and macOS Sierra, a circle stroke become a rect, no matter what\n    // the scale is set. So we set width/height as 2. See #4150.\n\n    var symbolPath = createSymbol(symbolType, -1, -1, 2, 2, null, keepAspect);\n    symbolPath.attr({\n      z2: 100,\n      culling: true,\n      scaleX: symbolSize[0] / 2,\n      scaleY: symbolSize[1] / 2\n    }); // Rewrite drift method\n\n    symbolPath.drift = driftSymbol;\n    this._symbolType = symbolType;\n    this.add(symbolPath);\n  };\n  /**\n   * Stop animation\n   * @param {boolean} toLastFrame\n   */\n\n\n  Symbol.prototype.stopSymbolAnimation = function (toLastFrame) {\n    this.childAt(0).stopAnimation(null, toLastFrame);\n  };\n  /**\n   * FIXME:\n   * Caution: This method breaks the encapsulation of this module,\n   * but it indeed brings convenience. So do not use the method\n   * unless you detailedly know all the implements of `Symbol`,\n   * especially animation.\n   *\n   * Get symbol path element.\n   */\n\n\n  Symbol.prototype.getSymbolPath = function () {\n    return this.childAt(0);\n  };\n  /**\n   * Highlight symbol\n   */\n\n\n  Symbol.prototype.highlight = function () {\n    enterEmphasis(this.childAt(0));\n  };\n  /**\n   * Downplay symbol\n   */\n\n\n  Symbol.prototype.downplay = function () {\n    leaveEmphasis(this.childAt(0));\n  };\n  /**\n   * @param {number} zlevel\n   * @param {number} z\n   */\n\n\n  Symbol.prototype.setZ = function (zlevel, z) {\n    var symbolPath = this.childAt(0);\n    symbolPath.zlevel = zlevel;\n    symbolPath.z = z;\n  };\n\n  Symbol.prototype.setDraggable = function (draggable) {\n    var symbolPath = this.childAt(0);\n    symbolPath.draggable = draggable;\n    symbolPath.cursor = draggable ? 'move' : symbolPath.cursor;\n  };\n  /**\n   * Update symbol properties\n   */\n\n\n  Symbol.prototype.updateData = function (data, idx, seriesScope, opts) {\n    this.silent = false;\n    var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n    var seriesModel = data.hostModel;\n    var symbolSize = Symbol.getSymbolSize(data, idx);\n    var isInit = symbolType !== this._symbolType;\n    var disableAnimation = opts && opts.disableAnimation;\n\n    if (isInit) {\n      var keepAspect = data.getItemVisual(idx, 'symbolKeepAspect');\n\n      this._createSymbol(symbolType, data, idx, symbolSize, keepAspect);\n    } else {\n      var symbolPath = this.childAt(0);\n      symbolPath.silent = false;\n      var target = {\n        scaleX: symbolSize[0] / 2,\n        scaleY: symbolSize[1] / 2\n      };\n      disableAnimation ? symbolPath.attr(target) : graphic.updateProps(symbolPath, target, seriesModel, idx);\n    }\n\n    this._updateCommon(data, idx, symbolSize, seriesScope, opts);\n\n    if (isInit) {\n      var symbolPath = this.childAt(0);\n\n      if (!disableAnimation) {\n        var target = {\n          scaleX: this._sizeX,\n          scaleY: this._sizeY,\n          style: {\n            // Always fadeIn. Because it has fadeOut animation when symbol is removed..\n            opacity: symbolPath.style.opacity\n          }\n        };\n        symbolPath.scaleX = symbolPath.scaleY = 0;\n        symbolPath.style.opacity = 0;\n        graphic.initProps(symbolPath, target, seriesModel, idx);\n      }\n    }\n\n    if (disableAnimation) {\n      // Must stop remove animation manually if don't call initProps or updateProps.\n      this.childAt(0).stopAnimation('remove');\n    }\n\n    this._seriesModel = seriesModel;\n  };\n\n  Symbol.prototype._updateCommon = function (data, idx, symbolSize, seriesScope, opts) {\n    var symbolPath = this.childAt(0);\n    var seriesModel = data.hostModel;\n    var emphasisItemStyle;\n    var blurItemStyle;\n    var selectItemStyle;\n    var focus;\n    var blurScope;\n    var labelStatesModels;\n    var hoverScale;\n    var cursorStyle;\n\n    if (seriesScope) {\n      emphasisItemStyle = seriesScope.emphasisItemStyle;\n      blurItemStyle = seriesScope.blurItemStyle;\n      selectItemStyle = seriesScope.selectItemStyle;\n      focus = seriesScope.focus;\n      blurScope = seriesScope.blurScope;\n      labelStatesModels = seriesScope.labelStatesModels;\n      hoverScale = seriesScope.hoverScale;\n      cursorStyle = seriesScope.cursorStyle;\n    }\n\n    if (!seriesScope || data.hasItemOption) {\n      var itemModel = seriesScope && seriesScope.itemModel ? seriesScope.itemModel : data.getItemModel(idx);\n      var emphasisModel = itemModel.getModel('emphasis');\n      emphasisItemStyle = emphasisModel.getModel('itemStyle').getItemStyle();\n      selectItemStyle = itemModel.getModel(['select', 'itemStyle']).getItemStyle();\n      blurItemStyle = itemModel.getModel(['blur', 'itemStyle']).getItemStyle();\n      focus = emphasisModel.get('focus');\n      blurScope = emphasisModel.get('blurScope');\n      labelStatesModels = getLabelStatesModels(itemModel);\n      hoverScale = emphasisModel.getShallow('scale');\n      cursorStyle = itemModel.getShallow('cursor');\n    }\n\n    var symbolRotate = data.getItemVisual(idx, 'symbolRotate');\n    symbolPath.attr('rotation', (symbolRotate || 0) * Math.PI / 180 || 0);\n    var symbolOffset = data.getItemVisual(idx, 'symbolOffset') || 0;\n\n    if (symbolOffset) {\n      if (!isArray(symbolOffset)) {\n        symbolOffset = [symbolOffset, symbolOffset];\n      }\n\n      symbolPath.x = parsePercent(symbolOffset[0], symbolSize[0]);\n      symbolPath.y = parsePercent(retrieve2(symbolOffset[1], symbolOffset[0]) || 0, symbolSize[1]);\n    }\n\n    cursorStyle && symbolPath.attr('cursor', cursorStyle);\n    var symbolStyle = data.getItemVisual(idx, 'style');\n    var visualColor = symbolStyle.fill;\n\n    if (symbolPath instanceof ZRImage) {\n      var pathStyle = symbolPath.style;\n      symbolPath.useStyle(extend({\n        // TODO other properties like x, y ?\n        image: pathStyle.image,\n        x: pathStyle.x,\n        y: pathStyle.y,\n        width: pathStyle.width,\n        height: pathStyle.height\n      }, symbolStyle));\n    } else {\n      if (symbolPath.__isEmptyBrush) {\n        // fill and stroke will be swapped if it's empty.\n        // So we cloned a new style to avoid it affecting the original style in visual storage.\n        // TODO Better implementation. No empty logic!\n        symbolPath.useStyle(extend({}, symbolStyle));\n      } else {\n        symbolPath.useStyle(symbolStyle);\n      } // Disable decal because symbol scale will been applied on the decal.\n\n\n      symbolPath.style.decal = null;\n      symbolPath.setColor(visualColor, opts && opts.symbolInnerColor);\n      symbolPath.style.strokeNoScale = true;\n    }\n\n    var liftZ = data.getItemVisual(idx, 'liftZ');\n    var z2Origin = this._z2;\n\n    if (liftZ != null) {\n      if (z2Origin == null) {\n        this._z2 = symbolPath.z2;\n        symbolPath.z2 += liftZ;\n      }\n    } else if (z2Origin != null) {\n      symbolPath.z2 = z2Origin;\n      this._z2 = null;\n    }\n\n    var useNameLabel = opts && opts.useNameLabel;\n    setLabelStyle(symbolPath, labelStatesModels, {\n      labelFetcher: seriesModel,\n      labelDataIndex: idx,\n      defaultText: getLabelDefaultText,\n      inheritColor: visualColor,\n      defaultOpacity: symbolStyle.opacity\n    }); // Do not execute util needed.\n\n    function getLabelDefaultText(idx) {\n      return useNameLabel ? data.getName(idx) : getDefaultLabel(data, idx);\n    }\n\n    this._sizeX = symbolSize[0] / 2;\n    this._sizeY = symbolSize[1] / 2;\n    var emphasisState = symbolPath.ensureState('emphasis');\n    emphasisState.style = emphasisItemStyle;\n    symbolPath.ensureState('select').style = selectItemStyle;\n    symbolPath.ensureState('blur').style = blurItemStyle;\n\n    if (hoverScale) {\n      var scaleRatio = Math.max(1.1, 3 / this._sizeY);\n      emphasisState.scaleX = this._sizeX * scaleRatio;\n      emphasisState.scaleY = this._sizeY * scaleRatio;\n    }\n\n    this.setSymbolScale(1);\n    enableHoverEmphasis(this, focus, blurScope);\n  };\n\n  Symbol.prototype.setSymbolScale = function (scale) {\n    this.scaleX = this.scaleY = scale;\n  };\n\n  Symbol.prototype.fadeOut = function (cb, opt) {\n    var symbolPath = this.childAt(0);\n    var seriesModel = this._seriesModel;\n    var dataIndex = getECData(this).dataIndex;\n    var animationOpt = opt && opt.animation; // Avoid mistaken hover when fading out\n\n    this.silent = symbolPath.silent = true; // Not show text when animating\n\n    if (opt && opt.fadeLabel) {\n      var textContent = symbolPath.getTextContent();\n\n      if (textContent) {\n        graphic.removeElement(textContent, {\n          style: {\n            opacity: 0\n          }\n        }, seriesModel, {\n          dataIndex: dataIndex,\n          removeOpt: animationOpt,\n          cb: function () {\n            symbolPath.removeTextContent();\n          }\n        });\n      }\n    } else {\n      symbolPath.removeTextContent();\n    }\n\n    graphic.removeElement(symbolPath, {\n      style: {\n        opacity: 0\n      },\n      scaleX: 0,\n      scaleY: 0\n    }, seriesModel, {\n      dataIndex: dataIndex,\n      cb: cb,\n      removeOpt: animationOpt\n    });\n  };\n\n  Symbol.getSymbolSize = function (data, idx) {\n    var symbolSize = data.getItemVisual(idx, 'symbolSize');\n    return isArray(symbolSize) ? symbolSize.slice() : [+symbolSize, +symbolSize];\n  };\n\n  return Symbol;\n}(graphic.Group);\n\nfunction driftSymbol(dx, dy) {\n  this.parent.drift(dx, dy);\n}\n\nexport default Symbol;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as graphic from '../../util/graphic';\nimport SymbolClz from './Symbol';\nimport { isObject } from 'zrender/lib/core/util';\nimport { getLabelStatesModels } from '../../label/labelStyle';\n\nfunction symbolNeedsDraw(data, point, idx, opt) {\n  return point && !isNaN(point[0]) && !isNaN(point[1]) && !(opt.isIgnore && opt.isIgnore(idx)) // We do not set clipShape on group, because it will cut part of\n  // the symbol element shape. We use the same clip shape here as\n  // the line clip.\n  && !(opt.clipShape && !opt.clipShape.contain(point[0], point[1])) && data.getItemVisual(idx, 'symbol') !== 'none';\n}\n\nfunction normalizeUpdateOpt(opt) {\n  if (opt != null && !isObject(opt)) {\n    opt = {\n      isIgnore: opt\n    };\n  }\n\n  return opt || {};\n}\n\nfunction makeSeriesScope(data) {\n  var seriesModel = data.hostModel;\n  var emphasisModel = seriesModel.getModel('emphasis');\n  return {\n    emphasisItemStyle: emphasisModel.getModel('itemStyle').getItemStyle(),\n    blurItemStyle: seriesModel.getModel(['blur', 'itemStyle']).getItemStyle(),\n    selectItemStyle: seriesModel.getModel(['select', 'itemStyle']).getItemStyle(),\n    focus: emphasisModel.get('focus'),\n    blurScope: emphasisModel.get('blurScope'),\n    hoverScale: emphasisModel.get('scale'),\n    labelStatesModels: getLabelStatesModels(seriesModel),\n    cursorStyle: seriesModel.get('cursor')\n  };\n}\n\nvar SymbolDraw =\n/** @class */\nfunction () {\n  function SymbolDraw(SymbolCtor) {\n    this.group = new graphic.Group();\n    this._SymbolCtor = SymbolCtor || SymbolClz;\n  }\n  /**\n   * Update symbols draw by new data\n   */\n\n\n  SymbolDraw.prototype.updateData = function (data, opt) {\n    opt = normalizeUpdateOpt(opt);\n    var group = this.group;\n    var seriesModel = data.hostModel;\n    var oldData = this._data;\n    var SymbolCtor = this._SymbolCtor;\n    var disableAnimation = opt.disableAnimation;\n    var seriesScope = makeSeriesScope(data);\n    var symbolUpdateOpt = {\n      disableAnimation: disableAnimation\n    };\n\n    var getSymbolPoint = opt.getSymbolPoint || function (idx) {\n      return data.getItemLayout(idx);\n    }; // There is no oldLineData only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n\n\n    if (!oldData) {\n      group.removeAll();\n    }\n\n    data.diff(oldData).add(function (newIdx) {\n      var point = getSymbolPoint(newIdx);\n\n      if (symbolNeedsDraw(data, point, newIdx, opt)) {\n        var symbolEl = new SymbolCtor(data, newIdx, seriesScope, symbolUpdateOpt);\n        symbolEl.setPosition(point);\n        data.setItemGraphicEl(newIdx, symbolEl);\n        group.add(symbolEl);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx);\n      var point = getSymbolPoint(newIdx);\n\n      if (!symbolNeedsDraw(data, point, newIdx, opt)) {\n        group.remove(symbolEl);\n        return;\n      }\n\n      if (!symbolEl) {\n        symbolEl = new SymbolCtor(data, newIdx);\n        symbolEl.setPosition(point);\n      } else {\n        symbolEl.updateData(data, newIdx, seriesScope, symbolUpdateOpt);\n        var target = {\n          x: point[0],\n          y: point[1]\n        };\n        disableAnimation ? symbolEl.attr(target) : graphic.updateProps(symbolEl, target, seriesModel);\n      } // Add back\n\n\n      group.add(symbolEl);\n      data.setItemGraphicEl(newIdx, symbolEl);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && el.fadeOut(function () {\n        group.remove(el);\n      });\n    }).execute();\n    this._getSymbolPoint = getSymbolPoint;\n    this._data = data;\n  };\n\n  ;\n\n  SymbolDraw.prototype.isPersistent = function () {\n    return true;\n  };\n\n  ;\n\n  SymbolDraw.prototype.updateLayout = function () {\n    var _this = this;\n\n    var data = this._data;\n\n    if (data) {\n      // Not use animation\n      data.eachItemGraphicEl(function (el, idx) {\n        var point = _this._getSymbolPoint(idx);\n\n        el.setPosition(point);\n        el.markRedraw();\n      });\n    }\n  };\n\n  ;\n\n  SymbolDraw.prototype.incrementalPrepareUpdate = function (data) {\n    this._seriesScope = makeSeriesScope(data);\n    this._data = null;\n    this.group.removeAll();\n  };\n\n  ;\n  /**\n   * Update symbols draw by new data\n   */\n\n  SymbolDraw.prototype.incrementalUpdate = function (taskParams, data, opt) {\n    opt = normalizeUpdateOpt(opt);\n\n    function updateIncrementalAndHover(el) {\n      if (!el.isGroup) {\n        el.incremental = true;\n        el.ensureState('emphasis').hoverLayer = true;\n      }\n    }\n\n    for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n      var point = data.getItemLayout(idx);\n\n      if (symbolNeedsDraw(data, point, idx, opt)) {\n        var el = new this._SymbolCtor(data, idx, this._seriesScope);\n        el.traverse(updateIncrementalAndHover);\n        el.setPosition(point);\n        this.group.add(el);\n        data.setItemGraphicEl(idx, el);\n      }\n    }\n  };\n\n  ;\n\n  SymbolDraw.prototype.remove = function (enableAnimation) {\n    var group = this.group;\n    var data = this._data; // Incremental model do not have this._data.\n\n    if (data && enableAnimation) {\n      data.eachItemGraphicEl(function (el) {\n        el.fadeOut(function () {\n          group.remove(el);\n        });\n      });\n    } else {\n      group.removeAll();\n    }\n  };\n\n  ;\n  return SymbolDraw;\n}();\n\nexport default SymbolDraw;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isDimensionStacked } from '../../data/helper/dataStackHelper';\nimport { map } from 'zrender/lib/core/util';\nexport function prepareDataCoordInfo(coordSys, data, valueOrigin) {\n  var baseAxis = coordSys.getBaseAxis();\n  var valueAxis = coordSys.getOtherAxis(baseAxis);\n  var valueStart = getValueStart(valueAxis, valueOrigin);\n  var baseAxisDim = baseAxis.dim;\n  var valueAxisDim = valueAxis.dim;\n  var valueDim = data.mapDimension(valueAxisDim);\n  var baseDim = data.mapDimension(baseAxisDim);\n  var baseDataOffset = valueAxisDim === 'x' || valueAxisDim === 'radius' ? 1 : 0;\n  var dims = map(coordSys.dimensions, function (coordDim) {\n    return data.mapDimension(coordDim);\n  });\n  var stacked = false;\n  var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n  if (isDimensionStacked(data, dims[0]\n  /*, dims[1]*/\n  )) {\n    // jshint ignore:line\n    stacked = true;\n    dims[0] = stackResultDim;\n  }\n\n  if (isDimensionStacked(data, dims[1]\n  /*, dims[0]*/\n  )) {\n    // jshint ignore:line\n    stacked = true;\n    dims[1] = stackResultDim;\n  }\n\n  return {\n    dataDimsForPoint: dims,\n    valueStart: valueStart,\n    valueAxisDim: valueAxisDim,\n    baseAxisDim: baseAxisDim,\n    stacked: !!stacked,\n    valueDim: valueDim,\n    baseDim: baseDim,\n    baseDataOffset: baseDataOffset,\n    stackedOverDimension: data.getCalculationInfo('stackedOverDimension')\n  };\n}\n\nfunction getValueStart(valueAxis, valueOrigin) {\n  var valueStart = 0;\n  var extent = valueAxis.scale.getExtent();\n\n  if (valueOrigin === 'start') {\n    valueStart = extent[0];\n  } else if (valueOrigin === 'end') {\n    valueStart = extent[1];\n  } // auto\n  else {\n      // Both positive\n      if (extent[0] > 0) {\n        valueStart = extent[0];\n      } // Both negative\n      else if (extent[1] < 0) {\n          valueStart = extent[1];\n        } // If is one positive, and one negative, onZero shall be true\n\n    }\n\n  return valueStart;\n}\n\nexport function getStackedOnPoint(dataCoordInfo, coordSys, data, idx) {\n  var value = NaN;\n\n  if (dataCoordInfo.stacked) {\n    value = data.get(data.getCalculationInfo('stackedOverDimension'), idx);\n  }\n\n  if (isNaN(value)) {\n    value = dataCoordInfo.valueStart;\n  }\n\n  var baseDataOffset = dataCoordInfo.baseDataOffset;\n  var stackedData = [];\n  stackedData[baseDataOffset] = data.get(dataCoordInfo.baseDim, idx);\n  stackedData[1 - baseDataOffset] = value;\n  return coordSys.dataToPoint(stackedData);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isArray } from 'zrender/lib/core/util';\n/* global Float32Array */\n\nvar supportFloat32Array = typeof Float32Array !== 'undefined';\nvar Float32ArrayCtor = !supportFloat32Array ? Array : Float32Array;\nexport function createFloat32Array(arg) {\n  if (isArray(arg)) {\n    // Return self directly if don't support TypedArray.\n    return supportFloat32Array ? new Float32Array(arg) : arg;\n  } // Else is number\n\n\n  return new Float32ArrayCtor(arg);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { prepareDataCoordInfo, getStackedOnPoint } from './helper';\nimport { createFloat32Array } from '../../util/vendor';\n\nfunction diffData(oldData, newData) {\n  var diffResult = [];\n  newData.diff(oldData).add(function (idx) {\n    diffResult.push({\n      cmd: '+',\n      idx: idx\n    });\n  }).update(function (newIdx, oldIdx) {\n    diffResult.push({\n      cmd: '=',\n      idx: oldIdx,\n      idx1: newIdx\n    });\n  }).remove(function (idx) {\n    diffResult.push({\n      cmd: '-',\n      idx: idx\n    });\n  }).execute();\n  return diffResult;\n}\n\nexport default function lineAnimationDiff(oldData, newData, oldStackedOnPoints, newStackedOnPoints, oldCoordSys, newCoordSys, oldValueOrigin, newValueOrigin) {\n  var diff = diffData(oldData, newData); // let newIdList = newData.mapArray(newData.getId);\n  // let oldIdList = oldData.mapArray(oldData.getId);\n  // convertToIntId(newIdList, oldIdList);\n  // // FIXME One data ?\n  // diff = arrayDiff(oldIdList, newIdList);\n\n  var currPoints = [];\n  var nextPoints = []; // Points for stacking base line\n\n  var currStackedPoints = [];\n  var nextStackedPoints = [];\n  var status = [];\n  var sortedIndices = [];\n  var rawIndices = [];\n  var newDataOldCoordInfo = prepareDataCoordInfo(oldCoordSys, newData, oldValueOrigin); // const oldDataNewCoordInfo = prepareDataCoordInfo(newCoordSys, oldData, newValueOrigin);\n\n  var oldPoints = oldData.getLayout('points') || [];\n  var newPoints = newData.getLayout('points') || [];\n\n  for (var i = 0; i < diff.length; i++) {\n    var diffItem = diff[i];\n    var pointAdded = true;\n    var oldIdx2 = void 0;\n    var newIdx2 = void 0; // FIXME, animation is not so perfect when dataZoom window moves fast\n    // Which is in case remvoing or add more than one data in the tail or head\n\n    switch (diffItem.cmd) {\n      case '=':\n        oldIdx2 = diffItem.idx * 2;\n        newIdx2 = diffItem.idx1 * 2;\n        var currentX = oldPoints[oldIdx2];\n        var currentY = oldPoints[oldIdx2 + 1];\n        var nextX = newPoints[newIdx2];\n        var nextY = newPoints[newIdx2 + 1]; // If previous data is NaN, use next point directly\n\n        if (isNaN(currentX) || isNaN(currentY)) {\n          currentX = nextX;\n          currentY = nextY;\n        }\n\n        currPoints.push(currentX, currentY);\n        nextPoints.push(nextX, nextY);\n        currStackedPoints.push(oldStackedOnPoints[oldIdx2], oldStackedOnPoints[oldIdx2 + 1]);\n        nextStackedPoints.push(newStackedOnPoints[newIdx2], newStackedOnPoints[newIdx2 + 1]);\n        rawIndices.push(newData.getRawIndex(diffItem.idx1));\n        break;\n\n      case '+':\n        var newIdx = diffItem.idx;\n        var newDataDimsForPoint = newDataOldCoordInfo.dataDimsForPoint;\n        var oldPt = oldCoordSys.dataToPoint([newData.get(newDataDimsForPoint[0], newIdx), newData.get(newDataDimsForPoint[1], newIdx)]);\n        newIdx2 = newIdx * 2;\n        currPoints.push(oldPt[0], oldPt[1]);\n        nextPoints.push(newPoints[newIdx2], newPoints[newIdx2 + 1]);\n        var stackedOnPoint = getStackedOnPoint(newDataOldCoordInfo, oldCoordSys, newData, newIdx);\n        currStackedPoints.push(stackedOnPoint[0], stackedOnPoint[1]);\n        nextStackedPoints.push(newStackedOnPoints[newIdx2], newStackedOnPoints[newIdx2 + 1]);\n        rawIndices.push(newData.getRawIndex(newIdx));\n        break;\n\n      case '-':\n        pointAdded = false;\n    } // Original indices\n\n\n    if (pointAdded) {\n      status.push(diffItem);\n      sortedIndices.push(sortedIndices.length);\n    }\n  } // Diff result may be crossed if all items are changed\n  // Sort by data index\n\n\n  sortedIndices.sort(function (a, b) {\n    return rawIndices[a] - rawIndices[b];\n  });\n  var len = currPoints.length;\n  var sortedCurrPoints = createFloat32Array(len);\n  var sortedNextPoints = createFloat32Array(len);\n  var sortedCurrStackedPoints = createFloat32Array(len);\n  var sortedNextStackedPoints = createFloat32Array(len);\n  var sortedStatus = [];\n\n  for (var i = 0; i < sortedIndices.length; i++) {\n    var idx = sortedIndices[i];\n    var i2 = i * 2;\n    var idx2 = idx * 2;\n    sortedCurrPoints[i2] = currPoints[idx2];\n    sortedCurrPoints[i2 + 1] = currPoints[idx2 + 1];\n    sortedNextPoints[i2] = nextPoints[idx2];\n    sortedNextPoints[i2 + 1] = nextPoints[idx2 + 1];\n    sortedCurrStackedPoints[i2] = currStackedPoints[idx2];\n    sortedCurrStackedPoints[i2 + 1] = currStackedPoints[idx2 + 1];\n    sortedNextStackedPoints[i2] = nextStackedPoints[idx2];\n    sortedNextStackedPoints[i2 + 1] = nextStackedPoints[idx2 + 1];\n    sortedStatus[i] = status[idx];\n  }\n\n  return {\n    current: sortedCurrPoints,\n    next: sortedNextPoints,\n    stackedOnCurrent: sortedCurrStackedPoints,\n    stackedOnNext: sortedNextStackedPoints,\n    status: sortedStatus\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\"; // Poly path support NaN point\n\nimport Path from 'zrender/lib/graphic/Path';\nimport PathProxy from 'zrender/lib/core/PathProxy';\nimport { cubicRootAt, cubicAt } from 'zrender/lib/core/curve';\nvar mathMin = Math.min;\nvar mathMax = Math.max;\n\nfunction isPointNull(x, y) {\n  return isNaN(x) || isNaN(y);\n}\n/**\n * Draw smoothed line in non-monotone, in may cause undesired curve in extreme\n * situations. This should be used when points are non-monotone neither in x or\n * y dimension.\n */\n\n\nfunction drawSegment(ctx, points, start, segLen, allLen, dir, smooth, smoothMonotone, connectNulls) {\n  var prevX;\n  var prevY;\n  var cpx0;\n  var cpy0;\n  var cpx1;\n  var cpy1;\n  var idx = start;\n  var k = 0;\n\n  for (; k < segLen; k++) {\n    var x = points[idx * 2];\n    var y = points[idx * 2 + 1];\n\n    if (idx >= allLen || idx < 0) {\n      break;\n    }\n\n    if (isPointNull(x, y)) {\n      if (connectNulls) {\n        idx += dir;\n        continue;\n      }\n\n      break;\n    }\n\n    if (idx === start) {\n      ctx[dir > 0 ? 'moveTo' : 'lineTo'](x, y);\n      cpx0 = x;\n      cpy0 = y;\n    } else {\n      var dx = x - prevX;\n      var dy = y - prevY; // Ignore tiny segment.\n\n      if (dx * dx + dy * dy < 0.5) {\n        idx += dir;\n        continue;\n      }\n\n      if (smooth > 0) {\n        var nextIdx = idx + dir;\n        var nextX = points[nextIdx * 2];\n        var nextY = points[nextIdx * 2 + 1];\n        var tmpK = k + 1;\n\n        if (connectNulls) {\n          // Find next point not null\n          while (isPointNull(nextX, nextY) && tmpK < segLen) {\n            tmpK++;\n            nextIdx += dir;\n            nextX = points[nextIdx * 2];\n            nextY = points[nextIdx * 2 + 1];\n          }\n        }\n\n        var ratioNextSeg = 0.5;\n        var vx = 0;\n        var vy = 0;\n        var nextCpx0 = void 0;\n        var nextCpy0 = void 0; // Is last point\n\n        if (tmpK >= segLen || isPointNull(nextX, nextY)) {\n          cpx1 = x;\n          cpy1 = y;\n        } else {\n          vx = nextX - prevX;\n          vy = nextY - prevY;\n          var dx0 = x - prevX;\n          var dx1 = nextX - x;\n          var dy0 = y - prevY;\n          var dy1 = nextY - y;\n          var lenPrevSeg = void 0;\n          var lenNextSeg = void 0;\n\n          if (smoothMonotone === 'x') {\n            lenPrevSeg = Math.abs(dx0);\n            lenNextSeg = Math.abs(dx1);\n            cpx1 = x - lenPrevSeg * smooth;\n            cpy1 = y;\n            nextCpx0 = x + lenPrevSeg * smooth;\n            nextCpy0 = y;\n          } else if (smoothMonotone === 'y') {\n            lenPrevSeg = Math.abs(dy0);\n            lenNextSeg = Math.abs(dy1);\n            cpx1 = x;\n            cpy1 = y - lenPrevSeg * smooth;\n            nextCpx0 = x;\n            nextCpy0 = y + lenPrevSeg * smooth;\n          } else {\n            lenPrevSeg = Math.sqrt(dx0 * dx0 + dy0 * dy0);\n            lenNextSeg = Math.sqrt(dx1 * dx1 + dy1 * dy1); // Use ratio of seg length\n\n            ratioNextSeg = lenNextSeg / (lenNextSeg + lenPrevSeg);\n            cpx1 = x - vx * smooth * (1 - ratioNextSeg);\n            cpy1 = y - vy * smooth * (1 - ratioNextSeg); // cp0 of next segment\n\n            nextCpx0 = x + vx * smooth * ratioNextSeg;\n            nextCpy0 = y + vy * smooth * ratioNextSeg; // Smooth constraint between point and next point.\n            // Avoid exceeding extreme after smoothing.\n\n            nextCpx0 = mathMin(nextCpx0, mathMax(nextX, x));\n            nextCpy0 = mathMin(nextCpy0, mathMax(nextY, y));\n            nextCpx0 = mathMax(nextCpx0, mathMin(nextX, x));\n            nextCpy0 = mathMax(nextCpy0, mathMin(nextY, y)); // Reclaculate cp1 based on the adjusted cp0 of next seg.\n\n            vx = nextCpx0 - x;\n            vy = nextCpy0 - y;\n            cpx1 = x - vx * lenPrevSeg / lenNextSeg;\n            cpy1 = y - vy * lenPrevSeg / lenNextSeg; // Smooth constraint between point and prev point.\n            // Avoid exceeding extreme after smoothing.\n\n            cpx1 = mathMin(cpx1, mathMax(prevX, x));\n            cpy1 = mathMin(cpy1, mathMax(prevY, y));\n            cpx1 = mathMax(cpx1, mathMin(prevX, x));\n            cpy1 = mathMax(cpy1, mathMin(prevY, y)); // Adjust next cp0 again.\n\n            vx = x - cpx1;\n            vy = y - cpy1;\n            nextCpx0 = x + vx * lenNextSeg / lenPrevSeg;\n            nextCpy0 = y + vy * lenNextSeg / lenPrevSeg;\n          }\n        }\n\n        ctx.bezierCurveTo(cpx0, cpy0, cpx1, cpy1, x, y);\n        cpx0 = nextCpx0;\n        cpy0 = nextCpy0;\n      } else {\n        ctx.lineTo(x, y);\n      }\n    }\n\n    prevX = x;\n    prevY = y;\n    idx += dir;\n  }\n\n  return k;\n}\n\nvar ECPolylineShape =\n/** @class */\nfunction () {\n  function ECPolylineShape() {\n    this.smooth = 0;\n    this.smoothConstraint = true;\n  }\n\n  return ECPolylineShape;\n}();\n\nvar ECPolyline =\n/** @class */\nfunction (_super) {\n  __extends(ECPolyline, _super);\n\n  function ECPolyline(opts) {\n    var _this = _super.call(this, opts) || this;\n\n    _this.type = 'ec-polyline';\n    return _this;\n  }\n\n  ECPolyline.prototype.getDefaultStyle = function () {\n    return {\n      stroke: '#000',\n      fill: null\n    };\n  };\n\n  ECPolyline.prototype.getDefaultShape = function () {\n    return new ECPolylineShape();\n  };\n\n  ECPolyline.prototype.buildPath = function (ctx, shape) {\n    var points = shape.points;\n    var i = 0;\n    var len = points.length / 2; // const result = getBoundingBox(points, shape.smoothConstraint);\n\n    if (shape.connectNulls) {\n      // Must remove first and last null values avoid draw error in polygon\n      for (; len > 0; len--) {\n        if (!isPointNull(points[len * 2 - 2], points[len * 2 - 1])) {\n          break;\n        }\n      }\n\n      for (; i < len; i++) {\n        if (!isPointNull(points[i * 2], points[i * 2 + 1])) {\n          break;\n        }\n      }\n    }\n\n    while (i < len) {\n      i += drawSegment(ctx, points, i, len, len, 1, shape.smooth, shape.smoothMonotone, shape.connectNulls) + 1;\n    }\n  };\n\n  ECPolyline.prototype.getPointOn = function (xOrY, dim) {\n    if (!this.path) {\n      this.createPathProxy();\n      this.buildPath(this.path, this.shape);\n    }\n\n    var path = this.path;\n    var data = path.data;\n    var CMD = PathProxy.CMD;\n    var x0;\n    var y0;\n    var isDimX = dim === 'x';\n    var roots = [];\n\n    for (var i = 0; i < data.length;) {\n      var cmd = data[i++];\n      var x = void 0;\n      var y = void 0;\n      var x2 = void 0;\n      var y2 = void 0;\n      var x3 = void 0;\n      var y3 = void 0;\n      var t = void 0;\n\n      switch (cmd) {\n        case CMD.M:\n          x0 = data[i++];\n          y0 = data[i++];\n          break;\n\n        case CMD.L:\n          x = data[i++];\n          y = data[i++];\n          t = isDimX ? (xOrY - x0) / (x - x0) : (xOrY - y0) / (y - y0);\n\n          if (t <= 1 && t >= 0) {\n            var val = isDimX ? (y - y0) * t + y0 : (x - x0) * t + x0;\n            return isDimX ? [xOrY, val] : [val, xOrY];\n          }\n\n          x0 = x;\n          y0 = y;\n          break;\n\n        case CMD.C:\n          x = data[i++];\n          y = data[i++];\n          x2 = data[i++];\n          y2 = data[i++];\n          x3 = data[i++];\n          y3 = data[i++];\n          var nRoot = isDimX ? cubicRootAt(x0, x, x2, x3, xOrY, roots) : cubicRootAt(y0, y, y2, y3, xOrY, roots);\n\n          if (nRoot > 0) {\n            for (var i_1 = 0; i_1 < nRoot; i_1++) {\n              var t_1 = roots[i_1];\n\n              if (t_1 <= 1 && t_1 >= 0) {\n                var val = isDimX ? cubicAt(y0, y, y2, y3, t_1) : cubicAt(x0, x, x2, x3, t_1);\n                return isDimX ? [xOrY, val] : [val, xOrY];\n              }\n            }\n          }\n\n          x0 = x3;\n          y0 = y3;\n          break;\n      }\n    }\n  };\n\n  return ECPolyline;\n}(Path);\n\nexport { ECPolyline };\n\nvar ECPolygonShape =\n/** @class */\nfunction (_super) {\n  __extends(ECPolygonShape, _super);\n\n  function ECPolygonShape() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  return ECPolygonShape;\n}(ECPolylineShape);\n\nvar ECPolygon =\n/** @class */\nfunction (_super) {\n  __extends(ECPolygon, _super);\n\n  function ECPolygon(opts) {\n    var _this = _super.call(this, opts) || this;\n\n    _this.type = 'ec-polygon';\n    return _this;\n  }\n\n  ECPolygon.prototype.getDefaultShape = function () {\n    return new ECPolygonShape();\n  };\n\n  ECPolygon.prototype.buildPath = function (ctx, shape) {\n    var points = shape.points;\n    var stackedOnPoints = shape.stackedOnPoints;\n    var i = 0;\n    var len = points.length / 2;\n    var smoothMonotone = shape.smoothMonotone;\n\n    if (shape.connectNulls) {\n      // Must remove first and last null values avoid draw error in polygon\n      for (; len > 0; len--) {\n        if (!isPointNull(points[len * 2 - 2], points[len * 2 - 1])) {\n          break;\n        }\n      }\n\n      for (; i < len; i++) {\n        if (!isPointNull(points[i * 2], points[i * 2 + 1])) {\n          break;\n        }\n      }\n    }\n\n    while (i < len) {\n      var k = drawSegment(ctx, points, i, len, len, 1, shape.smooth, smoothMonotone, shape.connectNulls);\n      drawSegment(ctx, stackedOnPoints, i + k - 1, k, len, -1, shape.stackedOnSmooth, smoothMonotone, shape.connectNulls);\n      i += k + 1;\n      ctx.closePath();\n    }\n  };\n\n  return ECPolygon;\n}(Path);\n\nexport { ECPolygon };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\"; // FIXME step not support polar\n\nimport * as zrUtil from 'zrender/lib/core/util';\nimport SymbolDraw from '../helper/SymbolDraw';\nimport SymbolClz from '../helper/Symbol';\nimport lineAnimationDiff from './lineAnimationDiff';\nimport * as graphic from '../../util/graphic';\nimport * as modelUtil from '../../util/model';\nimport { ECPolyline, ECPolygon } from './poly';\nimport ChartView from '../../view/Chart';\nimport { prepareDataCoordInfo, getStackedOnPoint } from './helper';\nimport { createGridClipPath, createPolarClipPath } from '../helper/createClipPathFromCoordSys';\nimport { isCoordinateSystemType } from '../../coord/CoordinateSystem';\nimport { setStatesStylesFromModel, setStatesFlag, enableHoverEmphasis } from '../../util/states';\nimport { setLabelStyle, getLabelStatesModels, labelInner } from '../../label/labelStyle';\nimport { getDefaultLabel, getDefaultInterpolatedLabel } from '../helper/labelHelper';\nimport { getECData } from '../../util/innerStore';\nimport { createFloat32Array } from '../../util/vendor';\nimport { convertToColorString } from '../../util/format';\n\nfunction isPointsSame(points1, points2) {\n  if (points1.length !== points2.length) {\n    return;\n  }\n\n  for (var i = 0; i < points1.length; i++) {\n    if (points1[i] !== points2[i]) {\n      return;\n    }\n  }\n\n  return true;\n}\n\nfunction bboxFromPoints(points) {\n  var minX = Infinity;\n  var minY = Infinity;\n  var maxX = -Infinity;\n  var maxY = -Infinity;\n\n  for (var i = 0; i < points.length;) {\n    var x = points[i++];\n    var y = points[i++];\n\n    if (!isNaN(x)) {\n      minX = Math.min(x, minX);\n      maxX = Math.max(x, maxX);\n    }\n\n    if (!isNaN(y)) {\n      minY = Math.min(y, minY);\n      maxY = Math.max(y, maxY);\n    }\n  }\n\n  return [[minX, minY], [maxX, maxY]];\n}\n\nfunction getBoundingDiff(points1, points2) {\n  var _a = bboxFromPoints(points1),\n      min1 = _a[0],\n      max1 = _a[1];\n\n  var _b = bboxFromPoints(points2),\n      min2 = _b[0],\n      max2 = _b[1]; // Get a max value from each corner of two boundings.\n\n\n  return Math.max(Math.abs(min1[0] - min2[0]), Math.abs(min1[1] - min2[1]), Math.abs(max1[0] - max2[0]), Math.abs(max1[1] - max2[1]));\n}\n\nfunction getSmooth(smooth) {\n  return typeof smooth === 'number' ? smooth : smooth ? 0.5 : 0;\n}\n\nfunction getStackedOnPoints(coordSys, data, dataCoordInfo) {\n  if (!dataCoordInfo.valueDim) {\n    return [];\n  }\n\n  var len = data.count();\n  var points = createFloat32Array(len * 2);\n\n  for (var idx = 0; idx < len; idx++) {\n    var pt = getStackedOnPoint(dataCoordInfo, coordSys, data, idx);\n    points[idx * 2] = pt[0];\n    points[idx * 2 + 1] = pt[1];\n  }\n\n  return points;\n}\n\nfunction turnPointsIntoStep(points, coordSys, stepTurnAt) {\n  var baseAxis = coordSys.getBaseAxis();\n  var baseIndex = baseAxis.dim === 'x' || baseAxis.dim === 'radius' ? 0 : 1;\n  var stepPoints = [];\n  var i = 0;\n  var stepPt = [];\n  var pt = [];\n  var nextPt = [];\n\n  for (; i < points.length - 2; i += 2) {\n    nextPt[0] = points[i + 2];\n    nextPt[1] = points[i + 3];\n    pt[0] = points[i];\n    pt[1] = points[i + 1];\n    stepPoints.push(pt[0], pt[1]);\n\n    switch (stepTurnAt) {\n      case 'end':\n        stepPt[baseIndex] = nextPt[baseIndex];\n        stepPt[1 - baseIndex] = pt[1 - baseIndex];\n        stepPoints.push(stepPt[0], stepPt[1]);\n        break;\n\n      case 'middle':\n        var middle = (pt[baseIndex] + nextPt[baseIndex]) / 2;\n        var stepPt2 = [];\n        stepPt[baseIndex] = stepPt2[baseIndex] = middle;\n        stepPt[1 - baseIndex] = pt[1 - baseIndex];\n        stepPt2[1 - baseIndex] = nextPt[1 - baseIndex];\n        stepPoints.push(stepPt[0], stepPt[1]);\n        stepPoints.push(stepPt2[0], stepPt2[1]);\n        break;\n\n      default:\n        // default is start\n        stepPt[baseIndex] = pt[baseIndex];\n        stepPt[1 - baseIndex] = nextPt[1 - baseIndex];\n        stepPoints.push(stepPt[0], stepPt[1]);\n    }\n  } // Last points\n\n\n  stepPoints.push(points[i++], points[i++]);\n  return stepPoints;\n}\n\nfunction getVisualGradient(data, coordSys) {\n  var visualMetaList = data.getVisual('visualMeta');\n\n  if (!visualMetaList || !visualMetaList.length || !data.count()) {\n    // When data.count() is 0, gradient range can not be calculated.\n    return;\n  }\n\n  if (coordSys.type !== 'cartesian2d') {\n    if (process.env.NODE_ENV !== 'production') {\n      console.warn('Visual map on line style is only supported on cartesian2d.');\n    }\n\n    return;\n  }\n\n  var coordDim;\n  var visualMeta;\n\n  for (var i = visualMetaList.length - 1; i >= 0; i--) {\n    var dimIndex = visualMetaList[i].dimension;\n    var dimName = data.dimensions[dimIndex];\n    var dimInfo = data.getDimensionInfo(dimName);\n    coordDim = dimInfo && dimInfo.coordDim; // Can only be x or y\n\n    if (coordDim === 'x' || coordDim === 'y') {\n      visualMeta = visualMetaList[i];\n      break;\n    }\n  }\n\n  if (!visualMeta) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.warn('Visual map on line style only support x or y dimension.');\n    }\n\n    return;\n  } // If the area to be rendered is bigger than area defined by LinearGradient,\n  // the canvas spec prescribes that the color of the first stop and the last\n  // stop should be used. But if two stops are added at offset 0, in effect\n  // browsers use the color of the second stop to render area outside\n  // LinearGradient. So we can only infinitesimally extend area defined in\n  // LinearGradient to render `outerColors`.\n\n\n  var axis = coordSys.getAxis(coordDim); // dataToCoord mapping may not be linear, but must be monotonic.\n\n  var colorStops = zrUtil.map(visualMeta.stops, function (stop) {\n    return {\n      offset: 0,\n      coord: axis.toGlobalCoord(axis.dataToCoord(stop.value, true)),\n      color: stop.color\n    };\n  });\n  var stopLen = colorStops.length;\n  var outerColors = visualMeta.outerColors.slice();\n\n  if (stopLen && colorStops[0].coord > colorStops[stopLen - 1].coord) {\n    colorStops.reverse();\n    outerColors.reverse();\n  }\n\n  var tinyExtent = 10; // Arbitrary value: 10px\n\n  var minCoord = colorStops[0].coord - tinyExtent;\n  var maxCoord = colorStops[stopLen - 1].coord + tinyExtent;\n  var coordSpan = maxCoord - minCoord;\n\n  if (coordSpan < 1e-3) {\n    return 'transparent';\n  }\n\n  zrUtil.each(colorStops, function (stop) {\n    stop.offset = (stop.coord - minCoord) / coordSpan;\n  });\n  colorStops.push({\n    offset: stopLen ? colorStops[stopLen - 1].offset : 0.5,\n    color: outerColors[1] || 'transparent'\n  });\n  colorStops.unshift({\n    offset: stopLen ? colorStops[0].offset : 0.5,\n    color: outerColors[0] || 'transparent'\n  }); // zrUtil.each(colorStops, function (colorStop) {\n  //     // Make sure each offset has rounded px to avoid not sharp edge\n  //     colorStop.offset = (Math.round(colorStop.offset * (end - start) + start) - start) / (end - start);\n  // });\n\n  var gradient = new graphic.LinearGradient(0, 0, 0, 0, colorStops, true);\n  gradient[coordDim] = minCoord;\n  gradient[coordDim + '2'] = maxCoord;\n  return gradient;\n}\n\nfunction getIsIgnoreFunc(seriesModel, data, coordSys) {\n  var showAllSymbol = seriesModel.get('showAllSymbol');\n  var isAuto = showAllSymbol === 'auto';\n\n  if (showAllSymbol && !isAuto) {\n    return;\n  }\n\n  var categoryAxis = coordSys.getAxesByScale('ordinal')[0];\n\n  if (!categoryAxis) {\n    return;\n  } // Note that category label interval strategy might bring some weird effect\n  // in some scenario: users may wonder why some of the symbols are not\n  // displayed. So we show all symbols as possible as we can.\n\n\n  if (isAuto // Simplify the logic, do not determine label overlap here.\n  && canShowAllSymbolForCategory(categoryAxis, data)) {\n    return;\n  } // Otherwise follow the label interval strategy on category axis.\n\n\n  var categoryDataDim = data.mapDimension(categoryAxis.dim);\n  var labelMap = {};\n  zrUtil.each(categoryAxis.getViewLabels(), function (labelItem) {\n    var ordinalNumber = categoryAxis.scale.getRawOrdinalNumber(labelItem.tickValue);\n    labelMap[ordinalNumber] = 1;\n  });\n  return function (dataIndex) {\n    return !labelMap.hasOwnProperty(data.get(categoryDataDim, dataIndex));\n  };\n}\n\nfunction canShowAllSymbolForCategory(categoryAxis, data) {\n  // In mose cases, line is monotonous on category axis, and the label size\n  // is close with each other. So we check the symbol size and some of the\n  // label size alone with the category axis to estimate whether all symbol\n  // can be shown without overlap.\n  var axisExtent = categoryAxis.getExtent();\n  var availSize = Math.abs(axisExtent[1] - axisExtent[0]) / categoryAxis.scale.count();\n  isNaN(availSize) && (availSize = 0); // 0/0 is NaN.\n  // Sampling some points, max 5.\n\n  var dataLen = data.count();\n  var step = Math.max(1, Math.round(dataLen / 5));\n\n  for (var dataIndex = 0; dataIndex < dataLen; dataIndex += step) {\n    if (SymbolClz.getSymbolSize(data, dataIndex // Only for cartesian, where `isHorizontal` exists.\n    )[categoryAxis.isHorizontal() ? 1 : 0] // Empirical number\n    * 1.5 > availSize) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction isPointNull(x, y) {\n  return isNaN(x) || isNaN(y);\n}\n\nfunction getLastIndexNotNull(points) {\n  var len = points.length / 2;\n\n  for (; len > 0; len--) {\n    if (!isPointNull(points[len * 2 - 2], points[len * 2 - 1])) {\n      break;\n    }\n  }\n\n  return len - 1;\n}\n\nfunction getPointAtIndex(points, idx) {\n  return [points[idx * 2], points[idx * 2 + 1]];\n}\n\nfunction getIndexRange(points, xOrY, dim) {\n  var len = points.length / 2;\n  var dimIdx = dim === 'x' ? 0 : 1;\n  var a;\n  var b;\n  var prevIndex = 0;\n  var nextIndex = -1;\n\n  for (var i = 0; i < len; i++) {\n    b = points[i * 2 + dimIdx];\n\n    if (isNaN(b) || isNaN(points[i * 2 + 1 - dimIdx])) {\n      continue;\n    }\n\n    if (i === 0) {\n      a = b;\n      continue;\n    }\n\n    if (a <= xOrY && b >= xOrY || a >= xOrY && b <= xOrY) {\n      nextIndex = i;\n      break;\n    }\n\n    prevIndex = i;\n    a = b;\n  }\n\n  return {\n    range: [prevIndex, nextIndex],\n    t: (xOrY - a) / (b - a)\n  };\n}\n\nfunction createLineClipPath(lineView, coordSys, hasAnimation, seriesModel) {\n  if (isCoordinateSystemType(coordSys, 'cartesian2d')) {\n    var endLabelModel_1 = seriesModel.getModel('endLabel');\n    var showEndLabel = endLabelModel_1.get('show');\n    var valueAnimation_1 = endLabelModel_1.get('valueAnimation');\n    var data_1 = seriesModel.getData();\n    var labelAnimationRecord_1 = {\n      lastFrameIndex: 0\n    };\n    var during = showEndLabel ? function (percent, clipRect) {\n      lineView._endLabelOnDuring(percent, clipRect, data_1, labelAnimationRecord_1, valueAnimation_1, endLabelModel_1, coordSys);\n    } : null;\n    var isHorizontal = coordSys.getBaseAxis().isHorizontal();\n    var clipPath = createGridClipPath(coordSys, hasAnimation, seriesModel, function () {\n      var endLabel = lineView._endLabel;\n\n      if (endLabel && hasAnimation) {\n        if (labelAnimationRecord_1.originalX != null) {\n          endLabel.attr({\n            x: labelAnimationRecord_1.originalX,\n            y: labelAnimationRecord_1.originalY\n          });\n        }\n      }\n    }, during); // Expand clip shape to avoid clipping when line value exceeds axis\n\n    if (!seriesModel.get('clip', true)) {\n      var rectShape = clipPath.shape;\n      var expandSize = Math.max(rectShape.width, rectShape.height);\n\n      if (isHorizontal) {\n        rectShape.y -= expandSize;\n        rectShape.height += expandSize * 2;\n      } else {\n        rectShape.x -= expandSize;\n        rectShape.width += expandSize * 2;\n      }\n    } // Set to the final frame. To make sure label layout is right.\n\n\n    if (during) {\n      during(1, clipPath);\n    }\n\n    return clipPath;\n  } else {\n    if (process.env.NODE_ENV !== 'production') {\n      if (seriesModel.get(['endLabel', 'show'])) {\n        console.warn('endLabel is not supported for lines in polar systems.');\n      }\n    }\n\n    return createPolarClipPath(coordSys, hasAnimation, seriesModel);\n  }\n}\n\nfunction getEndLabelStateSpecified(endLabelModel, coordSys) {\n  var baseAxis = coordSys.getBaseAxis();\n  var isHorizontal = baseAxis.isHorizontal();\n  var isBaseInversed = baseAxis.inverse;\n  var align = isHorizontal ? isBaseInversed ? 'right' : 'left' : 'center';\n  var verticalAlign = isHorizontal ? 'middle' : isBaseInversed ? 'top' : 'bottom';\n  return {\n    normal: {\n      align: endLabelModel.get('align') || align,\n      verticalAlign: endLabelModel.get('verticalAlign') || verticalAlign\n    }\n  };\n}\n\nvar LineView =\n/** @class */\nfunction (_super) {\n  __extends(LineView, _super);\n\n  function LineView() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  LineView.prototype.init = function () {\n    var lineGroup = new graphic.Group();\n    var symbolDraw = new SymbolDraw();\n    this.group.add(symbolDraw.group);\n    this._symbolDraw = symbolDraw;\n    this._lineGroup = lineGroup;\n  };\n\n  LineView.prototype.render = function (seriesModel, ecModel, api) {\n    var _this = this;\n\n    var coordSys = seriesModel.coordinateSystem;\n    var group = this.group;\n    var data = seriesModel.getData();\n    var lineStyleModel = seriesModel.getModel('lineStyle');\n    var areaStyleModel = seriesModel.getModel('areaStyle');\n    var points = data.getLayout('points') || [];\n    var isCoordSysPolar = coordSys.type === 'polar';\n    var prevCoordSys = this._coordSys;\n    var symbolDraw = this._symbolDraw;\n    var polyline = this._polyline;\n    var polygon = this._polygon;\n    var lineGroup = this._lineGroup;\n    var hasAnimation = seriesModel.get('animation');\n    var isAreaChart = !areaStyleModel.isEmpty();\n    var valueOrigin = areaStyleModel.get('origin');\n    var dataCoordInfo = prepareDataCoordInfo(coordSys, data, valueOrigin);\n    var stackedOnPoints = isAreaChart && getStackedOnPoints(coordSys, data, dataCoordInfo);\n    var showSymbol = seriesModel.get('showSymbol');\n    var isIgnoreFunc = showSymbol && !isCoordSysPolar && getIsIgnoreFunc(seriesModel, data, coordSys); // Remove temporary symbols\n\n    var oldData = this._data;\n    oldData && oldData.eachItemGraphicEl(function (el, idx) {\n      if (el.__temp) {\n        group.remove(el);\n        oldData.setItemGraphicEl(idx, null);\n      }\n    }); // Remove previous created symbols if showSymbol changed to false\n\n    if (!showSymbol) {\n      symbolDraw.remove();\n    }\n\n    group.add(lineGroup); // FIXME step not support polar\n\n    var step = !isCoordSysPolar ? seriesModel.get('step') : false;\n    var clipShapeForSymbol;\n\n    if (coordSys && coordSys.getArea && seriesModel.get('clip', true)) {\n      clipShapeForSymbol = coordSys.getArea(); // Avoid float number rounding error for symbol on the edge of axis extent.\n      // See #7913 and `test/dataZoom-clip.html`.\n\n      if (clipShapeForSymbol.width != null) {\n        clipShapeForSymbol.x -= 0.1;\n        clipShapeForSymbol.y -= 0.1;\n        clipShapeForSymbol.width += 0.2;\n        clipShapeForSymbol.height += 0.2;\n      } else if (clipShapeForSymbol.r0) {\n        clipShapeForSymbol.r0 -= 0.5;\n        clipShapeForSymbol.r += 0.5;\n      }\n    }\n\n    this._clipShapeForSymbol = clipShapeForSymbol;\n    var visualColor = getVisualGradient(data, coordSys) || data.getVisual('style')[data.getVisual('drawType')]; // Initialization animation or coordinate system changed\n\n    if (!(polyline && prevCoordSys.type === coordSys.type && step === this._step)) {\n      showSymbol && symbolDraw.updateData(data, {\n        isIgnore: isIgnoreFunc,\n        clipShape: clipShapeForSymbol,\n        disableAnimation: true,\n        getSymbolPoint: function (idx) {\n          return [points[idx * 2], points[idx * 2 + 1]];\n        }\n      });\n      hasAnimation && this._initSymbolLabelAnimation(data, coordSys, clipShapeForSymbol);\n\n      if (step) {\n        // TODO If stacked series is not step\n        points = turnPointsIntoStep(points, coordSys, step);\n\n        if (stackedOnPoints) {\n          stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n        }\n      }\n\n      polyline = this._newPolyline(points);\n\n      if (isAreaChart) {\n        polygon = this._newPolygon(points, stackedOnPoints);\n      } // NOTE: Must update _endLabel before setClipPath.\n\n\n      if (!isCoordSysPolar) {\n        this._initOrUpdateEndLabel(seriesModel, coordSys, convertToColorString(visualColor));\n      }\n\n      lineGroup.setClipPath(createLineClipPath(this, coordSys, true, seriesModel));\n    } else {\n      if (isAreaChart && !polygon) {\n        // If areaStyle is added\n        polygon = this._newPolygon(points, stackedOnPoints);\n      } else if (polygon && !isAreaChart) {\n        // If areaStyle is removed\n        lineGroup.remove(polygon);\n        polygon = this._polygon = null;\n      } // NOTE: Must update _endLabel before setClipPath.\n\n\n      if (!isCoordSysPolar) {\n        this._initOrUpdateEndLabel(seriesModel, coordSys, convertToColorString(visualColor));\n      } // Update clipPath\n\n\n      lineGroup.setClipPath(createLineClipPath(this, coordSys, false, seriesModel)); // Always update, or it is wrong in the case turning on legend\n      // because points are not changed\n\n      showSymbol && symbolDraw.updateData(data, {\n        isIgnore: isIgnoreFunc,\n        clipShape: clipShapeForSymbol,\n        disableAnimation: true,\n        getSymbolPoint: function (idx) {\n          return [points[idx * 2], points[idx * 2 + 1]];\n        }\n      }); // In the case data zoom triggerred refreshing frequently\n      // Data may not change if line has a category axis. So it should animate nothing\n\n      if (!isPointsSame(this._stackedOnPoints, stackedOnPoints) || !isPointsSame(this._points, points)) {\n        if (hasAnimation) {\n          this._doUpdateAnimation(data, stackedOnPoints, coordSys, api, step, valueOrigin);\n        } else {\n          // Not do it in update with animation\n          if (step) {\n            // TODO If stacked series is not step\n            points = turnPointsIntoStep(points, coordSys, step);\n\n            if (stackedOnPoints) {\n              stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n            }\n          }\n\n          polyline.setShape({\n            points: points\n          });\n          polygon && polygon.setShape({\n            points: points,\n            stackedOnPoints: stackedOnPoints\n          });\n        }\n      }\n    }\n\n    var focus = seriesModel.get(['emphasis', 'focus']);\n    var blurScope = seriesModel.get(['emphasis', 'blurScope']);\n    polyline.useStyle(zrUtil.defaults( // Use color in lineStyle first\n    lineStyleModel.getLineStyle(), {\n      fill: 'none',\n      stroke: visualColor,\n      lineJoin: 'bevel'\n    }));\n    setStatesStylesFromModel(polyline, seriesModel, 'lineStyle');\n\n    if (polyline.style.lineWidth > 0 && seriesModel.get(['emphasis', 'lineStyle', 'width']) === 'bolder') {\n      var emphasisLineStyle = polyline.getState('emphasis').style;\n      emphasisLineStyle.lineWidth = +polyline.style.lineWidth + 1;\n    } // Needs seriesIndex for focus\n\n\n    getECData(polyline).seriesIndex = seriesModel.seriesIndex;\n    enableHoverEmphasis(polyline, focus, blurScope);\n    var smooth = getSmooth(seriesModel.get('smooth'));\n    var smoothMonotone = seriesModel.get('smoothMonotone');\n    var connectNulls = seriesModel.get('connectNulls');\n    polyline.setShape({\n      smooth: smooth,\n      smoothMonotone: smoothMonotone,\n      connectNulls: connectNulls\n    });\n\n    if (polygon) {\n      var stackedOnSeries = data.getCalculationInfo('stackedOnSeries');\n      var stackedOnSmooth = 0;\n      polygon.useStyle(zrUtil.defaults(areaStyleModel.getAreaStyle(), {\n        fill: visualColor,\n        opacity: 0.7,\n        lineJoin: 'bevel',\n        decal: data.getVisual('style').decal\n      }));\n\n      if (stackedOnSeries) {\n        stackedOnSmooth = getSmooth(stackedOnSeries.get('smooth'));\n      }\n\n      polygon.setShape({\n        smooth: smooth,\n        stackedOnSmooth: stackedOnSmooth,\n        smoothMonotone: smoothMonotone,\n        connectNulls: connectNulls\n      });\n      setStatesStylesFromModel(polygon, seriesModel, 'areaStyle'); // Needs seriesIndex for focus\n\n      getECData(polygon).seriesIndex = seriesModel.seriesIndex;\n      enableHoverEmphasis(polygon, focus, blurScope);\n    }\n\n    var changePolyState = function (toState) {\n      _this._changePolyState(toState);\n    };\n\n    data.eachItemGraphicEl(function (el) {\n      // Switch polyline / polygon state if element changed its state.\n      el && (el.onHoverStateChange = changePolyState);\n    });\n    this._polyline.onHoverStateChange = changePolyState;\n    this._data = data; // Save the coordinate system for transition animation when data changed\n\n    this._coordSys = coordSys;\n    this._stackedOnPoints = stackedOnPoints;\n    this._points = points;\n    this._step = step;\n    this._valueOrigin = valueOrigin;\n  };\n\n  LineView.prototype.dispose = function () {};\n\n  LineView.prototype.highlight = function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var dataIndex = modelUtil.queryDataIndex(data, payload);\n\n    this._changePolyState('emphasis');\n\n    if (!(dataIndex instanceof Array) && dataIndex != null && dataIndex >= 0) {\n      var points = data.getLayout('points');\n      var symbol = data.getItemGraphicEl(dataIndex);\n\n      if (!symbol) {\n        // Create a temporary symbol if it is not exists\n        var x = points[dataIndex * 2];\n        var y = points[dataIndex * 2 + 1];\n\n        if (isNaN(x) || isNaN(y)) {\n          // Null data\n          return;\n        } // fix #11360: should't draw symbol outside clipShapeForSymbol\n\n\n        if (this._clipShapeForSymbol && !this._clipShapeForSymbol.contain(x, y)) {\n          return;\n        }\n\n        var zlevel = seriesModel.get('zlevel');\n        var z = seriesModel.get('z');\n        symbol = new SymbolClz(data, dataIndex);\n        symbol.x = x;\n        symbol.y = y;\n        symbol.setZ(zlevel, z); // ensure label text of the temporary symbol is in front of line and area polygon\n\n        var symbolLabel = symbol.getSymbolPath().getTextContent();\n\n        if (symbolLabel) {\n          symbolLabel.zlevel = zlevel;\n          symbolLabel.z = z;\n          symbolLabel.z2 = this._polyline.z2 + 1;\n        }\n\n        symbol.__temp = true;\n        data.setItemGraphicEl(dataIndex, symbol); // Stop scale animation\n\n        symbol.stopSymbolAnimation(true);\n        this.group.add(symbol);\n      }\n\n      symbol.highlight();\n    } else {\n      // Highlight whole series\n      ChartView.prototype.highlight.call(this, seriesModel, ecModel, api, payload);\n    }\n  };\n\n  LineView.prototype.downplay = function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var dataIndex = modelUtil.queryDataIndex(data, payload);\n\n    this._changePolyState('normal');\n\n    if (dataIndex != null && dataIndex >= 0) {\n      var symbol = data.getItemGraphicEl(dataIndex);\n\n      if (symbol) {\n        if (symbol.__temp) {\n          data.setItemGraphicEl(dataIndex, null);\n          this.group.remove(symbol);\n        } else {\n          symbol.downplay();\n        }\n      }\n    } else {\n      // FIXME\n      // can not downplay completely.\n      // Downplay whole series\n      ChartView.prototype.downplay.call(this, seriesModel, ecModel, api, payload);\n    }\n  };\n\n  LineView.prototype._changePolyState = function (toState) {\n    var polygon = this._polygon;\n    setStatesFlag(this._polyline, toState);\n    polygon && setStatesFlag(polygon, toState);\n  };\n\n  LineView.prototype._newPolyline = function (points) {\n    var polyline = this._polyline; // Remove previous created polyline\n\n    if (polyline) {\n      this._lineGroup.remove(polyline);\n    }\n\n    polyline = new ECPolyline({\n      shape: {\n        points: points\n      },\n      segmentIgnoreThreshold: 2,\n      z2: 10\n    });\n\n    this._lineGroup.add(polyline);\n\n    this._polyline = polyline;\n    return polyline;\n  };\n\n  LineView.prototype._newPolygon = function (points, stackedOnPoints) {\n    var polygon = this._polygon; // Remove previous created polygon\n\n    if (polygon) {\n      this._lineGroup.remove(polygon);\n    }\n\n    polygon = new ECPolygon({\n      shape: {\n        points: points,\n        stackedOnPoints: stackedOnPoints\n      },\n      segmentIgnoreThreshold: 2\n    });\n\n    this._lineGroup.add(polygon);\n\n    this._polygon = polygon;\n    return polygon;\n  };\n\n  LineView.prototype._initSymbolLabelAnimation = function (data, coordSys, clipShape) {\n    var isHorizontalOrRadial;\n    var isCoordSysPolar;\n    var baseAxis = coordSys.getBaseAxis();\n    var isAxisInverse = baseAxis.inverse;\n\n    if (coordSys.type === 'cartesian2d') {\n      isHorizontalOrRadial = baseAxis.isHorizontal();\n      isCoordSysPolar = false;\n    } else if (coordSys.type === 'polar') {\n      isHorizontalOrRadial = baseAxis.dim === 'angle';\n      isCoordSysPolar = true;\n    }\n\n    var seriesModel = data.hostModel;\n    var seriesDuration = seriesModel.get('animationDuration');\n\n    if (typeof seriesDuration === 'function') {\n      seriesDuration = seriesDuration(null);\n    }\n\n    var seriesDalay = seriesModel.get('animationDelay') || 0;\n    var seriesDalayValue = typeof seriesDalay === 'function' ? seriesDalay(null) : seriesDalay;\n    data.eachItemGraphicEl(function (symbol, idx) {\n      var el = symbol;\n\n      if (el) {\n        var point = [symbol.x, symbol.y];\n        var start = void 0;\n        var end = void 0;\n        var current = void 0;\n\n        if (clipShape) {\n          if (isCoordSysPolar) {\n            var polarClip = clipShape;\n            var coord = coordSys.pointToCoord(point);\n\n            if (isHorizontalOrRadial) {\n              start = polarClip.startAngle;\n              end = polarClip.endAngle;\n              current = -coord[1] / 180 * Math.PI;\n            } else {\n              start = polarClip.r0;\n              end = polarClip.r;\n              current = coord[0];\n            }\n          } else {\n            var gridClip = clipShape;\n\n            if (isHorizontalOrRadial) {\n              start = gridClip.x;\n              end = gridClip.x + gridClip.width;\n              current = symbol.x;\n            } else {\n              start = gridClip.y + gridClip.height;\n              end = gridClip.y;\n              current = symbol.y;\n            }\n          }\n        }\n\n        var ratio = end === start ? 0 : (current - start) / (end - start);\n\n        if (isAxisInverse) {\n          ratio = 1 - ratio;\n        }\n\n        var delay = typeof seriesDalay === 'function' ? seriesDalay(idx) : seriesDuration * ratio + seriesDalayValue;\n        var symbolPath = el.getSymbolPath();\n        var text = symbolPath.getTextContent();\n        el.attr({\n          scaleX: 0,\n          scaleY: 0\n        });\n        el.animateTo({\n          scaleX: 1,\n          scaleY: 1\n        }, {\n          duration: 200,\n          delay: delay\n        });\n\n        if (text) {\n          text.animateFrom({\n            style: {\n              opacity: 0\n            }\n          }, {\n            duration: 300,\n            delay: delay\n          });\n        }\n\n        symbolPath.disableLabelAnimation = true;\n      }\n    });\n  };\n\n  LineView.prototype._initOrUpdateEndLabel = function (seriesModel, coordSys, inheritColor) {\n    var endLabelModel = seriesModel.getModel('endLabel');\n\n    if (endLabelModel.get('show')) {\n      var data_2 = seriesModel.getData();\n      var polyline = this._polyline;\n      var endLabel = this._endLabel;\n\n      if (!endLabel) {\n        endLabel = this._endLabel = new graphic.Text({\n          z2: 200 // should be higher than item symbol\n\n        });\n        endLabel.ignoreClip = true;\n        polyline.setTextContent(this._endLabel);\n        polyline.disableLabelAnimation = true;\n      } // Find last non-NaN data to display data\n\n\n      var dataIndex = getLastIndexNotNull(data_2.getLayout('points'));\n\n      if (dataIndex >= 0) {\n        setLabelStyle(polyline, getLabelStatesModels(seriesModel, 'endLabel'), {\n          inheritColor: inheritColor,\n          labelFetcher: seriesModel,\n          labelDataIndex: dataIndex,\n          defaultText: function (dataIndex, opt, interpolatedValue) {\n            return interpolatedValue != null ? getDefaultInterpolatedLabel(data_2, interpolatedValue) : getDefaultLabel(data_2, dataIndex);\n          },\n          enableTextSetter: true\n        }, getEndLabelStateSpecified(endLabelModel, coordSys));\n        polyline.textConfig.position = null;\n      }\n    } else if (this._endLabel) {\n      this._polyline.removeTextContent();\n\n      this._endLabel = null;\n    }\n  };\n\n  LineView.prototype._endLabelOnDuring = function (percent, clipRect, data, animationRecord, valueAnimation, endLabelModel, coordSys) {\n    var endLabel = this._endLabel;\n    var polyline = this._polyline;\n\n    if (endLabel) {\n      // NOTE: Don't remove percent < 1. percent === 1 means the first frame during render.\n      // The label is not prepared at this time.\n      if (percent < 1 && animationRecord.originalX == null) {\n        animationRecord.originalX = endLabel.x;\n        animationRecord.originalY = endLabel.y;\n      }\n\n      var points = data.getLayout('points');\n      var seriesModel = data.hostModel;\n      var connectNulls = seriesModel.get('connectNulls');\n      var precision = endLabelModel.get('precision');\n      var distance = endLabelModel.get('distance') || 0;\n      var baseAxis = coordSys.getBaseAxis();\n      var isHorizontal = baseAxis.isHorizontal();\n      var isBaseInversed = baseAxis.inverse;\n      var clipShape = clipRect.shape;\n      var xOrY = isBaseInversed ? isHorizontal ? clipShape.x : clipShape.y + clipShape.height : isHorizontal ? clipShape.x + clipShape.width : clipShape.y;\n      var distanceX = (isHorizontal ? distance : 0) * (isBaseInversed ? -1 : 1);\n      var distanceY = (isHorizontal ? 0 : -distance) * (isBaseInversed ? -1 : 1);\n      var dim = isHorizontal ? 'x' : 'y';\n      var dataIndexRange = getIndexRange(points, xOrY, dim);\n      var indices = dataIndexRange.range;\n      var diff = indices[1] - indices[0];\n      var value = void 0;\n\n      if (diff >= 1) {\n        // diff > 1 && connectNulls, which is on the null data.\n        if (diff > 1 && !connectNulls) {\n          var pt = getPointAtIndex(points, indices[0]);\n          endLabel.attr({\n            x: pt[0] + distanceX,\n            y: pt[1] + distanceY\n          });\n          valueAnimation && (value = seriesModel.getRawValue(indices[0]));\n        } else {\n          var pt = polyline.getPointOn(xOrY, dim);\n          pt && endLabel.attr({\n            x: pt[0] + distanceX,\n            y: pt[1] + distanceY\n          });\n          var startValue = seriesModel.getRawValue(indices[0]);\n          var endValue = seriesModel.getRawValue(indices[1]);\n          valueAnimation && (value = modelUtil.interpolateRawValues(data, precision, startValue, endValue, dataIndexRange.t));\n        }\n\n        animationRecord.lastFrameIndex = indices[0];\n      } else {\n        // If diff <= 0, which is the range is not found(Include NaN)\n        // Choose the first point or last point.\n        var idx = percent === 1 || animationRecord.lastFrameIndex > 0 ? indices[0] : 0;\n        var pt = getPointAtIndex(points, idx);\n        valueAnimation && (value = seriesModel.getRawValue(idx));\n        endLabel.attr({\n          x: pt[0] + distanceX,\n          y: pt[1] + distanceY\n        });\n      }\n\n      if (valueAnimation) {\n        labelInner(endLabel).setLabelText(value);\n      }\n    }\n  };\n  /**\n   * @private\n   */\n  // FIXME Two value axis\n\n\n  LineView.prototype._doUpdateAnimation = function (data, stackedOnPoints, coordSys, api, step, valueOrigin) {\n    var polyline = this._polyline;\n    var polygon = this._polygon;\n    var seriesModel = data.hostModel;\n    var diff = lineAnimationDiff(this._data, data, this._stackedOnPoints, stackedOnPoints, this._coordSys, coordSys, this._valueOrigin, valueOrigin);\n    var current = diff.current;\n    var stackedOnCurrent = diff.stackedOnCurrent;\n    var next = diff.next;\n    var stackedOnNext = diff.stackedOnNext;\n\n    if (step) {\n      // TODO If stacked series is not step\n      current = turnPointsIntoStep(diff.current, coordSys, step);\n      stackedOnCurrent = turnPointsIntoStep(diff.stackedOnCurrent, coordSys, step);\n      next = turnPointsIntoStep(diff.next, coordSys, step);\n      stackedOnNext = turnPointsIntoStep(diff.stackedOnNext, coordSys, step);\n    } // Don't apply animation if diff is large.\n    // For better result and avoid memory explosion problems like\n    // https://github.com/apache/incubator-echarts/issues/12229\n\n\n    if (getBoundingDiff(current, next) > 3000 || polygon && getBoundingDiff(stackedOnCurrent, stackedOnNext) > 3000) {\n      polyline.setShape({\n        points: next\n      });\n\n      if (polygon) {\n        polygon.setShape({\n          points: next,\n          stackedOnPoints: stackedOnNext\n        });\n      }\n\n      return;\n    }\n\n    polyline.shape.__points = diff.current;\n    polyline.shape.points = current;\n    var target = {\n      shape: {\n        points: next\n      }\n    }; // Also animate the original points.\n    // If points reference is changed when turning into step line.\n\n    if (diff.current !== current) {\n      target.shape.__points = diff.next;\n    } // Stop previous animation.\n\n\n    polyline.stopAnimation();\n    graphic.updateProps(polyline, target, seriesModel);\n\n    if (polygon) {\n      polygon.setShape({\n        // Reuse the points with polyline.\n        points: current,\n        stackedOnPoints: stackedOnCurrent\n      });\n      polygon.stopAnimation();\n      graphic.updateProps(polygon, {\n        shape: {\n          stackedOnPoints: stackedOnNext\n        }\n      }, seriesModel); // If use attr directly in updateProps.\n\n      if (polyline.shape.points !== polygon.shape.points) {\n        polygon.shape.points = polyline.shape.points;\n      }\n    }\n\n    var updatedDataInfo = [];\n    var diffStatus = diff.status;\n\n    for (var i = 0; i < diffStatus.length; i++) {\n      var cmd = diffStatus[i].cmd;\n\n      if (cmd === '=') {\n        var el = data.getItemGraphicEl(diffStatus[i].idx1);\n\n        if (el) {\n          updatedDataInfo.push({\n            el: el,\n            ptIdx: i // Index of points\n\n          });\n        }\n      }\n    }\n\n    if (polyline.animators && polyline.animators.length) {\n      polyline.animators[0].during(function () {\n        polygon && polygon.dirtyShape();\n        var points = polyline.shape.__points;\n\n        for (var i = 0; i < updatedDataInfo.length; i++) {\n          var el = updatedDataInfo[i].el;\n          var offset = updatedDataInfo[i].ptIdx * 2;\n          el.x = points[offset];\n          el.y = points[offset + 1];\n          el.markRedraw();\n        }\n      });\n    }\n  };\n\n  LineView.prototype.remove = function (ecModel) {\n    var group = this.group;\n    var oldData = this._data;\n\n    this._lineGroup.removeAll();\n\n    this._symbolDraw.remove(true); // Remove temporary created elements when highlighting\n\n\n    oldData && oldData.eachItemGraphicEl(function (el, idx) {\n      if (el.__temp) {\n        group.remove(el);\n        oldData.setItemGraphicEl(idx, null);\n      }\n    });\n    this._polyline = this._polygon = this._coordSys = this._points = this._stackedOnPoints = this._endLabel = this._data = null;\n  };\n\n  LineView.type = 'line';\n  return LineView;\n}(ChartView);\n\nexport default LineView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Float32Array */\nimport { map } from 'zrender/lib/core/util';\nimport createRenderPlanner from '../chart/helper/createRenderPlanner';\nimport { isDimensionStacked } from '../data/helper/dataStackHelper';\nimport { createFloat32Array } from '../util/vendor';\nexport default function pointsLayout(seriesType, forceStoreInTypedArray) {\n  return {\n    seriesType: seriesType,\n    plan: createRenderPlanner(),\n    reset: function (seriesModel) {\n      var data = seriesModel.getData();\n      var coordSys = seriesModel.coordinateSystem;\n      var pipelineContext = seriesModel.pipelineContext;\n      var useTypedArray = forceStoreInTypedArray || pipelineContext.large;\n\n      if (!coordSys) {\n        return;\n      }\n\n      var dims = map(coordSys.dimensions, function (dim) {\n        return data.mapDimension(dim);\n      }).slice(0, 2);\n      var dimLen = dims.length;\n      var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n      if (isDimensionStacked(data, dims[0]\n      /*, dims[1]*/\n      )) {\n        dims[0] = stackResultDim;\n      }\n\n      if (isDimensionStacked(data, dims[1]\n      /*, dims[0]*/\n      )) {\n        dims[1] = stackResultDim;\n      }\n\n      var dimInfo0 = data.getDimensionInfo(dims[0]);\n      var dimInfo1 = data.getDimensionInfo(dims[1]);\n      var dimIdx0 = dimInfo0 && dimInfo0.index;\n      var dimIdx1 = dimInfo1 && dimInfo1.index;\n      return dimLen && {\n        progress: function (params, data) {\n          var segCount = params.end - params.start;\n          var points = useTypedArray && createFloat32Array(segCount * dimLen);\n          var tmpIn = [];\n          var tmpOut = [];\n\n          for (var i = params.start, offset = 0; i < params.end; i++) {\n            var point = void 0;\n\n            if (dimLen === 1) {\n              var x = data.getByDimIdx(dimIdx0, i); // NOTE: Make sure the second parameter is null to use default strategy.\n\n              point = coordSys.dataToPoint(x, null, tmpOut);\n            } else {\n              tmpIn[0] = data.getByDimIdx(dimIdx0, i);\n              tmpIn[1] = data.getByDimIdx(dimIdx1, i); // Let coordinate system to handle the NaN data.\n\n              point = coordSys.dataToPoint(tmpIn, null, tmpOut);\n            }\n\n            if (useTypedArray) {\n              points[offset++] = point[0];\n              points[offset++] = point[1];\n            } else {\n              data.setItemLayout(i, point.slice());\n            }\n          }\n\n          useTypedArray && data.setLayout('points', points);\n        }\n      };\n    }\n  };\n}\n;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport LineSeries from './LineSeries';\nimport LineView from './LineView'; // In case developer forget to include grid component\n\nimport layoutPoints from '../../layout/points';\nimport dataSample from '../../processor/dataSample';\nexport function install(registers) {\n  registers.registerChartView(LineView);\n  registers.registerSeriesModel(LineSeries);\n  registers.registerLayout(layoutPoints('line', true));\n  registers.registerVisual({\n    seriesType: 'line',\n    reset: function (seriesModel) {\n      var data = seriesModel.getData(); // Visual coding for legend\n\n      var lineStyle = seriesModel.getModel('lineStyle').getLineStyle();\n\n      if (lineStyle && !lineStyle.stroke) {\n        // Fill in visual should be palette color if\n        // has color callback\n        lineStyle.stroke = data.getVisual('style').fill;\n      }\n\n      data.setVisual('legendLineStyle', lineStyle);\n    }\n  }); // Down sample after filter\n\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.STATISTIC, dataSample('line'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as graphic from '../../util/graphic';\nimport { getECData } from '../../util/innerStore';\nimport { createTextStyle } from '../../label/labelStyle';\nimport { getLayoutRect } from '../../util/layout';\nimport ComponentModel from '../../model/Component';\nimport ComponentView from '../../view/Component';\nimport { windowOpen } from '../../util/format';\n\nvar TitleModel =\n/** @class */\nfunction (_super) {\n  __extends(TitleModel, _super);\n\n  function TitleModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = TitleModel.type;\n    _this.layoutMode = {\n      type: 'box',\n      ignoreSize: true\n    };\n    return _this;\n  }\n\n  TitleModel.type = 'title';\n  TitleModel.defaultOption = {\n    zlevel: 0,\n    z: 6,\n    show: true,\n    text: '',\n    target: 'blank',\n    subtext: '',\n    subtarget: 'blank',\n    left: 0,\n    top: 0,\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    borderWidth: 0,\n    padding: 5,\n    itemGap: 10,\n    textStyle: {\n      fontSize: 18,\n      fontWeight: 'bold',\n      color: '#464646'\n    },\n    subtextStyle: {\n      fontSize: 12,\n      color: '#6E7079'\n    }\n  };\n  return TitleModel;\n}(ComponentModel); // View\n\n\nvar TitleView =\n/** @class */\nfunction (_super) {\n  __extends(TitleView, _super);\n\n  function TitleView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = TitleView.type;\n    return _this;\n  }\n\n  TitleView.prototype.render = function (titleModel, ecModel, api) {\n    this.group.removeAll();\n\n    if (!titleModel.get('show')) {\n      return;\n    }\n\n    var group = this.group;\n    var textStyleModel = titleModel.getModel('textStyle');\n    var subtextStyleModel = titleModel.getModel('subtextStyle');\n    var textAlign = titleModel.get('textAlign');\n    var textVerticalAlign = zrUtil.retrieve2(titleModel.get('textBaseline'), titleModel.get('textVerticalAlign'));\n    var textEl = new graphic.Text({\n      style: createTextStyle(textStyleModel, {\n        text: titleModel.get('text'),\n        fill: textStyleModel.getTextColor()\n      }, {\n        disableBox: true\n      }),\n      z2: 10\n    });\n    var textRect = textEl.getBoundingRect();\n    var subText = titleModel.get('subtext');\n    var subTextEl = new graphic.Text({\n      style: createTextStyle(subtextStyleModel, {\n        text: subText,\n        fill: subtextStyleModel.getTextColor(),\n        y: textRect.height + titleModel.get('itemGap'),\n        verticalAlign: 'top'\n      }, {\n        disableBox: true\n      }),\n      z2: 10\n    });\n    var link = titleModel.get('link');\n    var sublink = titleModel.get('sublink');\n    var triggerEvent = titleModel.get('triggerEvent', true);\n    textEl.silent = !link && !triggerEvent;\n    subTextEl.silent = !sublink && !triggerEvent;\n\n    if (link) {\n      textEl.on('click', function () {\n        windowOpen(link, '_' + titleModel.get('target'));\n      });\n    }\n\n    if (sublink) {\n      subTextEl.on('click', function () {\n        windowOpen(sublink, '_' + titleModel.get('subtarget'));\n      });\n    }\n\n    getECData(textEl).eventData = getECData(subTextEl).eventData = triggerEvent ? {\n      componentType: 'title',\n      componentIndex: titleModel.componentIndex\n    } : null;\n    group.add(textEl);\n    subText && group.add(subTextEl); // If no subText, but add subTextEl, there will be an empty line.\n\n    var groupRect = group.getBoundingRect();\n    var layoutOption = titleModel.getBoxLayoutParams();\n    layoutOption.width = groupRect.width;\n    layoutOption.height = groupRect.height;\n    var layoutRect = getLayoutRect(layoutOption, {\n      width: api.getWidth(),\n      height: api.getHeight()\n    }, titleModel.get('padding')); // Adjust text align based on position\n\n    if (!textAlign) {\n      // Align left if title is on the left. center and right is same\n      textAlign = titleModel.get('left') || titleModel.get('right'); // @ts-ignore\n\n      if (textAlign === 'middle') {\n        textAlign = 'center';\n      } // Adjust layout by text align\n\n\n      if (textAlign === 'right') {\n        layoutRect.x += layoutRect.width;\n      } else if (textAlign === 'center') {\n        layoutRect.x += layoutRect.width / 2;\n      }\n    }\n\n    if (!textVerticalAlign) {\n      textVerticalAlign = titleModel.get('top') || titleModel.get('bottom'); // @ts-ignore\n\n      if (textVerticalAlign === 'center') {\n        textVerticalAlign = 'middle';\n      }\n\n      if (textVerticalAlign === 'bottom') {\n        layoutRect.y += layoutRect.height;\n      } else if (textVerticalAlign === 'middle') {\n        layoutRect.y += layoutRect.height / 2;\n      }\n\n      textVerticalAlign = textVerticalAlign || 'top';\n    }\n\n    group.x = layoutRect.x;\n    group.y = layoutRect.y;\n    group.markRedraw();\n    var alignStyle = {\n      align: textAlign,\n      verticalAlign: textVerticalAlign\n    };\n    textEl.setStyle(alignStyle);\n    subTextEl.setStyle(alignStyle); // Render background\n    // Get groupRect again because textAlign has been changed\n\n    groupRect = group.getBoundingRect();\n    var padding = layoutRect.margin;\n    var style = titleModel.getItemStyle(['color', 'opacity']);\n    style.fill = titleModel.get('backgroundColor');\n    var rect = new graphic.Rect({\n      shape: {\n        x: groupRect.x - padding[3],\n        y: groupRect.y - padding[0],\n        width: groupRect.width + padding[1] + padding[3],\n        height: groupRect.height + padding[0] + padding[2],\n        r: titleModel.get('borderRadius')\n      },\n      style: style,\n      subPixelOptimize: true,\n      silent: true\n    });\n    group.add(rect);\n  };\n\n  TitleView.type = 'title';\n  return TitleView;\n}(ComponentView);\n\nexport function install(registers) {\n  registers.registerComponentModel(TitleModel);\n  registers.registerComponentView(TitleView);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport Model from '../../model/Model';\nimport { isNameSpecified } from '../../util/model';\nimport ComponentModel from '../../model/Component';\n\nvar getDefaultSelectorOptions = function (ecModel, type) {\n  if (type === 'all') {\n    return {\n      type: 'all',\n      title: ecModel.getLocale(['legend', 'selector', 'all'])\n    };\n  } else if (type === 'inverse') {\n    return {\n      type: 'inverse',\n      title: ecModel.getLocale(['legend', 'selector', 'inverse'])\n    };\n  }\n};\n\nvar LegendModel =\n/** @class */\nfunction (_super) {\n  __extends(LegendModel, _super);\n\n  function LegendModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = LegendModel.type;\n    _this.layoutMode = {\n      type: 'box',\n      // legend.width/height are maxWidth/maxHeight actually,\n      // whereas realy width/height is calculated by its content.\n      // (Setting {left: 10, right: 10} does not make sense).\n      // So consider the case:\n      // `setOption({legend: {left: 10});`\n      // then `setOption({legend: {right: 10});`\n      // The previous `left` should be cleared by setting `ignoreSize`.\n      ignoreSize: true\n    };\n    return _this;\n  }\n\n  LegendModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n    option.selected = option.selected || {};\n\n    this._updateSelector(option);\n  };\n\n  LegendModel.prototype.mergeOption = function (option, ecModel) {\n    _super.prototype.mergeOption.call(this, option, ecModel);\n\n    this._updateSelector(option);\n  };\n\n  LegendModel.prototype._updateSelector = function (option) {\n    var selector = option.selector;\n    var ecModel = this.ecModel;\n\n    if (selector === true) {\n      selector = option.selector = ['all', 'inverse'];\n    }\n\n    if (zrUtil.isArray(selector)) {\n      zrUtil.each(selector, function (item, index) {\n        zrUtil.isString(item) && (item = {\n          type: item\n        });\n        selector[index] = zrUtil.merge(item, getDefaultSelectorOptions(ecModel, item.type));\n      });\n    }\n  };\n\n  LegendModel.prototype.optionUpdated = function () {\n    this._updateData(this.ecModel);\n\n    var legendData = this._data; // If selectedMode is single, try to select one\n\n    if (legendData[0] && this.get('selectedMode') === 'single') {\n      var hasSelected = false; // If has any selected in option.selected\n\n      for (var i = 0; i < legendData.length; i++) {\n        var name_1 = legendData[i].get('name');\n\n        if (this.isSelected(name_1)) {\n          // Force to unselect others\n          this.select(name_1);\n          hasSelected = true;\n          break;\n        }\n      } // Try select the first if selectedMode is single\n\n\n      !hasSelected && this.select(legendData[0].get('name'));\n    }\n  };\n\n  LegendModel.prototype._updateData = function (ecModel) {\n    var potentialData = [];\n    var availableNames = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      var seriesName = seriesModel.name;\n      availableNames.push(seriesName);\n      var isPotential;\n\n      if (seriesModel.legendVisualProvider) {\n        var provider = seriesModel.legendVisualProvider;\n        var names = provider.getAllNames();\n\n        if (!ecModel.isSeriesFiltered(seriesModel)) {\n          availableNames = availableNames.concat(names);\n        }\n\n        if (names.length) {\n          potentialData = potentialData.concat(names);\n        } else {\n          isPotential = true;\n        }\n      } else {\n        isPotential = true;\n      }\n\n      if (isPotential && isNameSpecified(seriesModel)) {\n        potentialData.push(seriesModel.name);\n      }\n    });\n    /**\n     * @type {Array.<string>}\n     * @private\n     */\n\n    this._availableNames = availableNames; // If legend.data not specified in option, use availableNames as data,\n    // which is convinient for user preparing option.\n\n    var rawData = this.get('data') || potentialData;\n    var legendData = zrUtil.map(rawData, function (dataItem) {\n      // Can be string or number\n      if (typeof dataItem === 'string' || typeof dataItem === 'number') {\n        dataItem = {\n          name: dataItem\n        };\n      }\n\n      return new Model(dataItem, this, this.ecModel);\n    }, this);\n    /**\n     * @type {Array.<module:echarts/model/Model>}\n     * @private\n     */\n\n    this._data = legendData;\n  };\n\n  LegendModel.prototype.getData = function () {\n    return this._data;\n  };\n\n  LegendModel.prototype.select = function (name) {\n    var selected = this.option.selected;\n    var selectedMode = this.get('selectedMode');\n\n    if (selectedMode === 'single') {\n      var data = this._data;\n      zrUtil.each(data, function (dataItem) {\n        selected[dataItem.get('name')] = false;\n      });\n    }\n\n    selected[name] = true;\n  };\n\n  LegendModel.prototype.unSelect = function (name) {\n    if (this.get('selectedMode') !== 'single') {\n      this.option.selected[name] = false;\n    }\n  };\n\n  LegendModel.prototype.toggleSelected = function (name) {\n    var selected = this.option.selected; // Default is true\n\n    if (!selected.hasOwnProperty(name)) {\n      selected[name] = true;\n    }\n\n    this[selected[name] ? 'unSelect' : 'select'](name);\n  };\n\n  LegendModel.prototype.allSelect = function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      selected[dataItem.get('name', true)] = true;\n    });\n  };\n\n  LegendModel.prototype.inverseSelect = function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      var name = dataItem.get('name', true); // Initially, default value is true\n\n      if (!selected.hasOwnProperty(name)) {\n        selected[name] = true;\n      }\n\n      selected[name] = !selected[name];\n    });\n  };\n\n  LegendModel.prototype.isSelected = function (name) {\n    var selected = this.option.selected;\n    return !(selected.hasOwnProperty(name) && !selected[name]) && zrUtil.indexOf(this._availableNames, name) >= 0;\n  };\n\n  LegendModel.prototype.getOrient = function () {\n    return this.get('orient') === 'vertical' ? {\n      index: 1,\n      name: 'vertical'\n    } : {\n      index: 0,\n      name: 'horizontal'\n    };\n  };\n\n  LegendModel.type = 'legend.plain';\n  LegendModel.dependencies = ['series'];\n  LegendModel.defaultOption = {\n    zlevel: 0,\n    z: 4,\n    show: true,\n    orient: 'horizontal',\n    left: 'center',\n    // right: 'center',\n    top: 0,\n    // bottom: null,\n    align: 'auto',\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    borderRadius: 0,\n    borderWidth: 0,\n    padding: 5,\n    itemGap: 10,\n    itemWidth: 25,\n    itemHeight: 14,\n    symbolRotate: 'inherit',\n    inactiveColor: '#ccc',\n    inactiveBorderColor: '#ccc',\n    inactiveBorderWidth: 'auto',\n    itemStyle: {\n      color: 'inherit',\n      opacity: 'inherit',\n      decal: 'inherit',\n      shadowBlur: 0,\n      shadowColor: null,\n      shadowOffsetX: 0,\n      shadowOffsetY: 0,\n      borderColor: 'inherit',\n      borderWidth: 'auto',\n      borderCap: 'inherit',\n      borderJoin: 'inherit',\n      borderDashOffset: 'inherit',\n      borderMiterLimit: 'inherit'\n    },\n    lineStyle: {\n      width: 'auto',\n      color: 'inherit',\n      inactiveColor: '#ccc',\n      inactiveWidth: 2,\n      opacity: 'inherit',\n      type: 'inherit',\n      cap: 'inherit',\n      join: 'inherit',\n      dashOffset: 'inherit',\n      miterLimit: 'inherit',\n      shadowBlur: 0,\n      shadowColor: null,\n      shadowOffsetX: 0,\n      shadowOffsetY: 0\n    },\n    textStyle: {\n      color: '#333'\n    },\n    selectedMode: true,\n    selector: false,\n    selectorLabel: {\n      show: true,\n      borderRadius: 10,\n      padding: [3, 5, 3, 5],\n      fontSize: 12,\n      fontFamily: ' sans-serif',\n      color: '#666',\n      borderWidth: 1,\n      borderColor: '#666'\n    },\n    emphasis: {\n      selectorLabel: {\n        show: true,\n        color: '#eee',\n        backgroundColor: '#666'\n      }\n    },\n    selectorPosition: 'auto',\n    selectorItemGap: 7,\n    selectorButtonGap: 10,\n    tooltip: {\n      show: false\n    }\n  };\n  return LegendModel;\n}(ComponentModel);\n\nexport default LegendModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport { getLayoutRect, box as layoutBox, positionElement } from '../../util/layout';\nimport * as formatUtil from '../../util/format';\nimport * as graphic from '../../util/graphic';\n/**\n * Layout list like component.\n * It will box layout each items in group of component and then position the whole group in the viewport\n * @param {module:zrender/group/Group} group\n * @param {module:echarts/model/Component} componentModel\n * @param {module:echarts/ExtensionAPI}\n */\n\nexport function layout(group, componentModel, api) {\n  var boxLayoutParams = componentModel.getBoxLayoutParams();\n  var padding = componentModel.get('padding');\n  var viewportSize = {\n    width: api.getWidth(),\n    height: api.getHeight()\n  };\n  var rect = getLayoutRect(boxLayoutParams, viewportSize, padding);\n  layoutBox(componentModel.get('orient'), group, componentModel.get('itemGap'), rect.width, rect.height);\n  positionElement(group, boxLayoutParams, viewportSize, padding);\n}\nexport function makeBackground(rect, componentModel) {\n  var padding = formatUtil.normalizeCssArray(componentModel.get('padding'));\n  var style = componentModel.getItemStyle(['color', 'opacity']);\n  style.fill = componentModel.get('backgroundColor');\n  rect = new graphic.Rect({\n    shape: {\n      x: rect.x - padding[3],\n      y: rect.y - padding[0],\n      width: rect.width + padding[1] + padding[3],\n      height: rect.height + padding[0] + padding[2],\n      r: componentModel.get('borderRadius')\n    },\n    style: style,\n    silent: true,\n    z2: -1\n  }); // FIXME\n  // `subPixelOptimizeRect` may bring some gap between edge of viewpart\n  // and background rect when setting like `left: 0`, `top: 0`.\n  // graphic.subPixelOptimizeRect(rect);\n\n  return rect;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport { parse, stringify } from 'zrender/lib/tool/color';\nimport * as graphic from '../../util/graphic';\nimport { enableHoverEmphasis } from '../../util/states';\nimport { setLabelStyle, createTextStyle } from '../../label/labelStyle';\nimport { makeBackground } from '../helper/listComponent';\nimport * as layoutUtil from '../../util/layout';\nimport ComponentView from '../../view/Component';\nimport { LINE_STYLE_KEY_MAP } from '../../model/mixin/lineStyle';\nimport { ITEM_STYLE_KEY_MAP } from '../../model/mixin/itemStyle';\nimport { createSymbol } from '../../util/symbol';\nvar curry = zrUtil.curry;\nvar each = zrUtil.each;\nvar Group = graphic.Group;\n\nvar LegendView =\n/** @class */\nfunction (_super) {\n  __extends(LegendView, _super);\n\n  function LegendView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = LegendView.type;\n    _this.newlineDisabled = false;\n    return _this;\n  }\n\n  LegendView.prototype.init = function () {\n    this.group.add(this._contentGroup = new Group());\n    this.group.add(this._selectorGroup = new Group());\n    this._isFirstRender = true;\n  };\n  /**\n   * @protected\n   */\n\n\n  LegendView.prototype.getContentGroup = function () {\n    return this._contentGroup;\n  };\n  /**\n   * @protected\n   */\n\n\n  LegendView.prototype.getSelectorGroup = function () {\n    return this._selectorGroup;\n  };\n  /**\n   * @override\n   */\n\n\n  LegendView.prototype.render = function (legendModel, ecModel, api) {\n    var isFirstRender = this._isFirstRender;\n    this._isFirstRender = false;\n    this.resetInner();\n\n    if (!legendModel.get('show', true)) {\n      return;\n    }\n\n    var itemAlign = legendModel.get('align');\n    var orient = legendModel.get('orient');\n\n    if (!itemAlign || itemAlign === 'auto') {\n      itemAlign = legendModel.get('left') === 'right' && orient === 'vertical' ? 'right' : 'left';\n    } // selector has been normalized to an array in model\n\n\n    var selector = legendModel.get('selector', true);\n    var selectorPosition = legendModel.get('selectorPosition', true);\n\n    if (selector && (!selectorPosition || selectorPosition === 'auto')) {\n      selectorPosition = orient === 'horizontal' ? 'end' : 'start';\n    }\n\n    this.renderInner(itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition); // Perform layout.\n\n    var positionInfo = legendModel.getBoxLayoutParams();\n    var viewportSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var padding = legendModel.get('padding');\n    var maxSize = layoutUtil.getLayoutRect(positionInfo, viewportSize, padding);\n    var mainRect = this.layoutInner(legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition); // Place mainGroup, based on the calculated `mainRect`.\n\n    var layoutRect = layoutUtil.getLayoutRect(zrUtil.defaults({\n      width: mainRect.width,\n      height: mainRect.height\n    }, positionInfo), viewportSize, padding);\n    this.group.x = layoutRect.x - mainRect.x;\n    this.group.y = layoutRect.y - mainRect.y;\n    this.group.markRedraw(); // Render background after group is layout.\n\n    this.group.add(this._backgroundEl = makeBackground(mainRect, legendModel));\n  };\n\n  LegendView.prototype.resetInner = function () {\n    this.getContentGroup().removeAll();\n    this._backgroundEl && this.group.remove(this._backgroundEl);\n    this.getSelectorGroup().removeAll();\n  };\n\n  LegendView.prototype.renderInner = function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var legendDrawnMap = zrUtil.createHashMap();\n    var selectMode = legendModel.get('selectedMode');\n    var excludeSeriesId = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      !seriesModel.get('legendHoverLink') && excludeSeriesId.push(seriesModel.id);\n    });\n    each(legendModel.getData(), function (legendItemModel, dataIndex) {\n      var name = legendItemModel.get('name'); // Use empty string or \\n as a newline string\n\n      if (!this.newlineDisabled && (name === '' || name === '\\n')) {\n        var g = new Group(); // @ts-ignore\n\n        g.newline = true;\n        contentGroup.add(g);\n        return;\n      } // Representitive series.\n\n\n      var seriesModel = ecModel.getSeriesByName(name)[0];\n\n      if (legendDrawnMap.get(name)) {\n        // Have been drawed\n        return;\n      } // Legend to control series.\n\n\n      if (seriesModel) {\n        var data = seriesModel.getData();\n        var lineVisualStyle = data.getVisual('legendLineStyle') || {};\n        var legendIcon = data.getVisual('legendIcon');\n        /**\n         * `data.getVisual('style')` may be the color from the register\n         * in series. For example, for line series,\n         */\n\n        var style = data.getVisual('style');\n\n        var itemGroup = this._createItem(seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, lineVisualStyle, style, legendIcon, selectMode);\n\n        itemGroup.on('click', curry(dispatchSelectAction, name, null, api, excludeSeriesId)).on('mouseover', curry(dispatchHighlightAction, seriesModel.name, null, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, seriesModel.name, null, api, excludeSeriesId));\n        legendDrawnMap.set(name, true);\n      } else {\n        // Legend to control data. In pie and funnel.\n        ecModel.eachRawSeries(function (seriesModel) {\n          // In case multiple series has same data name\n          if (legendDrawnMap.get(name)) {\n            return;\n          }\n\n          if (seriesModel.legendVisualProvider) {\n            var provider = seriesModel.legendVisualProvider;\n\n            if (!provider.containName(name)) {\n              return;\n            }\n\n            var idx = provider.indexOfName(name);\n            var style = provider.getItemVisual(idx, 'style');\n            var legendIcon = provider.getItemVisual(idx, 'legendIcon');\n            var colorArr = parse(style.fill); // Color may be set to transparent in visualMap when data is out of range.\n            // Do not show nothing.\n\n            if (colorArr && colorArr[3] === 0) {\n              colorArr[3] = 0.2; // TODO color is set to 0, 0, 0, 0. Should show correct RGBA\n\n              style.fill = stringify(colorArr, 'rgba');\n            }\n\n            var itemGroup = this._createItem(seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, {}, style, legendIcon, selectMode); // FIXME: consider different series has items with the same name.\n\n\n            itemGroup.on('click', curry(dispatchSelectAction, null, name, api, excludeSeriesId)) // Should not specify the series name, consider legend controls\n            // more than one pie series.\n            .on('mouseover', curry(dispatchHighlightAction, null, name, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, null, name, api, excludeSeriesId));\n            legendDrawnMap.set(name, true);\n          }\n        }, this);\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (!legendDrawnMap.get(name)) {\n          console.warn(name + ' series not exists. Legend data should be same with series name or data name.');\n        }\n      }\n    }, this);\n\n    if (selector) {\n      this._createSelector(selector, legendModel, api, orient, selectorPosition);\n    }\n  };\n\n  LegendView.prototype._createSelector = function (selector, legendModel, api, orient, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    each(selector, function createSelectorButton(selectorItem) {\n      var type = selectorItem.type;\n      var labelText = new graphic.Text({\n        style: {\n          x: 0,\n          y: 0,\n          align: 'center',\n          verticalAlign: 'middle'\n        },\n        onclick: function () {\n          api.dispatchAction({\n            type: type === 'all' ? 'legendAllSelect' : 'legendInverseSelect'\n          });\n        }\n      });\n      selectorGroup.add(labelText);\n      var labelModel = legendModel.getModel('selectorLabel');\n      var emphasisLabelModel = legendModel.getModel(['emphasis', 'selectorLabel']);\n      setLabelStyle(labelText, {\n        normal: labelModel,\n        emphasis: emphasisLabelModel\n      }, {\n        defaultText: selectorItem.title\n      });\n      enableHoverEmphasis(labelText);\n    });\n  };\n\n  LegendView.prototype._createItem = function (seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, lineVisualStyle, itemVisualStyle, legendIcon, selectMode) {\n    var drawType = seriesModel.visualDrawType;\n    var itemWidth = legendModel.get('itemWidth');\n    var itemHeight = legendModel.get('itemHeight');\n    var isSelected = legendModel.isSelected(name);\n    var iconRotate = legendItemModel.get('symbolRotate');\n    var legendIconType = legendItemModel.get('icon');\n    legendIcon = legendIconType || legendIcon || 'roundRect';\n    var legendLineStyle = legendModel.getModel('lineStyle');\n    var style = getLegendStyle(legendIcon, legendItemModel, legendLineStyle, lineVisualStyle, itemVisualStyle, drawType, isSelected);\n    var itemGroup = new Group();\n    var textStyleModel = legendItemModel.getModel('textStyle');\n\n    if (typeof seriesModel.getLegendIcon === 'function' && (!legendIconType || legendIconType === 'inherit')) {\n      // Series has specific way to define legend icon\n      itemGroup.add(seriesModel.getLegendIcon({\n        itemWidth: itemWidth,\n        itemHeight: itemHeight,\n        icon: legendIcon,\n        iconRotate: iconRotate,\n        itemStyle: style.itemStyle,\n        lineStyle: style.lineStyle\n      }));\n    } else {\n      // Use default legend icon policy for most series\n      var rotate = legendIconType === 'inherit' && seriesModel.getData().getVisual('symbol') ? iconRotate === 'inherit' ? seriesModel.getData().getVisual('symbolRotate') : iconRotate : 0; // No rotation for no icon\n\n      itemGroup.add(getDefaultLegendIcon({\n        itemWidth: itemWidth,\n        itemHeight: itemHeight,\n        icon: legendIcon,\n        iconRotate: rotate,\n        itemStyle: style.itemStyle,\n        lineStyle: style.lineStyle\n      }));\n    }\n\n    var textX = itemAlign === 'left' ? itemWidth + 5 : -5;\n    var textAlign = itemAlign;\n    var formatter = legendModel.get('formatter');\n    var content = name;\n\n    if (typeof formatter === 'string' && formatter) {\n      content = formatter.replace('{name}', name != null ? name : '');\n    } else if (typeof formatter === 'function') {\n      content = formatter(name);\n    }\n\n    var inactiveColor = legendItemModel.get('inactiveColor');\n    itemGroup.add(new graphic.Text({\n      style: createTextStyle(textStyleModel, {\n        text: content,\n        x: textX,\n        y: itemHeight / 2,\n        fill: isSelected ? textStyleModel.getTextColor() : inactiveColor,\n        align: textAlign,\n        verticalAlign: 'middle'\n      })\n    })); // Add a invisible rect to increase the area of mouse hover\n\n    var hitRect = new graphic.Rect({\n      shape: itemGroup.getBoundingRect(),\n      invisible: true\n    });\n    var tooltipModel = legendItemModel.getModel('tooltip');\n\n    if (tooltipModel.get('show')) {\n      graphic.setTooltipConfig({\n        el: hitRect,\n        componentModel: legendModel,\n        itemName: name,\n        itemTooltipOption: tooltipModel.option\n      });\n    }\n\n    itemGroup.add(hitRect);\n    itemGroup.eachChild(function (child) {\n      child.silent = true;\n    });\n    hitRect.silent = !selectMode;\n    this.getContentGroup().add(itemGroup);\n    enableHoverEmphasis(itemGroup); // @ts-ignore\n\n    itemGroup.__legendDataIndex = dataIndex;\n    return itemGroup;\n  };\n\n  LegendView.prototype.layoutInner = function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var selectorGroup = this.getSelectorGroup(); // Place items in contentGroup.\n\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), maxSize.width, maxSize.height);\n    var contentRect = contentGroup.getBoundingRect();\n    var contentPos = [-contentRect.x, -contentRect.y];\n    selectorGroup.markRedraw();\n    contentGroup.markRedraw();\n\n    if (selector) {\n      // Place buttons in selectorGroup\n      layoutUtil.box( // Buttons in selectorGroup always layout horizontally\n      'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n      var selectorRect = selectorGroup.getBoundingRect();\n      var selectorPos = [-selectorRect.x, -selectorRect.y];\n      var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n      var orientIdx = legendModel.getOrient().index;\n      var wh = orientIdx === 0 ? 'width' : 'height';\n      var hw = orientIdx === 0 ? 'height' : 'width';\n      var yx = orientIdx === 0 ? 'y' : 'x';\n\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += contentRect[wh] + selectorButtonGap;\n      } else {\n        contentPos[orientIdx] += selectorRect[wh] + selectorButtonGap;\n      } //Always align selector to content as 'middle'\n\n\n      selectorPos[1 - orientIdx] += contentRect[hw] / 2 - selectorRect[hw] / 2;\n      selectorGroup.x = selectorPos[0];\n      selectorGroup.y = selectorPos[1];\n      contentGroup.x = contentPos[0];\n      contentGroup.y = contentPos[1];\n      var mainRect = {\n        x: 0,\n        y: 0\n      };\n      mainRect[wh] = contentRect[wh] + selectorButtonGap + selectorRect[wh];\n      mainRect[hw] = Math.max(contentRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(0, selectorRect[yx] + selectorPos[1 - orientIdx]);\n      return mainRect;\n    } else {\n      contentGroup.x = contentPos[0];\n      contentGroup.y = contentPos[1];\n      return this.group.getBoundingRect();\n    }\n  };\n  /**\n   * @protected\n   */\n\n\n  LegendView.prototype.remove = function () {\n    this.getContentGroup().removeAll();\n    this._isFirstRender = true;\n  };\n\n  LegendView.type = 'legend.plain';\n  return LegendView;\n}(ComponentView);\n\nfunction getLegendStyle(iconType, legendModel, legendLineStyle, lineVisualStyle, itemVisualStyle, drawType, isSelected) {\n  /**\n   * Use series style if is inherit;\n   * elsewise, use legend style\n   */\n  // itemStyle\n  var legendItemModel = legendModel.getModel('itemStyle');\n  var itemProperties = ITEM_STYLE_KEY_MAP.concat([['decal']]);\n  var itemStyle = {};\n\n  for (var i = 0; i < itemProperties.length; ++i) {\n    var propName = itemProperties[i][itemProperties[i].length - 1];\n    var visualName = itemProperties[i][0];\n    var value = legendItemModel.getShallow(propName);\n\n    if (value === 'inherit') {\n      switch (visualName) {\n        case 'fill':\n          /**\n           * Series with visualDrawType as 'stroke' should have\n           * series stroke as legend fill\n           */\n          itemStyle.fill = itemVisualStyle[drawType];\n          break;\n\n        case 'stroke':\n          /**\n           * icon type with \"emptyXXX\" should use fill color\n           * in visual style\n           */\n          itemStyle.stroke = itemVisualStyle[iconType.lastIndexOf('empty', 0) === 0 ? 'fill' : 'stroke'];\n          break;\n\n        case 'opacity':\n          /**\n           * Use lineStyle.opacity if drawType is stroke\n           */\n          itemStyle.opacity = (drawType === 'fill' ? itemVisualStyle : lineVisualStyle).opacity;\n          break;\n\n        default:\n          itemStyle[visualName] = itemVisualStyle[visualName];\n      }\n    } else if (value === 'auto' && visualName === 'lineWidth') {\n      // If lineStyle.width is 'auto', it is set to be 2 if series has border\n      itemStyle.lineWidth = itemVisualStyle.lineWidth > 0 ? 2 : 0;\n    } else {\n      itemStyle[visualName] = value;\n    }\n  } // lineStyle\n\n\n  var legendLineModel = legendModel.getModel('lineStyle');\n  var lineProperties = LINE_STYLE_KEY_MAP.concat([['inactiveColor'], ['inactiveWidth']]);\n  var lineStyle = {};\n\n  for (var i = 0; i < lineProperties.length; ++i) {\n    var propName = lineProperties[i][1];\n    var visualName = lineProperties[i][0];\n    var value = legendLineModel.getShallow(propName);\n\n    if (value === 'inherit') {\n      lineStyle[visualName] = lineVisualStyle[visualName];\n    } else if (value === 'auto' && visualName === 'lineWidth') {\n      // If lineStyle.width is 'auto', it is set to be 2 if series has border\n      lineStyle.lineWidth = lineVisualStyle.lineWidth > 0 ? 2 : 0;\n    } else {\n      lineStyle[visualName] = value;\n    }\n  } // Fix auto color to real color\n\n\n  itemStyle.fill === 'auto' && (itemStyle.fill = itemVisualStyle.fill);\n  itemStyle.stroke === 'auto' && (itemStyle.stroke = itemVisualStyle.fill);\n  lineStyle.stroke === 'auto' && (lineStyle.stroke = itemVisualStyle.fill);\n\n  if (!isSelected) {\n    var borderWidth = legendModel.get('inactiveBorderWidth');\n    /**\n     * Since stroke is set to be inactiveBorderColor, it may occur that\n     * there is no border in series but border in legend, so we need to\n     * use border only when series has border if is set to be auto\n     */\n\n    var visualHasBorder = itemStyle[iconType.indexOf('empty') > -1 ? 'fill' : 'stroke'];\n    itemStyle.lineWidth = borderWidth === 'auto' ? itemVisualStyle.lineWidth > 0 && visualHasBorder ? 2 : 0 : itemStyle.lineWidth;\n    itemStyle.fill = legendModel.get('inactiveColor');\n    itemStyle.stroke = legendModel.get('inactiveBorderColor');\n    lineStyle.stroke = legendLineStyle.get('inactiveColor');\n    lineStyle.lineWidth = legendLineStyle.get('inactiveWidth');\n  }\n\n  return {\n    itemStyle: itemStyle,\n    lineStyle: lineStyle\n  };\n}\n\nfunction getDefaultLegendIcon(opt) {\n  var symboType = opt.icon || 'roundRect';\n  var icon = createSymbol(symboType, 0, 0, opt.itemWidth, opt.itemHeight, opt.itemStyle.fill);\n  icon.setStyle(opt.itemStyle);\n  icon.rotation = (opt.iconRotate || 0) * Math.PI / 180;\n  icon.setOrigin([opt.itemWidth / 2, opt.itemHeight / 2]);\n\n  if (symboType.indexOf('empty') > -1) {\n    icon.style.stroke = icon.style.fill;\n    icon.style.fill = '#fff';\n    icon.style.lineWidth = 2;\n  }\n\n  return icon;\n}\n\nfunction dispatchSelectAction(seriesName, dataName, api, excludeSeriesId) {\n  // downplay before unselect\n  dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId);\n  api.dispatchAction({\n    type: 'legendToggleSelect',\n    name: seriesName != null ? seriesName : dataName\n  }); // highlight after select\n  // TODO higlight immediately may cause animation loss.\n\n  dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId);\n}\n\nfunction isUseHoverLayer(api) {\n  var list = api.getZr().storage.getDisplayList();\n  var emphasisState;\n  var i = 0;\n  var len = list.length;\n\n  while (i < len && !(emphasisState = list[i].states.emphasis)) {\n    i++;\n  }\n\n  return emphasisState && emphasisState.hoverLayer;\n}\n\nfunction dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  if (!isUseHoverLayer(api)) {\n    api.dispatchAction({\n      type: 'highlight',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\n\nfunction dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  if (!isUseHoverLayer(api)) {\n    api.dispatchAction({\n      type: 'downplay',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\n\nexport default LegendView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function legendFilter(ecModel) {\n  var legendModels = ecModel.findComponents({\n    mainType: 'legend'\n  });\n\n  if (legendModels && legendModels.length) {\n    ecModel.filterSeries(function (series) {\n      // If in any legend component the status is not selected.\n      // Because in legend series is assumed selected when it is not in the legend data.\n      for (var i = 0; i < legendModels.length; i++) {\n        if (!legendModels[i].isSelected(series.name)) {\n          return false;\n        }\n      }\n\n      return true;\n    });\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport { curry, each } from 'zrender/lib/core/util';\n\nfunction legendSelectActionHandler(methodName, payload, ecModel) {\n  var selectedMap = {};\n  var isToggleSelect = methodName === 'toggleSelected';\n  var isSelected; // Update all legend components\n\n  ecModel.eachComponent('legend', function (legendModel) {\n    if (isToggleSelect && isSelected != null) {\n      // Force other legend has same selected status\n      // Or the first is toggled to true and other are toggled to false\n      // In the case one legend has some item unSelected in option. And if other legend\n      // doesn't has the item, they will assume it is selected.\n      legendModel[isSelected ? 'select' : 'unSelect'](payload.name);\n    } else if (methodName === 'allSelect' || methodName === 'inverseSelect') {\n      legendModel[methodName]();\n    } else {\n      legendModel[methodName](payload.name);\n      isSelected = legendModel.isSelected(payload.name);\n    }\n\n    var legendData = legendModel.getData();\n    each(legendData, function (model) {\n      var name = model.get('name'); // Wrap element\n\n      if (name === '\\n' || name === '') {\n        return;\n      }\n\n      var isItemSelected = legendModel.isSelected(name);\n\n      if (selectedMap.hasOwnProperty(name)) {\n        // Unselected if any legend is unselected\n        selectedMap[name] = selectedMap[name] && isItemSelected;\n      } else {\n        selectedMap[name] = isItemSelected;\n      }\n    });\n  }); // Return the event explicitly\n\n  return methodName === 'allSelect' || methodName === 'inverseSelect' ? {\n    selected: selectedMap\n  } : {\n    name: payload.name,\n    selected: selectedMap\n  };\n}\n\nexport function installLegendAction(registers) {\n  /**\n   * @event legendToggleSelect\n   * @type {Object}\n   * @property {string} type 'legendToggleSelect'\n   * @property {string} [from]\n   * @property {string} name Series name or data item name\n   */\n  registers.registerAction('legendToggleSelect', 'legendselectchanged', curry(legendSelectActionHandler, 'toggleSelected'));\n  registers.registerAction('legendAllSelect', 'legendselectall', curry(legendSelectActionHandler, 'allSelect'));\n  registers.registerAction('legendInverseSelect', 'legendinverseselect', curry(legendSelectActionHandler, 'inverseSelect'));\n  /**\n   * @event legendSelect\n   * @type {Object}\n   * @property {string} type 'legendSelect'\n   * @property {string} name Series name or data item name\n   */\n\n  registers.registerAction('legendSelect', 'legendselected', curry(legendSelectActionHandler, 'select'));\n  /**\n   * @event legendUnSelect\n   * @type {Object}\n   * @property {string} type 'legendUnSelect'\n   * @property {string} name Series name or data item name\n   */\n\n  registers.registerAction('legendUnSelect', 'legendunselected', curry(legendSelectActionHandler, 'unSelect'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport LegendModel from './LegendModel';\nimport LegendView from './LegendView';\nimport legendFilter from './legendFilter';\nimport { installLegendAction } from './legendAction';\nexport function install(registers) {\n  registers.registerComponentModel(LegendModel);\n  registers.registerComponentView(LegendView);\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.SERIES_FILTER, legendFilter);\n  registers.registerSubTypeDefaulter('legend', function () {\n    return 'plain';\n  });\n  installLegendAction(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport LegendModel from './LegendModel';\nimport { mergeLayoutParam, getLayoutParams } from '../../util/layout';\nimport { inheritDefaultOption } from '../../util/component';\n\nvar ScrollableLegendModel =\n/** @class */\nfunction (_super) {\n  __extends(ScrollableLegendModel, _super);\n\n  function ScrollableLegendModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ScrollableLegendModel.type;\n    return _this;\n  }\n  /**\n   * @param {number} scrollDataIndex\n   */\n\n\n  ScrollableLegendModel.prototype.setScrollDataIndex = function (scrollDataIndex) {\n    this.option.scrollDataIndex = scrollDataIndex;\n  };\n\n  ScrollableLegendModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputPositionParams = getLayoutParams(option);\n\n    _super.prototype.init.call(this, option, parentModel, ecModel);\n\n    mergeAndNormalizeLayoutParams(this, option, inputPositionParams);\n  };\n  /**\n   * @override\n   */\n\n\n  ScrollableLegendModel.prototype.mergeOption = function (option, ecModel) {\n    _super.prototype.mergeOption.call(this, option, ecModel);\n\n    mergeAndNormalizeLayoutParams(this, this.option, option);\n  };\n\n  ScrollableLegendModel.type = 'legend.scroll';\n  ScrollableLegendModel.defaultOption = inheritDefaultOption(LegendModel.defaultOption, {\n    scrollDataIndex: 0,\n    pageButtonItemGap: 5,\n    pageButtonGap: null,\n    pageButtonPosition: 'end',\n    pageFormatter: '{current}/{total}',\n    pageIcons: {\n      horizontal: ['M0,0L12,-10L12,10z', 'M0,0L-12,-10L-12,10z'],\n      vertical: ['M0,0L20,0L10,-20z', 'M0,0L20,0L10,20z']\n    },\n    pageIconColor: '#2f4554',\n    pageIconInactiveColor: '#aaa',\n    pageIconSize: 15,\n    pageTextStyle: {\n      color: '#333'\n    },\n    animationDurationUpdate: 800\n  });\n  return ScrollableLegendModel;\n}(LegendModel);\n\n; // Do not `ignoreSize` to enable setting {left: 10, right: 10}.\n\nfunction mergeAndNormalizeLayoutParams(legendModel, target, raw) {\n  var orient = legendModel.getOrient();\n  var ignoreSize = [1, 1];\n  ignoreSize[orient.index] = 0;\n  mergeLayoutParam(target, raw, {\n    type: 'box',\n    ignoreSize: !!ignoreSize\n  });\n}\n\nexport default ScrollableLegendModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Separate legend and scrollable legend to reduce package size.\n */\n\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as graphic from '../../util/graphic';\nimport * as layoutUtil from '../../util/layout';\nimport LegendView from './LegendView';\nvar Group = graphic.Group;\nvar WH = ['width', 'height'];\nvar XY = ['x', 'y'];\n\nvar ScrollableLegendView =\n/** @class */\nfunction (_super) {\n  __extends(ScrollableLegendView, _super);\n\n  function ScrollableLegendView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ScrollableLegendView.type;\n    _this.newlineDisabled = true;\n    _this._currentIndex = 0;\n    return _this;\n  }\n\n  ScrollableLegendView.prototype.init = function () {\n    _super.prototype.init.call(this);\n\n    this.group.add(this._containerGroup = new Group());\n\n    this._containerGroup.add(this.getContentGroup());\n\n    this.group.add(this._controllerGroup = new Group());\n  };\n  /**\n   * @override\n   */\n\n\n  ScrollableLegendView.prototype.resetInner = function () {\n    _super.prototype.resetInner.call(this);\n\n    this._controllerGroup.removeAll();\n\n    this._containerGroup.removeClipPath();\n\n    this._containerGroup.__rectSize = null;\n  };\n  /**\n   * @override\n   */\n\n\n  ScrollableLegendView.prototype.renderInner = function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var self = this; // Render content items.\n\n    _super.prototype.renderInner.call(this, itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition);\n\n    var controllerGroup = this._controllerGroup; // FIXME: support be 'auto' adapt to size number text length,\n    // e.g., '3/12345' should not overlap with the control arrow button.\n\n    var pageIconSize = legendModel.get('pageIconSize', true);\n    var pageIconSizeArr = zrUtil.isArray(pageIconSize) ? pageIconSize : [pageIconSize, pageIconSize];\n    createPageButton('pagePrev', 0);\n    var pageTextStyleModel = legendModel.getModel('pageTextStyle');\n    controllerGroup.add(new graphic.Text({\n      name: 'pageText',\n      style: {\n        // Placeholder to calculate a proper layout.\n        text: 'xx/xx',\n        fill: pageTextStyleModel.getTextColor(),\n        font: pageTextStyleModel.getFont(),\n        verticalAlign: 'middle',\n        align: 'center'\n      },\n      silent: true\n    }));\n    createPageButton('pageNext', 1);\n\n    function createPageButton(name, iconIdx) {\n      var pageDataIndexName = name + 'DataIndex';\n      var icon = graphic.createIcon(legendModel.get('pageIcons', true)[legendModel.getOrient().name][iconIdx], {\n        // Buttons will be created in each render, so we do not need\n        // to worry about avoiding using legendModel kept in scope.\n        onclick: zrUtil.bind(self._pageGo, self, pageDataIndexName, legendModel, api)\n      }, {\n        x: -pageIconSizeArr[0] / 2,\n        y: -pageIconSizeArr[1] / 2,\n        width: pageIconSizeArr[0],\n        height: pageIconSizeArr[1]\n      });\n      icon.name = name;\n      controllerGroup.add(icon);\n    }\n  };\n  /**\n   * @override\n   */\n\n\n  ScrollableLegendView.prototype.layoutInner = function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var xy = XY[orientIdx];\n    var hw = WH[1 - orientIdx];\n    var yx = XY[1 - orientIdx];\n    selector && layoutUtil.box( // Buttons in selectorGroup always layout horizontally\n    'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n    var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n    var selectorRect = selectorGroup.getBoundingRect();\n    var selectorPos = [-selectorRect.x, -selectorRect.y];\n    var processMaxSize = zrUtil.clone(maxSize);\n    selector && (processMaxSize[wh] = maxSize[wh] - selectorRect[wh] - selectorButtonGap);\n\n    var mainRect = this._layoutContentAndController(legendModel, isFirstRender, processMaxSize, orientIdx, wh, hw, yx, xy);\n\n    if (selector) {\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += mainRect[wh] + selectorButtonGap;\n      } else {\n        var offset = selectorRect[wh] + selectorButtonGap;\n        selectorPos[orientIdx] -= offset;\n        mainRect[xy] -= offset;\n      }\n\n      mainRect[wh] += selectorRect[wh] + selectorButtonGap;\n      selectorPos[1 - orientIdx] += mainRect[yx] + mainRect[hw] / 2 - selectorRect[hw] / 2;\n      mainRect[hw] = Math.max(mainRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(mainRect[yx], selectorRect[yx] + selectorPos[1 - orientIdx]);\n      selectorGroup.x = selectorPos[0];\n      selectorGroup.y = selectorPos[1];\n      selectorGroup.markRedraw();\n    }\n\n    return mainRect;\n  };\n\n  ScrollableLegendView.prototype._layoutContentAndController = function (legendModel, isFirstRender, maxSize, orientIdx, wh, hw, yx, xy) {\n    var contentGroup = this.getContentGroup();\n    var containerGroup = this._containerGroup;\n    var controllerGroup = this._controllerGroup; // Place items in contentGroup.\n\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), !orientIdx ? null : maxSize.width, orientIdx ? null : maxSize.height);\n    layoutUtil.box( // Buttons in controller are layout always horizontally.\n    'horizontal', controllerGroup, legendModel.get('pageButtonItemGap', true));\n    var contentRect = contentGroup.getBoundingRect();\n    var controllerRect = controllerGroup.getBoundingRect();\n    var showController = this._showController = contentRect[wh] > maxSize[wh]; // In case that the inner elements of contentGroup layout do not based on [0, 0]\n\n    var contentPos = [-contentRect.x, -contentRect.y]; // Remain contentPos when scroll animation perfroming.\n    // If first rendering, `contentGroup.position` is [0, 0], which\n    // does not make sense and may cause unexepcted animation if adopted.\n\n    if (!isFirstRender) {\n      contentPos[orientIdx] = contentGroup[xy];\n    } // Layout container group based on 0.\n\n\n    var containerPos = [0, 0];\n    var controllerPos = [-controllerRect.x, -controllerRect.y];\n    var pageButtonGap = zrUtil.retrieve2(legendModel.get('pageButtonGap', true), legendModel.get('itemGap', true)); // Place containerGroup and controllerGroup and contentGroup.\n\n    if (showController) {\n      var pageButtonPosition = legendModel.get('pageButtonPosition', true); // controller is on the right / bottom.\n\n      if (pageButtonPosition === 'end') {\n        controllerPos[orientIdx] += maxSize[wh] - controllerRect[wh];\n      } // controller is on the left / top.\n      else {\n          containerPos[orientIdx] += controllerRect[wh] + pageButtonGap;\n        }\n    } // Always align controller to content as 'middle'.\n\n\n    controllerPos[1 - orientIdx] += contentRect[hw] / 2 - controllerRect[hw] / 2;\n    contentGroup.setPosition(contentPos);\n    containerGroup.setPosition(containerPos);\n    controllerGroup.setPosition(controllerPos); // Calculate `mainRect` and set `clipPath`.\n    // mainRect should not be calculated by `this.group.getBoundingRect()`\n    // for sake of the overflow.\n\n    var mainRect = {\n      x: 0,\n      y: 0\n    }; // Consider content may be overflow (should be clipped).\n\n    mainRect[wh] = showController ? maxSize[wh] : contentRect[wh];\n    mainRect[hw] = Math.max(contentRect[hw], controllerRect[hw]); // `containerRect[yx] + containerPos[1 - orientIdx]` is 0.\n\n    mainRect[yx] = Math.min(0, controllerRect[yx] + controllerPos[1 - orientIdx]);\n    containerGroup.__rectSize = maxSize[wh];\n\n    if (showController) {\n      var clipShape = {\n        x: 0,\n        y: 0\n      };\n      clipShape[wh] = Math.max(maxSize[wh] - controllerRect[wh] - pageButtonGap, 0);\n      clipShape[hw] = mainRect[hw];\n      containerGroup.setClipPath(new graphic.Rect({\n        shape: clipShape\n      })); // Consider content may be larger than container, container rect\n      // can not be obtained from `containerGroup.getBoundingRect()`.\n\n      containerGroup.__rectSize = clipShape[wh];\n    } else {\n      // Do not remove or ignore controller. Keep them set as placeholders.\n      controllerGroup.eachChild(function (child) {\n        child.attr({\n          invisible: true,\n          silent: true\n        });\n      });\n    } // Content translate animation.\n\n\n    var pageInfo = this._getPageInfo(legendModel);\n\n    pageInfo.pageIndex != null && graphic.updateProps(contentGroup, {\n      x: pageInfo.contentPosition[0],\n      y: pageInfo.contentPosition[1]\n    }, // When switch from \"show controller\" to \"not show controller\", view should be\n    // updated immediately without animation, otherwise causes weird effect.\n    showController ? legendModel : null);\n\n    this._updatePageInfoView(legendModel, pageInfo);\n\n    return mainRect;\n  };\n\n  ScrollableLegendView.prototype._pageGo = function (to, legendModel, api) {\n    var scrollDataIndex = this._getPageInfo(legendModel)[to];\n\n    scrollDataIndex != null && api.dispatchAction({\n      type: 'legendScroll',\n      scrollDataIndex: scrollDataIndex,\n      legendId: legendModel.id\n    });\n  };\n\n  ScrollableLegendView.prototype._updatePageInfoView = function (legendModel, pageInfo) {\n    var controllerGroup = this._controllerGroup;\n    zrUtil.each(['pagePrev', 'pageNext'], function (name) {\n      var key = name + 'DataIndex';\n      var canJump = pageInfo[key] != null;\n      var icon = controllerGroup.childOfName(name);\n\n      if (icon) {\n        icon.setStyle('fill', canJump ? legendModel.get('pageIconColor', true) : legendModel.get('pageIconInactiveColor', true));\n        icon.cursor = canJump ? 'pointer' : 'default';\n      }\n    });\n    var pageText = controllerGroup.childOfName('pageText');\n    var pageFormatter = legendModel.get('pageFormatter');\n    var pageIndex = pageInfo.pageIndex;\n    var current = pageIndex != null ? pageIndex + 1 : 0;\n    var total = pageInfo.pageCount;\n    pageText && pageFormatter && pageText.setStyle('text', zrUtil.isString(pageFormatter) ? pageFormatter.replace('{current}', current == null ? '' : current + '').replace('{total}', total == null ? '' : total + '') : pageFormatter({\n      current: current,\n      total: total\n    }));\n  };\n  /**\n   *  contentPosition: Array.<number>, null when data item not found.\n   *  pageIndex: number, null when data item not found.\n   *  pageCount: number, always be a number, can be 0.\n   *  pagePrevDataIndex: number, null when no previous page.\n   *  pageNextDataIndex: number, null when no next page.\n   * }\n   */\n\n\n  ScrollableLegendView.prototype._getPageInfo = function (legendModel) {\n    var scrollDataIndex = legendModel.get('scrollDataIndex', true);\n    var contentGroup = this.getContentGroup();\n    var containerRectSize = this._containerGroup.__rectSize;\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var xy = XY[orientIdx];\n\n    var targetItemIndex = this._findTargetItemIndex(scrollDataIndex);\n\n    var children = contentGroup.children();\n    var targetItem = children[targetItemIndex];\n    var itemCount = children.length;\n    var pCount = !itemCount ? 0 : 1;\n    var result = {\n      contentPosition: [contentGroup.x, contentGroup.y],\n      pageCount: pCount,\n      pageIndex: pCount - 1,\n      pagePrevDataIndex: null,\n      pageNextDataIndex: null\n    };\n\n    if (!targetItem) {\n      return result;\n    }\n\n    var targetItemInfo = getItemInfo(targetItem);\n    result.contentPosition[orientIdx] = -targetItemInfo.s; // Strategy:\n    // (1) Always align based on the left/top most item.\n    // (2) It is user-friendly that the last item shown in the\n    // current window is shown at the begining of next window.\n    // Otherwise if half of the last item is cut by the window,\n    // it will have no chance to display entirely.\n    // (3) Consider that item size probably be different, we\n    // have calculate pageIndex by size rather than item index,\n    // and we can not get page index directly by division.\n    // (4) The window is to narrow to contain more than\n    // one item, we should make sure that the page can be fliped.\n\n    for (var i = targetItemIndex + 1, winStartItemInfo = targetItemInfo, winEndItemInfo = targetItemInfo, currItemInfo = null; i <= itemCount; ++i) {\n      currItemInfo = getItemInfo(children[i]);\n\n      if ( // Half of the last item is out of the window.\n      !currItemInfo && winEndItemInfo.e > winStartItemInfo.s + containerRectSize || // If the current item does not intersect with the window, the new page\n      // can be started at the current item or the last item.\n      currItemInfo && !intersect(currItemInfo, winStartItemInfo.s)) {\n        if (winEndItemInfo.i > winStartItemInfo.i) {\n          winStartItemInfo = winEndItemInfo;\n        } else {\n          // e.g., when page size is smaller than item size.\n          winStartItemInfo = currItemInfo;\n        }\n\n        if (winStartItemInfo) {\n          if (result.pageNextDataIndex == null) {\n            result.pageNextDataIndex = winStartItemInfo.i;\n          }\n\n          ++result.pageCount;\n        }\n      }\n\n      winEndItemInfo = currItemInfo;\n    }\n\n    for (var i = targetItemIndex - 1, winStartItemInfo = targetItemInfo, winEndItemInfo = targetItemInfo, currItemInfo = null; i >= -1; --i) {\n      currItemInfo = getItemInfo(children[i]);\n\n      if ( // If the the end item does not intersect with the window started\n      // from the current item, a page can be settled.\n      (!currItemInfo || !intersect(winEndItemInfo, currItemInfo.s)) && // e.g., when page size is smaller than item size.\n      winStartItemInfo.i < winEndItemInfo.i) {\n        winEndItemInfo = winStartItemInfo;\n\n        if (result.pagePrevDataIndex == null) {\n          result.pagePrevDataIndex = winStartItemInfo.i;\n        }\n\n        ++result.pageCount;\n        ++result.pageIndex;\n      }\n\n      winStartItemInfo = currItemInfo;\n    }\n\n    return result;\n\n    function getItemInfo(el) {\n      if (el) {\n        var itemRect = el.getBoundingRect();\n        var start = itemRect[xy] + el[xy];\n        return {\n          s: start,\n          e: start + itemRect[wh],\n          i: el.__legendDataIndex\n        };\n      }\n    }\n\n    function intersect(itemInfo, winStart) {\n      return itemInfo.e >= winStart && itemInfo.s <= winStart + containerRectSize;\n    }\n  };\n\n  ScrollableLegendView.prototype._findTargetItemIndex = function (targetDataIndex) {\n    if (!this._showController) {\n      return 0;\n    }\n\n    var index;\n    var contentGroup = this.getContentGroup();\n    var defaultIndex;\n    contentGroup.eachChild(function (child, idx) {\n      var legendDataIdx = child.__legendDataIndex; // FIXME\n      // If the given targetDataIndex (from model) is illegal,\n      // we use defaultIndex. But the index on the legend model and\n      // action payload is still illegal. That case will not be\n      // changed until some scenario requires.\n\n      if (defaultIndex == null && legendDataIdx != null) {\n        defaultIndex = idx;\n      }\n\n      if (legendDataIdx === targetDataIndex) {\n        index = idx;\n      }\n    });\n    return index != null ? index : defaultIndex;\n  };\n\n  ScrollableLegendView.type = 'legend.scroll';\n  return ScrollableLegendView;\n}(LegendView);\n\nexport default ScrollableLegendView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function installScrollableLegendAction(registers) {\n  /**\n   * @event legendScroll\n   * @type {Object}\n   * @property {string} type 'legendScroll'\n   * @property {string} scrollDataIndex\n   */\n  registers.registerAction('legendScroll', 'legendscroll', function (payload, ecModel) {\n    var scrollDataIndex = payload.scrollDataIndex;\n    scrollDataIndex != null && ecModel.eachComponent({\n      mainType: 'legend',\n      subType: 'scroll',\n      query: payload\n    }, function (legendModel) {\n      legendModel.setScrollDataIndex(scrollDataIndex);\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension';\nimport { install as installLegendPlain } from './installLegendPlain';\nimport ScrollableLegendModel from './ScrollableLegendModel';\nimport ScrollableLegendView from './ScrollableLegendView';\nimport installScrollableLegendAction from './scrollableLegendAction';\nexport function install(registers) {\n  use(installLegendPlain);\n  registers.registerComponentModel(ScrollableLegendModel);\n  registers.registerComponentView(ScrollableLegendView);\n  installScrollableLegendAction(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension';\nimport { install as installLegendPlain } from './installLegendPlain';\nimport { install as installLegendScroll } from './installLegendScroll';\nexport function install(registers) {\n  use(installLegendPlain);\n  use(installLegendScroll);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { indexOf, createHashMap, assert } from 'zrender/lib/core/util';\nexport var DATA_ZOOM_AXIS_DIMENSIONS = ['x', 'y', 'radius', 'angle', 'single']; // Supported coords.\n// FIXME: polar has been broken (but rarely used).\n\nvar SERIES_COORDS = ['cartesian2d', 'polar', 'singleAxis'];\nexport function isCoordSupported(seriesModel) {\n  var coordType = seriesModel.get('coordinateSystem');\n  return indexOf(SERIES_COORDS, coordType) >= 0;\n}\nexport function getAxisMainType(axisDim) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(axisDim);\n  }\n\n  return axisDim + 'Axis';\n}\nexport function getAxisIndexPropName(axisDim) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(axisDim);\n  }\n\n  return axisDim + 'AxisIndex';\n}\nexport function getAxisIdPropName(axisDim) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(axisDim);\n  }\n\n  return axisDim + 'AxisId';\n}\n/**\n * If two dataZoomModels has the same axis controlled, we say that they are 'linked'.\n * This function finds all linked dataZoomModels start from the given payload.\n */\n\nexport function findEffectedDataZooms(ecModel, payload) {\n  // Key: `DataZoomAxisDimension`\n  var axisRecords = createHashMap();\n  var effectedModels = []; // Key: uid of dataZoomModel\n\n  var effectedModelMap = createHashMap(); // Find the dataZooms specified by payload.\n\n  ecModel.eachComponent({\n    mainType: 'dataZoom',\n    query: payload\n  }, function (dataZoomModel) {\n    if (!effectedModelMap.get(dataZoomModel.uid)) {\n      addToEffected(dataZoomModel);\n    }\n  }); // Start from the given dataZoomModels, travel the graph to find\n  // all of the linked dataZoom models.\n\n  var foundNewLink;\n\n  do {\n    foundNewLink = false;\n    ecModel.eachComponent('dataZoom', processSingle);\n  } while (foundNewLink);\n\n  function processSingle(dataZoomModel) {\n    if (!effectedModelMap.get(dataZoomModel.uid) && isLinked(dataZoomModel)) {\n      addToEffected(dataZoomModel);\n      foundNewLink = true;\n    }\n  }\n\n  function addToEffected(dataZoom) {\n    effectedModelMap.set(dataZoom.uid, true);\n    effectedModels.push(dataZoom);\n    markAxisControlled(dataZoom);\n  }\n\n  function isLinked(dataZoomModel) {\n    var isLink = false;\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      var axisIdxArr = axisRecords.get(axisDim);\n\n      if (axisIdxArr && axisIdxArr[axisIndex]) {\n        isLink = true;\n      }\n    });\n    return isLink;\n  }\n\n  function markAxisControlled(dataZoomModel) {\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      (axisRecords.get(axisDim) || axisRecords.set(axisDim, []))[axisIndex] = true;\n    });\n  }\n\n  return effectedModels;\n}\n/**\n * Find the first target coordinate system.\n * Available after model built.\n *\n * @return Like {\n *                  grid: [\n *                      {model: coord0, axisModels: [axis1, axis3], coordIndex: 1},\n *                      {model: coord1, axisModels: [axis0, axis2], coordIndex: 0},\n *                      ...\n *                  ],  // cartesians must not be null/undefined.\n *                  polar: [\n *                      {model: coord0, axisModels: [axis4], coordIndex: 0},\n *                      ...\n *                  ],  // polars must not be null/undefined.\n *                  singleAxis: [\n *                      {model: coord0, axisModels: [], coordIndex: 0}\n *                  ]\n *              }\n */\n\nexport function collectReferCoordSysModelInfo(dataZoomModel) {\n  var ecModel = dataZoomModel.ecModel;\n  var coordSysInfoWrap = {\n    infoList: [],\n    infoMap: createHashMap()\n  };\n  dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n    var axisModel = ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n\n    if (!axisModel) {\n      return;\n    }\n\n    var coordSysModel = axisModel.getCoordSysModel();\n\n    if (!coordSysModel) {\n      return;\n    }\n\n    var coordSysUid = coordSysModel.uid;\n    var coordSysInfo = coordSysInfoWrap.infoMap.get(coordSysUid);\n\n    if (!coordSysInfo) {\n      coordSysInfo = {\n        model: coordSysModel,\n        axisModels: []\n      };\n      coordSysInfoWrap.infoList.push(coordSysInfo);\n      coordSysInfoWrap.infoMap.set(coordSysUid, coordSysInfo);\n    }\n\n    coordSysInfo.axisModels.push(axisModel);\n  });\n  return coordSysInfoWrap;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { each, createHashMap, merge, assert } from 'zrender/lib/core/util';\nimport ComponentModel from '../../model/Component';\nimport { getAxisMainType, DATA_ZOOM_AXIS_DIMENSIONS } from './helper';\nimport { MULTIPLE_REFERRING, SINGLE_REFERRING } from '../../util/model';\n\nvar DataZoomAxisInfo =\n/** @class */\nfunction () {\n  function DataZoomAxisInfo() {\n    this.indexList = [];\n    this.indexMap = [];\n  }\n\n  DataZoomAxisInfo.prototype.add = function (axisCmptIdx) {\n    // Remove duplication.\n    if (!this.indexMap[axisCmptIdx]) {\n      this.indexList.push(axisCmptIdx);\n      this.indexMap[axisCmptIdx] = true;\n    }\n  };\n\n  return DataZoomAxisInfo;\n}();\n\nvar DataZoomModel =\n/** @class */\nfunction (_super) {\n  __extends(DataZoomModel, _super);\n\n  function DataZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = DataZoomModel.type;\n    _this._autoThrottle = true;\n    _this._noTarget = true;\n    /**\n     * It is `[rangeModeForMin, rangeModeForMax]`.\n     * The optional values for `rangeMode`:\n     * + `'value'` mode: the axis extent will always be determined by\n     *     `dataZoom.startValue` and `dataZoom.endValue`, despite\n     *     how data like and how `axis.min` and `axis.max` are.\n     * + `'percent'` mode: `100` represents 100% of the `[dMin, dMax]`,\n     *     where `dMin` is `axis.min` if `axis.min` specified, otherwise `data.extent[0]`,\n     *     and `dMax` is `axis.max` if `axis.max` specified, otherwise `data.extent[1]`.\n     *     Axis extent will be determined by the result of the percent of `[dMin, dMax]`.\n     *\n     * For example, when users are using dynamic data (update data periodically via `setOption`),\n     * if in `'value`' mode, the window will be kept in a fixed value range despite how\n     * data are appended, while if in `'percent'` mode, whe window range will be changed alone with\n     * the appended data (suppose `axis.min` and `axis.max` are not specified).\n     */\n\n    _this._rangePropMode = ['percent', 'percent'];\n    return _this;\n  }\n\n  DataZoomModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputRawOption = retrieveRawOption(option);\n    /**\n     * Suppose a \"main process\" start at the point that model prepared (that is,\n     * model initialized or merged or method called in `action`).\n     * We should keep the `main process` idempotent, that is, given a set of values\n     * on `option`, we get the same result.\n     *\n     * But sometimes, values on `option` will be updated for providing users\n     * a \"final calculated value\" (`dataZoomProcessor` will do that). Those value\n     * should not be the base/input of the `main process`.\n     *\n     * So in that case we should save and keep the input of the `main process`\n     * separately, called `settledOption`.\n     *\n     * For example, consider the case:\n     * (Step_1) brush zoom the grid by `toolbox.dataZoom`,\n     *     where the original input `option.startValue`, `option.endValue` are earsed by\n     *     calculated value.\n     * (Step)2) click the legend to hide and show a series,\n     *     where the new range is calculated by the earsed `startValue` and `endValue`,\n     *     which brings incorrect result.\n     */\n\n    this.settledOption = inputRawOption;\n    this.mergeDefaultAndTheme(option, ecModel);\n\n    this._doInit(inputRawOption);\n  };\n\n  DataZoomModel.prototype.mergeOption = function (newOption) {\n    var inputRawOption = retrieveRawOption(newOption); //FIX #2591\n\n    merge(this.option, newOption, true);\n    merge(this.settledOption, inputRawOption, true);\n\n    this._doInit(inputRawOption);\n  };\n\n  DataZoomModel.prototype._doInit = function (inputRawOption) {\n    var thisOption = this.option; // if (!env.canvasSupported) {\n    //     thisOption.realtime = false;\n    // }\n\n    this._setDefaultThrottle(inputRawOption);\n\n    this._updateRangeUse(inputRawOption);\n\n    var settledOption = this.settledOption;\n    each([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n      // start/end has higher priority over startValue/endValue if they\n      // both set, but we should make chart.setOption({endValue: 1000})\n      // effective, rather than chart.setOption({endValue: 1000, end: null}).\n      if (this._rangePropMode[index] === 'value') {\n        thisOption[names[0]] = settledOption[names[0]] = null;\n      } // Otherwise do nothing and use the merge result.\n\n    }, this);\n\n    this._resetTarget();\n  };\n\n  DataZoomModel.prototype._resetTarget = function () {\n    var optionOrient = this.get('orient', true);\n    var targetAxisIndexMap = this._targetAxisInfoMap = createHashMap();\n\n    var hasAxisSpecified = this._fillSpecifiedTargetAxis(targetAxisIndexMap);\n\n    if (hasAxisSpecified) {\n      this._orient = optionOrient || this._makeAutoOrientByTargetAxis();\n    } else {\n      this._orient = optionOrient || 'horizontal';\n\n      this._fillAutoTargetAxisByOrient(targetAxisIndexMap, this._orient);\n    }\n\n    this._noTarget = true;\n    targetAxisIndexMap.each(function (axisInfo) {\n      if (axisInfo.indexList.length) {\n        this._noTarget = false;\n      }\n    }, this);\n  };\n\n  DataZoomModel.prototype._fillSpecifiedTargetAxis = function (targetAxisIndexMap) {\n    var hasAxisSpecified = false;\n    each(DATA_ZOOM_AXIS_DIMENSIONS, function (axisDim) {\n      var refering = this.getReferringComponents(getAxisMainType(axisDim), MULTIPLE_REFERRING); // When user set axisIndex as a empty array, we think that user specify axisIndex\n      // but do not want use auto mode. Because empty array may be encountered when\n      // some error occured.\n\n      if (!refering.specified) {\n        return;\n      }\n\n      hasAxisSpecified = true;\n      var axisInfo = new DataZoomAxisInfo();\n      each(refering.models, function (axisModel) {\n        axisInfo.add(axisModel.componentIndex);\n      });\n      targetAxisIndexMap.set(axisDim, axisInfo);\n    }, this);\n    return hasAxisSpecified;\n  };\n\n  DataZoomModel.prototype._fillAutoTargetAxisByOrient = function (targetAxisIndexMap, orient) {\n    var ecModel = this.ecModel;\n    var needAuto = true; // Find axis that parallel to dataZoom as default.\n\n    if (needAuto) {\n      var axisDim = orient === 'vertical' ? 'y' : 'x';\n      var axisModels = ecModel.findComponents({\n        mainType: axisDim + 'Axis'\n      });\n      setParallelAxis(axisModels, axisDim);\n    } // Find axis that parallel to dataZoom as default.\n\n\n    if (needAuto) {\n      var axisModels = ecModel.findComponents({\n        mainType: 'singleAxis',\n        filter: function (axisModel) {\n          return axisModel.get('orient', true) === orient;\n        }\n      });\n      setParallelAxis(axisModels, 'single');\n    }\n\n    function setParallelAxis(axisModels, axisDim) {\n      // At least use the first parallel axis as the target axis.\n      var axisModel = axisModels[0];\n\n      if (!axisModel) {\n        return;\n      }\n\n      var axisInfo = new DataZoomAxisInfo();\n      axisInfo.add(axisModel.componentIndex);\n      targetAxisIndexMap.set(axisDim, axisInfo);\n      needAuto = false; // Find parallel axes in the same grid.\n\n      if (axisDim === 'x' || axisDim === 'y') {\n        var gridModel_1 = axisModel.getReferringComponents('grid', SINGLE_REFERRING).models[0];\n        gridModel_1 && each(axisModels, function (axModel) {\n          if (axisModel.componentIndex !== axModel.componentIndex && gridModel_1 === axModel.getReferringComponents('grid', SINGLE_REFERRING).models[0]) {\n            axisInfo.add(axModel.componentIndex);\n          }\n        });\n      }\n    }\n\n    if (needAuto) {\n      // If no parallel axis, find the first category axis as default. (Also consider polar).\n      each(DATA_ZOOM_AXIS_DIMENSIONS, function (axisDim) {\n        if (!needAuto) {\n          return;\n        }\n\n        var axisModels = ecModel.findComponents({\n          mainType: getAxisMainType(axisDim),\n          filter: function (axisModel) {\n            return axisModel.get('type', true) === 'category';\n          }\n        });\n\n        if (axisModels[0]) {\n          var axisInfo = new DataZoomAxisInfo();\n          axisInfo.add(axisModels[0].componentIndex);\n          targetAxisIndexMap.set(axisDim, axisInfo);\n          needAuto = false;\n        }\n      }, this);\n    }\n  };\n\n  DataZoomModel.prototype._makeAutoOrientByTargetAxis = function () {\n    var dim; // Find the first axis\n\n    this.eachTargetAxis(function (axisDim) {\n      !dim && (dim = axisDim);\n    }, this);\n    return dim === 'y' ? 'vertical' : 'horizontal';\n  };\n\n  DataZoomModel.prototype._setDefaultThrottle = function (inputRawOption) {\n    // When first time user set throttle, auto throttle ends.\n    if (inputRawOption.hasOwnProperty('throttle')) {\n      this._autoThrottle = false;\n    }\n\n    if (this._autoThrottle) {\n      var globalOption = this.ecModel.option;\n      this.option.throttle = globalOption.animation && globalOption.animationDurationUpdate > 0 ? 100 : 20;\n    }\n  };\n\n  DataZoomModel.prototype._updateRangeUse = function (inputRawOption) {\n    var rangePropMode = this._rangePropMode;\n    var rangeModeInOption = this.get('rangeMode');\n    each([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n      var percentSpecified = inputRawOption[names[0]] != null;\n      var valueSpecified = inputRawOption[names[1]] != null;\n\n      if (percentSpecified && !valueSpecified) {\n        rangePropMode[index] = 'percent';\n      } else if (!percentSpecified && valueSpecified) {\n        rangePropMode[index] = 'value';\n      } else if (rangeModeInOption) {\n        rangePropMode[index] = rangeModeInOption[index];\n      } else if (percentSpecified) {\n        // percentSpecified && valueSpecified\n        rangePropMode[index] = 'percent';\n      } // else remain its original setting.\n\n    });\n  };\n\n  DataZoomModel.prototype.noTarget = function () {\n    return this._noTarget;\n  };\n\n  DataZoomModel.prototype.getFirstTargetAxisModel = function () {\n    var firstAxisModel;\n    this.eachTargetAxis(function (axisDim, axisIndex) {\n      if (firstAxisModel == null) {\n        firstAxisModel = this.ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n      }\n    }, this);\n    return firstAxisModel;\n  };\n  /**\n   * @param {Function} callback param: axisModel, dimNames, axisIndex, dataZoomModel, ecModel\n   */\n\n\n  DataZoomModel.prototype.eachTargetAxis = function (callback, context) {\n    this._targetAxisInfoMap.each(function (axisInfo, axisDim) {\n      each(axisInfo.indexList, function (axisIndex) {\n        callback.call(context, axisDim, axisIndex);\n      });\n    });\n  };\n  /**\n   * @return If not found, return null/undefined.\n   */\n\n\n  DataZoomModel.prototype.getAxisProxy = function (axisDim, axisIndex) {\n    var axisModel = this.getAxisModel(axisDim, axisIndex);\n\n    if (axisModel) {\n      return axisModel.__dzAxisProxy;\n    }\n  };\n  /**\n   * @return If not found, return null/undefined.\n   */\n\n\n  DataZoomModel.prototype.getAxisModel = function (axisDim, axisIndex) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(axisDim && axisIndex != null);\n    }\n\n    var axisInfo = this._targetAxisInfoMap.get(axisDim);\n\n    if (axisInfo && axisInfo.indexMap[axisIndex]) {\n      return this.ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n    }\n  };\n  /**\n   * If not specified, set to undefined.\n   */\n\n\n  DataZoomModel.prototype.setRawRange = function (opt) {\n    var thisOption = this.option;\n    var settledOption = this.settledOption;\n    each([['start', 'startValue'], ['end', 'endValue']], function (names) {\n      // Consider the pair <start, startValue>:\n      // If one has value and the other one is `null/undefined`, we both set them\n      // to `settledOption`. This strategy enables the feature to clear the original\n      // value in `settledOption` to `null/undefined`.\n      // But if both of them are `null/undefined`, we do not set them to `settledOption`\n      // and keep `settledOption` with the original value. This strategy enables users to\n      // only set <end or endValue> but not set <start or startValue> when calling\n      // `dispatchAction`.\n      // The pair <end, endValue> is treated in the same way.\n      if (opt[names[0]] != null || opt[names[1]] != null) {\n        thisOption[names[0]] = settledOption[names[0]] = opt[names[0]];\n        thisOption[names[1]] = settledOption[names[1]] = opt[names[1]];\n      }\n    }, this);\n\n    this._updateRangeUse(opt);\n  };\n\n  DataZoomModel.prototype.setCalculatedRange = function (opt) {\n    var option = this.option;\n    each(['start', 'startValue', 'end', 'endValue'], function (name) {\n      option[name] = opt[name];\n    });\n  };\n\n  DataZoomModel.prototype.getPercentRange = function () {\n    var axisProxy = this.findRepresentativeAxisProxy();\n\n    if (axisProxy) {\n      return axisProxy.getDataPercentWindow();\n    }\n  };\n  /**\n   * For example, chart.getModel().getComponent('dataZoom').getValueRange('y', 0);\n   *\n   * @return [startValue, endValue] value can only be '-' or finite number.\n   */\n\n\n  DataZoomModel.prototype.getValueRange = function (axisDim, axisIndex) {\n    if (axisDim == null && axisIndex == null) {\n      var axisProxy = this.findRepresentativeAxisProxy();\n\n      if (axisProxy) {\n        return axisProxy.getDataValueWindow();\n      }\n    } else {\n      return this.getAxisProxy(axisDim, axisIndex).getDataValueWindow();\n    }\n  };\n  /**\n   * @param axisModel If axisModel given, find axisProxy\n   *      corresponding to the axisModel\n   */\n\n\n  DataZoomModel.prototype.findRepresentativeAxisProxy = function (axisModel) {\n    if (axisModel) {\n      return axisModel.__dzAxisProxy;\n    } // Find the first hosted axisProxy\n\n\n    var firstProxy;\n\n    var axisDimList = this._targetAxisInfoMap.keys();\n\n    for (var i = 0; i < axisDimList.length; i++) {\n      var axisDim = axisDimList[i];\n\n      var axisInfo = this._targetAxisInfoMap.get(axisDim);\n\n      for (var j = 0; j < axisInfo.indexList.length; j++) {\n        var proxy = this.getAxisProxy(axisDim, axisInfo.indexList[j]);\n\n        if (proxy.hostedBy(this)) {\n          return proxy;\n        }\n\n        if (!firstProxy) {\n          firstProxy = proxy;\n        }\n      }\n    } // If no hosted proxy found, still need to return a proxy.\n    // This case always happens in toolbox dataZoom, where axes are all hosted by\n    // other dataZooms.\n\n\n    return firstProxy;\n  };\n\n  DataZoomModel.prototype.getRangePropMode = function () {\n    return this._rangePropMode.slice();\n  };\n\n  DataZoomModel.prototype.getOrient = function () {\n    if (process.env.NODE_ENV !== 'production') {\n      // Should not be called before initialized.\n      assert(this._orient);\n    }\n\n    return this._orient;\n  };\n\n  DataZoomModel.type = 'dataZoom';\n  DataZoomModel.dependencies = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'series', 'toolbox'];\n  DataZoomModel.defaultOption = {\n    zlevel: 0,\n    z: 4,\n    filterMode: 'filter',\n    start: 0,\n    end: 100\n  };\n  return DataZoomModel;\n}(ComponentModel);\n/**\n * Retrieve the those raw params from option, which will be cached separately.\n * becasue they will be overwritten by normalized/calculated values in the main\n * process.\n */\n\n\nfunction retrieveRawOption(option) {\n  var ret = {};\n  each(['start', 'end', 'startValue', 'endValue', 'throttle'], function (name) {\n    option.hasOwnProperty(name) && (ret[name] = option[name]);\n  });\n  return ret;\n}\n\nexport default DataZoomModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomModel from './DataZoomModel';\nimport { inheritDefaultOption } from '../../util/component';\n\nvar InsideZoomModel =\n/** @class */\nfunction (_super) {\n  __extends(InsideZoomModel, _super);\n\n  function InsideZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = InsideZoomModel.type;\n    return _this;\n  }\n\n  InsideZoomModel.type = 'dataZoom.inside';\n  InsideZoomModel.defaultOption = inheritDefaultOption(DataZoomModel.defaultOption, {\n    disabled: false,\n    zoomLock: false,\n    zoomOnMouseWheel: true,\n    moveOnMouseMove: true,\n    moveOnMouseWheel: false,\n    preventDefaultMouseMove: true\n  });\n  return InsideZoomModel;\n}(DataZoomModel);\n\nexport default InsideZoomModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentView from '../../view/Component';\n\nvar DataZoomView =\n/** @class */\nfunction (_super) {\n  __extends(DataZoomView, _super);\n\n  function DataZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = DataZoomView.type;\n    return _this;\n  }\n\n  DataZoomView.prototype.render = function (dataZoomModel, ecModel, api, payload) {\n    this.dataZoomModel = dataZoomModel;\n    this.ecModel = ecModel;\n    this.api = api;\n  };\n\n  DataZoomView.type = 'dataZoom';\n  return DataZoomView;\n}(ComponentView);\n\nexport default DataZoomView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Calculate slider move result.\n * Usage:\n * (1) If both handle0 and handle1 are needed to be moved, set minSpan the same as\n * maxSpan and the same as `Math.abs(handleEnd[1] - handleEnds[0])`.\n * (2) If handle0 is forbidden to cross handle1, set minSpan as `0`.\n *\n * @param delta Move length.\n * @param handleEnds handleEnds[0] can be bigger then handleEnds[1].\n *              handleEnds will be modified in this method.\n * @param extent handleEnds is restricted by extent.\n *              extent[0] should less or equals than extent[1].\n * @param handleIndex Can be 'all', means that both move the two handleEnds.\n * @param minSpan The range of dataZoom can not be smaller than that.\n *              If not set, handle0 and cross handle1. If set as a non-negative\n *              number (including `0`), handles will push each other when reaching\n *              the minSpan.\n * @param maxSpan The range of dataZoom can not be larger than that.\n * @return The input handleEnds.\n */\nexport default function sliderMove(delta, handleEnds, extent, handleIndex, minSpan, maxSpan) {\n  delta = delta || 0;\n  var extentSpan = extent[1] - extent[0]; // Notice maxSpan and minSpan can be null/undefined.\n\n  if (minSpan != null) {\n    minSpan = restrict(minSpan, [0, extentSpan]);\n  }\n\n  if (maxSpan != null) {\n    maxSpan = Math.max(maxSpan, minSpan != null ? minSpan : 0);\n  }\n\n  if (handleIndex === 'all') {\n    var handleSpan = Math.abs(handleEnds[1] - handleEnds[0]);\n    handleSpan = restrict(handleSpan, [0, extentSpan]);\n    minSpan = maxSpan = restrict(handleSpan, [minSpan, maxSpan]);\n    handleIndex = 0;\n  }\n\n  handleEnds[0] = restrict(handleEnds[0], extent);\n  handleEnds[1] = restrict(handleEnds[1], extent);\n  var originalDistSign = getSpanSign(handleEnds, handleIndex);\n  handleEnds[handleIndex] += delta; // Restrict in extent.\n\n  var extentMinSpan = minSpan || 0;\n  var realExtent = extent.slice();\n  originalDistSign.sign < 0 ? realExtent[0] += extentMinSpan : realExtent[1] -= extentMinSpan;\n  handleEnds[handleIndex] = restrict(handleEnds[handleIndex], realExtent); // Expand span.\n\n  var currDistSign;\n  currDistSign = getSpanSign(handleEnds, handleIndex);\n\n  if (minSpan != null && (currDistSign.sign !== originalDistSign.sign || currDistSign.span < minSpan)) {\n    // If minSpan exists, 'cross' is forbidden.\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + originalDistSign.sign * minSpan;\n  } // Shrink span.\n\n\n  currDistSign = getSpanSign(handleEnds, handleIndex);\n\n  if (maxSpan != null && currDistSign.span > maxSpan) {\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + currDistSign.sign * maxSpan;\n  }\n\n  return handleEnds;\n}\n\nfunction getSpanSign(handleEnds, handleIndex) {\n  var dist = handleEnds[handleIndex] - handleEnds[1 - handleIndex]; // If `handleEnds[0] === handleEnds[1]`, always believe that handleEnd[0]\n  // is at left of handleEnds[1] for non-cross case.\n\n  return {\n    span: Math.abs(dist),\n    sign: dist > 0 ? -1 : dist < 0 ? 1 : handleIndex ? -1 : 1\n  };\n}\n\nfunction restrict(value, extend) {\n  return Math.min(extend[1] != null ? extend[1] : Infinity, Math.max(extend[0] != null ? extend[0] : -Infinity, value));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport * as echarts from '../../core/echarts';\nvar ATTR = '\\0_ec_interaction_mutex';\nexport function take(zr, resourceKey, userKey) {\n  var store = getStore(zr);\n  store[resourceKey] = userKey;\n}\nexport function release(zr, resourceKey, userKey) {\n  var store = getStore(zr);\n  var uKey = store[resourceKey];\n\n  if (uKey === userKey) {\n    store[resourceKey] = null;\n  }\n}\nexport function isTaken(zr, resourceKey) {\n  return !!getStore(zr)[resourceKey];\n}\n\nfunction getStore(zr) {\n  return zr[ATTR] || (zr[ATTR] = {});\n}\n/**\n * payload: {\n *     type: 'takeGlobalCursor',\n *     key: 'dataZoomSelect', or 'brush', or ...,\n *         If no userKey, release global cursor.\n * }\n */\n// TODO: SELF REGISTERED.\n\n\necharts.registerAction({\n  type: 'takeGlobalCursor',\n  event: 'globalCursorTaken',\n  update: 'update'\n}, function () {});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Eventful from 'zrender/lib/core/Eventful';\nimport * as eventTool from 'zrender/lib/core/event';\nimport * as interactionMutex from './interactionMutex';\nimport { isString, bind, defaults, clone } from 'zrender/lib/core/util';\n\nvar RoamController =\n/** @class */\nfunction (_super) {\n  __extends(RoamController, _super);\n\n  function RoamController(zr) {\n    var _this = _super.call(this) || this;\n\n    _this._zr = zr; // Avoid two roamController bind the same handler\n\n    var mousedownHandler = bind(_this._mousedownHandler, _this);\n    var mousemoveHandler = bind(_this._mousemoveHandler, _this);\n    var mouseupHandler = bind(_this._mouseupHandler, _this);\n    var mousewheelHandler = bind(_this._mousewheelHandler, _this);\n    var pinchHandler = bind(_this._pinchHandler, _this);\n    /**\n     * Notice: only enable needed types. For example, if 'zoom'\n     * is not needed, 'zoom' should not be enabled, otherwise\n     * default mousewheel behaviour (scroll page) will be disabled.\n     */\n\n    _this.enable = function (controlType, opt) {\n      // Disable previous first\n      this.disable();\n      this._opt = defaults(clone(opt) || {}, {\n        zoomOnMouseWheel: true,\n        moveOnMouseMove: true,\n        // By default, wheel do not trigger move.\n        moveOnMouseWheel: false,\n        preventDefaultMouseMove: true\n      });\n\n      if (controlType == null) {\n        controlType = true;\n      }\n\n      if (controlType === true || controlType === 'move' || controlType === 'pan') {\n        zr.on('mousedown', mousedownHandler);\n        zr.on('mousemove', mousemoveHandler);\n        zr.on('mouseup', mouseupHandler);\n      }\n\n      if (controlType === true || controlType === 'scale' || controlType === 'zoom') {\n        zr.on('mousewheel', mousewheelHandler);\n        zr.on('pinch', pinchHandler);\n      }\n    };\n\n    _this.disable = function () {\n      zr.off('mousedown', mousedownHandler);\n      zr.off('mousemove', mousemoveHandler);\n      zr.off('mouseup', mouseupHandler);\n      zr.off('mousewheel', mousewheelHandler);\n      zr.off('pinch', pinchHandler);\n    };\n\n    return _this;\n  }\n\n  RoamController.prototype.isDragging = function () {\n    return this._dragging;\n  };\n\n  RoamController.prototype.isPinching = function () {\n    return this._pinching;\n  };\n\n  RoamController.prototype.setPointerChecker = function (pointerChecker) {\n    this.pointerChecker = pointerChecker;\n  };\n\n  RoamController.prototype.dispose = function () {\n    this.disable();\n  };\n\n  RoamController.prototype._mousedownHandler = function (e) {\n    if (eventTool.isMiddleOrRightButtonOnMouseUpDown(e) || e.target && e.target.draggable) {\n      return;\n    }\n\n    var x = e.offsetX;\n    var y = e.offsetY; // Only check on mosedown, but not mousemove.\n    // Mouse can be out of target when mouse moving.\n\n    if (this.pointerChecker && this.pointerChecker(e, x, y)) {\n      this._x = x;\n      this._y = y;\n      this._dragging = true;\n    }\n  };\n\n  RoamController.prototype._mousemoveHandler = function (e) {\n    if (!this._dragging || !isAvailableBehavior('moveOnMouseMove', e, this._opt) || e.gestureEvent === 'pinch' || interactionMutex.isTaken(this._zr, 'globalPan')) {\n      return;\n    }\n\n    var x = e.offsetX;\n    var y = e.offsetY;\n    var oldX = this._x;\n    var oldY = this._y;\n    var dx = x - oldX;\n    var dy = y - oldY;\n    this._x = x;\n    this._y = y;\n    this._opt.preventDefaultMouseMove && eventTool.stop(e.event);\n    trigger(this, 'pan', 'moveOnMouseMove', e, {\n      dx: dx,\n      dy: dy,\n      oldX: oldX,\n      oldY: oldY,\n      newX: x,\n      newY: y,\n      isAvailableBehavior: null\n    });\n  };\n\n  RoamController.prototype._mouseupHandler = function (e) {\n    if (!eventTool.isMiddleOrRightButtonOnMouseUpDown(e)) {\n      this._dragging = false;\n    }\n  };\n\n  RoamController.prototype._mousewheelHandler = function (e) {\n    var shouldZoom = isAvailableBehavior('zoomOnMouseWheel', e, this._opt);\n    var shouldMove = isAvailableBehavior('moveOnMouseWheel', e, this._opt);\n    var wheelDelta = e.wheelDelta;\n    var absWheelDeltaDelta = Math.abs(wheelDelta);\n    var originX = e.offsetX;\n    var originY = e.offsetY; // wheelDelta maybe -0 in chrome mac.\n\n    if (wheelDelta === 0 || !shouldZoom && !shouldMove) {\n      return;\n    } // If both `shouldZoom` and `shouldMove` is true, trigger\n    // their event both, and the final behavior is determined\n    // by event listener themselves.\n\n\n    if (shouldZoom) {\n      // Convenience:\n      // Mac and VM Windows on Mac: scroll up: zoom out.\n      // Windows: scroll up: zoom in.\n      // FIXME: Should do more test in different environment.\n      // wheelDelta is too complicated in difference nvironment\n      // (https://developer.mozilla.org/en-US/docs/Web/Events/mousewheel),\n      // although it has been normallized by zrender.\n      // wheelDelta of mouse wheel is bigger than touch pad.\n      var factor = absWheelDeltaDelta > 3 ? 1.4 : absWheelDeltaDelta > 1 ? 1.2 : 1.1;\n      var scale = wheelDelta > 0 ? factor : 1 / factor;\n      checkPointerAndTrigger(this, 'zoom', 'zoomOnMouseWheel', e, {\n        scale: scale,\n        originX: originX,\n        originY: originY,\n        isAvailableBehavior: null\n      });\n    }\n\n    if (shouldMove) {\n      // FIXME: Should do more test in different environment.\n      var absDelta = Math.abs(wheelDelta); // wheelDelta of mouse wheel is bigger than touch pad.\n\n      var scrollDelta = (wheelDelta > 0 ? 1 : -1) * (absDelta > 3 ? 0.4 : absDelta > 1 ? 0.15 : 0.05);\n      checkPointerAndTrigger(this, 'scrollMove', 'moveOnMouseWheel', e, {\n        scrollDelta: scrollDelta,\n        originX: originX,\n        originY: originY,\n        isAvailableBehavior: null\n      });\n    }\n  };\n\n  RoamController.prototype._pinchHandler = function (e) {\n    if (interactionMutex.isTaken(this._zr, 'globalPan')) {\n      return;\n    }\n\n    var scale = e.pinchScale > 1 ? 1.1 : 1 / 1.1;\n    checkPointerAndTrigger(this, 'zoom', null, e, {\n      scale: scale,\n      originX: e.pinchX,\n      originY: e.pinchY,\n      isAvailableBehavior: null\n    });\n  };\n\n  return RoamController;\n}(Eventful);\n\nfunction checkPointerAndTrigger(controller, eventName, behaviorToCheck, e, contollerEvent) {\n  if (controller.pointerChecker && controller.pointerChecker(e, contollerEvent.originX, contollerEvent.originY)) {\n    // When mouse is out of roamController rect,\n    // default befavoius should not be be disabled, otherwise\n    // page sliding is disabled, contrary to expectation.\n    eventTool.stop(e.event);\n    trigger(controller, eventName, behaviorToCheck, e, contollerEvent);\n  }\n}\n\nfunction trigger(controller, eventName, behaviorToCheck, e, contollerEvent) {\n  // Also provide behavior checker for event listener, for some case that\n  // multiple components share one listener.\n  contollerEvent.isAvailableBehavior = bind(isAvailableBehavior, null, behaviorToCheck, e);\n  controller.trigger(eventName, contollerEvent);\n} // settings: {\n//     zoomOnMouseWheel\n//     moveOnMouseMove\n//     moveOnMouseWheel\n// }\n// The value can be: true / false / 'shift' / 'ctrl' / 'alt'.\n\n\nfunction isAvailableBehavior(behaviorToCheck, e, settings) {\n  var setting = settings[behaviorToCheck];\n  return !behaviorToCheck || setting && (!isString(setting) || e.event[setting + 'Key']);\n}\n\nexport default RoamController;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Only create one roam controller for each coordinate system.\n// one roam controller might be refered by two inside data zoom\n// components (for example, one for x and one for y). When user\n// pan or zoom, only dispatch one action for those data zoom\n// components.\nimport RoamController from '../../component/helper/RoamController';\nimport * as throttleUtil from '../../util/throttle';\nimport { makeInner } from '../../util/model';\nimport { each, curry, createHashMap } from 'zrender/lib/core/util';\nimport { collectReferCoordSysModelInfo } from './helper';\nvar inner = makeInner();\nexport function setViewInfoToCoordSysRecord(api, dataZoomModel, getRange) {\n  inner(api).coordSysRecordMap.each(function (coordSysRecord) {\n    var dzInfo = coordSysRecord.dataZoomInfoMap.get(dataZoomModel.uid);\n\n    if (dzInfo) {\n      dzInfo.getRange = getRange;\n    }\n  });\n}\nexport function disposeCoordSysRecordIfNeeded(api, dataZoomModel) {\n  var coordSysRecordMap = inner(api).coordSysRecordMap;\n  var coordSysKeyArr = coordSysRecordMap.keys();\n\n  for (var i = 0; i < coordSysKeyArr.length; i++) {\n    var coordSysKey = coordSysKeyArr[i];\n    var coordSysRecord = coordSysRecordMap.get(coordSysKey);\n    var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap;\n\n    if (dataZoomInfoMap) {\n      var dzUid = dataZoomModel.uid;\n      var dzInfo = dataZoomInfoMap.get(dzUid);\n\n      if (dzInfo) {\n        dataZoomInfoMap.removeKey(dzUid);\n\n        if (!dataZoomInfoMap.keys().length) {\n          disposeCoordSysRecord(coordSysRecordMap, coordSysRecord);\n        }\n      }\n    }\n  }\n}\n\nfunction disposeCoordSysRecord(coordSysRecordMap, coordSysRecord) {\n  if (coordSysRecord) {\n    coordSysRecordMap.removeKey(coordSysRecord.model.uid);\n    var controller = coordSysRecord.controller;\n    controller && controller.dispose();\n  }\n}\n\nfunction createCoordSysRecord(api, coordSysModel) {\n  // These init props will never change after record created.\n  var coordSysRecord = {\n    model: coordSysModel,\n    containsPoint: curry(containsPoint, coordSysModel),\n    dispatchAction: curry(dispatchAction, api),\n    dataZoomInfoMap: null,\n    controller: null\n  }; // Must not do anything depends on coordSysRecord outside the event handler here,\n  // because coordSysRecord not completed yet.\n\n  var controller = coordSysRecord.controller = new RoamController(api.getZr());\n  each(['pan', 'zoom', 'scrollMove'], function (eventName) {\n    controller.on(eventName, function (event) {\n      var batch = [];\n      coordSysRecord.dataZoomInfoMap.each(function (dzInfo) {\n        // Check whether the behaviors (zoomOnMouseWheel, moveOnMouseMove,\n        // moveOnMouseWheel, ...) enabled.\n        if (!event.isAvailableBehavior(dzInfo.model.option)) {\n          return;\n        }\n\n        var method = (dzInfo.getRange || {})[eventName];\n        var range = method && method(dzInfo.dzReferCoordSysInfo, coordSysRecord.model.mainType, coordSysRecord.controller, event);\n        !dzInfo.model.get('disabled', true) && range && batch.push({\n          dataZoomId: dzInfo.model.id,\n          start: range[0],\n          end: range[1]\n        });\n      });\n      batch.length && coordSysRecord.dispatchAction(batch);\n    });\n  });\n  return coordSysRecord;\n}\n/**\n * This action will be throttled.\n */\n\n\nfunction dispatchAction(api, batch) {\n  api.dispatchAction({\n    type: 'dataZoom',\n    animation: {\n      easing: 'cubicOut',\n      duration: 100\n    },\n    batch: batch\n  });\n}\n\nfunction containsPoint(coordSysModel, e, x, y) {\n  return coordSysModel.coordinateSystem.containPoint([x, y]);\n}\n/**\n * Merge roamController settings when multiple dataZooms share one roamController.\n */\n\n\nfunction mergeControllerParams(dataZoomInfoMap) {\n  var controlType; // DO NOT use reserved word (true, false, undefined) as key literally. Even if encapsulated\n  // as string, it is probably revert to reserved word by compress tool. See #7411.\n\n  var prefix = 'type_';\n  var typePriority = {\n    'type_true': 2,\n    'type_move': 1,\n    'type_false': 0,\n    'type_undefined': -1\n  };\n  var preventDefaultMouseMove = true;\n  dataZoomInfoMap.each(function (dataZoomInfo) {\n    var dataZoomModel = dataZoomInfo.model;\n    var oneType = dataZoomModel.get('disabled', true) ? false : dataZoomModel.get('zoomLock', true) ? 'move' : true;\n\n    if (typePriority[prefix + oneType] > typePriority[prefix + controlType]) {\n      controlType = oneType;\n    } // Prevent default move event by default. If one false, do not prevent. Otherwise\n    // users may be confused why it does not work when multiple insideZooms exist.\n\n\n    preventDefaultMouseMove = preventDefaultMouseMove && dataZoomModel.get('preventDefaultMouseMove', true);\n  });\n  return {\n    controlType: controlType,\n    opt: {\n      // RoamController will enable all of these functionalities,\n      // and the final behavior is determined by its event listener\n      // provided by each inside zoom.\n      zoomOnMouseWheel: true,\n      moveOnMouseMove: true,\n      moveOnMouseWheel: true,\n      preventDefaultMouseMove: !!preventDefaultMouseMove\n    }\n  };\n}\n\nexport function installDataZoomRoamProcessor(registers) {\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.FILTER, function (ecModel, api) {\n    var apiInner = inner(api);\n    var coordSysRecordMap = apiInner.coordSysRecordMap || (apiInner.coordSysRecordMap = createHashMap());\n    coordSysRecordMap.each(function (coordSysRecord) {\n      // `coordSysRecordMap` always exists (becuase it hold the `roam controller`, which should\n      // better not re-create each time), but clear `dataZoomInfoMap` each round of the workflow.\n      coordSysRecord.dataZoomInfoMap = null;\n    });\n    ecModel.eachComponent({\n      mainType: 'dataZoom',\n      subType: 'inside'\n    }, function (dataZoomModel) {\n      var dzReferCoordSysWrap = collectReferCoordSysModelInfo(dataZoomModel);\n      each(dzReferCoordSysWrap.infoList, function (dzCoordSysInfo) {\n        var coordSysUid = dzCoordSysInfo.model.uid;\n        var coordSysRecord = coordSysRecordMap.get(coordSysUid) || coordSysRecordMap.set(coordSysUid, createCoordSysRecord(api, dzCoordSysInfo.model));\n        var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap || (coordSysRecord.dataZoomInfoMap = createHashMap()); // Notice these props might be changed each time for a single dataZoomModel.\n\n        dataZoomInfoMap.set(dataZoomModel.uid, {\n          dzReferCoordSysInfo: dzCoordSysInfo,\n          model: dataZoomModel,\n          getRange: null\n        });\n      });\n    }); // (1) Merge dataZoom settings for each coord sys and set to the roam controller.\n    // (2) Clear coord sys if not refered by any dataZoom.\n\n    coordSysRecordMap.each(function (coordSysRecord) {\n      var controller = coordSysRecord.controller;\n      var firstDzInfo;\n      var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap;\n\n      if (dataZoomInfoMap) {\n        var firstDzKey = dataZoomInfoMap.keys()[0];\n\n        if (firstDzKey != null) {\n          firstDzInfo = dataZoomInfoMap.get(firstDzKey);\n        }\n      }\n\n      if (!firstDzInfo) {\n        disposeCoordSysRecord(coordSysRecordMap, coordSysRecord);\n        return;\n      }\n\n      var controllerParams = mergeControllerParams(dataZoomInfoMap);\n      controller.enable(controllerParams.controlType, controllerParams.opt);\n      controller.setPointerChecker(coordSysRecord.containsPoint);\n      throttleUtil.createOrUpdate(coordSysRecord, 'dispatchAction', firstDzInfo.model.get('throttle', true), 'fixRate');\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomView from './DataZoomView';\nimport sliderMove from '../helper/sliderMove';\nimport * as roams from './roams';\nimport { bind } from 'zrender/lib/core/util';\n\nvar InsideZoomView =\n/** @class */\nfunction (_super) {\n  __extends(InsideZoomView, _super);\n\n  function InsideZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'dataZoom.inside';\n    return _this;\n  }\n\n  InsideZoomView.prototype.render = function (dataZoomModel, ecModel, api) {\n    _super.prototype.render.apply(this, arguments);\n\n    if (dataZoomModel.noTarget()) {\n      this._clear();\n\n      return;\n    } // Hence the `throttle` util ensures to preserve command order,\n    // here simply updating range all the time will not cause missing\n    // any of the the roam change.\n\n\n    this.range = dataZoomModel.getPercentRange(); // Reset controllers.\n\n    roams.setViewInfoToCoordSysRecord(api, dataZoomModel, {\n      pan: bind(getRangeHandlers.pan, this),\n      zoom: bind(getRangeHandlers.zoom, this),\n      scrollMove: bind(getRangeHandlers.scrollMove, this)\n    });\n  };\n\n  InsideZoomView.prototype.dispose = function () {\n    this._clear();\n\n    _super.prototype.dispose.apply(this, arguments);\n  };\n\n  InsideZoomView.prototype._clear = function () {\n    roams.disposeCoordSysRecordIfNeeded(this.api, this.dataZoomModel);\n    this.range = null;\n  };\n\n  InsideZoomView.type = 'dataZoom.inside';\n  return InsideZoomView;\n}(DataZoomView);\n\nvar getRangeHandlers = {\n  zoom: function (coordSysInfo, coordSysMainType, controller, e) {\n    var lastRange = this.range;\n    var range = lastRange.slice(); // Calculate transform by the first axis.\n\n    var axisModel = coordSysInfo.axisModels[0];\n\n    if (!axisModel) {\n      return;\n    }\n\n    var directionInfo = getDirectionInfo[coordSysMainType](null, [e.originX, e.originY], axisModel, controller, coordSysInfo);\n    var percentPoint = (directionInfo.signal > 0 ? directionInfo.pixelStart + directionInfo.pixelLength - directionInfo.pixel : directionInfo.pixel - directionInfo.pixelStart) / directionInfo.pixelLength * (range[1] - range[0]) + range[0];\n    var scale = Math.max(1 / e.scale, 0);\n    range[0] = (range[0] - percentPoint) * scale + percentPoint;\n    range[1] = (range[1] - percentPoint) * scale + percentPoint; // Restrict range.\n\n    var minMaxSpan = this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    sliderMove(0, range, [0, 100], 0, minMaxSpan.minSpan, minMaxSpan.maxSpan);\n    this.range = range;\n\n    if (lastRange[0] !== range[0] || lastRange[1] !== range[1]) {\n      return range;\n    }\n  },\n  pan: makeMover(function (range, axisModel, coordSysInfo, coordSysMainType, controller, e) {\n    var directionInfo = getDirectionInfo[coordSysMainType]([e.oldX, e.oldY], [e.newX, e.newY], axisModel, controller, coordSysInfo);\n    return directionInfo.signal * (range[1] - range[0]) * directionInfo.pixel / directionInfo.pixelLength;\n  }),\n  scrollMove: makeMover(function (range, axisModel, coordSysInfo, coordSysMainType, controller, e) {\n    var directionInfo = getDirectionInfo[coordSysMainType]([0, 0], [e.scrollDelta, e.scrollDelta], axisModel, controller, coordSysInfo);\n    return directionInfo.signal * (range[1] - range[0]) * e.scrollDelta;\n  })\n};\n\nfunction makeMover(getPercentDelta) {\n  return function (coordSysInfo, coordSysMainType, controller, e) {\n    var lastRange = this.range;\n    var range = lastRange.slice(); // Calculate transform by the first axis.\n\n    var axisModel = coordSysInfo.axisModels[0];\n\n    if (!axisModel) {\n      return;\n    }\n\n    var percentDelta = getPercentDelta(range, axisModel, coordSysInfo, coordSysMainType, controller, e);\n    sliderMove(percentDelta, range, [0, 100], 'all');\n    this.range = range;\n\n    if (lastRange[0] !== range[0] || lastRange[1] !== range[1]) {\n      return range;\n    }\n  };\n}\n\nvar getDirectionInfo = {\n  grid: function (oldPoint, newPoint, axisModel, controller, coordSysInfo) {\n    var axis = axisModel.axis;\n    var ret = {};\n    var rect = coordSysInfo.model.coordinateSystem.getRect();\n    oldPoint = oldPoint || [0, 0];\n\n    if (axis.dim === 'x') {\n      ret.pixel = newPoint[0] - oldPoint[0];\n      ret.pixelLength = rect.width;\n      ret.pixelStart = rect.x;\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // axis.dim === 'y'\n      ret.pixel = newPoint[1] - oldPoint[1];\n      ret.pixelLength = rect.height;\n      ret.pixelStart = rect.y;\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n\n    return ret;\n  },\n  polar: function (oldPoint, newPoint, axisModel, controller, coordSysInfo) {\n    var axis = axisModel.axis;\n    var ret = {};\n    var polar = coordSysInfo.model.coordinateSystem;\n    var radiusExtent = polar.getRadiusAxis().getExtent();\n    var angleExtent = polar.getAngleAxis().getExtent();\n    oldPoint = oldPoint ? polar.pointToCoord(oldPoint) : [0, 0];\n    newPoint = polar.pointToCoord(newPoint);\n\n    if (axisModel.mainType === 'radiusAxis') {\n      ret.pixel = newPoint[0] - oldPoint[0]; // ret.pixelLength = Math.abs(radiusExtent[1] - radiusExtent[0]);\n      // ret.pixelStart = Math.min(radiusExtent[0], radiusExtent[1]);\n\n      ret.pixelLength = radiusExtent[1] - radiusExtent[0];\n      ret.pixelStart = radiusExtent[0];\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // 'angleAxis'\n      ret.pixel = newPoint[1] - oldPoint[1]; // ret.pixelLength = Math.abs(angleExtent[1] - angleExtent[0]);\n      // ret.pixelStart = Math.min(angleExtent[0], angleExtent[1]);\n\n      ret.pixelLength = angleExtent[1] - angleExtent[0];\n      ret.pixelStart = angleExtent[0];\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n\n    return ret;\n  },\n  singleAxis: function (oldPoint, newPoint, axisModel, controller, coordSysInfo) {\n    var axis = axisModel.axis;\n    var rect = coordSysInfo.model.coordinateSystem.getRect();\n    var ret = {};\n    oldPoint = oldPoint || [0, 0];\n\n    if (axis.orient === 'horizontal') {\n      ret.pixel = newPoint[0] - oldPoint[0];\n      ret.pixelLength = rect.width;\n      ret.pixelStart = rect.x;\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // 'vertical'\n      ret.pixel = newPoint[1] - oldPoint[1];\n      ret.pixelLength = rect.height;\n      ret.pixelStart = rect.y;\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n\n    return ret;\n  }\n};\nexport default InsideZoomView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as numberUtil from '../../util/number';\nimport sliderMove from '../helper/sliderMove';\nimport { unionAxisExtentFromData } from '../../coord/axisHelper';\nimport { ensureScaleRawExtentInfo } from '../../coord/scaleRawExtentInfo';\nimport { getAxisMainType, isCoordSupported } from './helper';\nimport { SINGLE_REFERRING } from '../../util/model';\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\n/**\n * Operate single axis.\n * One axis can only operated by one axis operator.\n * Different dataZoomModels may be defined to operate the same axis.\n * (i.e. 'inside' data zoom and 'slider' data zoom components)\n * So dataZoomModels share one axisProxy in that case.\n */\n\nvar AxisProxy =\n/** @class */\nfunction () {\n  function AxisProxy(dimName, axisIndex, dataZoomModel, ecModel) {\n    this._dimName = dimName;\n    this._axisIndex = axisIndex;\n    this.ecModel = ecModel;\n    this._dataZoomModel = dataZoomModel; // /**\n    //  * @readOnly\n    //  * @private\n    //  */\n    // this.hasSeriesStacked;\n  }\n  /**\n   * Whether the axisProxy is hosted by dataZoomModel.\n   */\n\n\n  AxisProxy.prototype.hostedBy = function (dataZoomModel) {\n    return this._dataZoomModel === dataZoomModel;\n  };\n  /**\n   * @return Value can only be NaN or finite value.\n   */\n\n\n  AxisProxy.prototype.getDataValueWindow = function () {\n    return this._valueWindow.slice();\n  };\n  /**\n   * @return {Array.<number>}\n   */\n\n\n  AxisProxy.prototype.getDataPercentWindow = function () {\n    return this._percentWindow.slice();\n  };\n\n  AxisProxy.prototype.getTargetSeriesModels = function () {\n    var seriesModels = [];\n    this.ecModel.eachSeries(function (seriesModel) {\n      if (isCoordSupported(seriesModel)) {\n        var axisMainType = getAxisMainType(this._dimName);\n        var axisModel = seriesModel.getReferringComponents(axisMainType, SINGLE_REFERRING).models[0];\n\n        if (axisModel && this._axisIndex === axisModel.componentIndex) {\n          seriesModels.push(seriesModel);\n        }\n      }\n    }, this);\n    return seriesModels;\n  };\n\n  AxisProxy.prototype.getAxisModel = function () {\n    return this.ecModel.getComponent(this._dimName + 'Axis', this._axisIndex);\n  };\n\n  AxisProxy.prototype.getMinMaxSpan = function () {\n    return zrUtil.clone(this._minMaxSpan);\n  };\n  /**\n   * Only calculate by given range and this._dataExtent, do not change anything.\n   */\n\n\n  AxisProxy.prototype.calculateDataWindow = function (opt) {\n    var dataExtent = this._dataExtent;\n    var axisModel = this.getAxisModel();\n    var scale = axisModel.axis.scale;\n\n    var rangePropMode = this._dataZoomModel.getRangePropMode();\n\n    var percentExtent = [0, 100];\n    var percentWindow = [];\n    var valueWindow = [];\n    var hasPropModeValue;\n    each(['start', 'end'], function (prop, idx) {\n      var boundPercent = opt[prop];\n      var boundValue = opt[prop + 'Value']; // Notice: dataZoom is based either on `percentProp` ('start', 'end') or\n      // on `valueProp` ('startValue', 'endValue'). (They are based on the data extent\n      // but not min/max of axis, which will be calculated by data window then).\n      // The former one is suitable for cases that a dataZoom component controls multiple\n      // axes with different unit or extent, and the latter one is suitable for accurate\n      // zoom by pixel (e.g., in dataZoomSelect).\n      // we use `getRangePropMode()` to mark which prop is used. `rangePropMode` is updated\n      // only when setOption or dispatchAction, otherwise it remains its original value.\n      // (Why not only record `percentProp` and always map to `valueProp`? Because\n      // the map `valueProp` -> `percentProp` -> `valueProp` probably not the original\n      // `valueProp`. consider two axes constrolled by one dataZoom. They have different\n      // data extent. All of values that are overflow the `dataExtent` will be calculated\n      // to percent '100%').\n\n      if (rangePropMode[idx] === 'percent') {\n        boundPercent == null && (boundPercent = percentExtent[idx]); // Use scale.parse to math round for category or time axis.\n\n        boundValue = scale.parse(numberUtil.linearMap(boundPercent, percentExtent, dataExtent));\n      } else {\n        hasPropModeValue = true;\n        boundValue = boundValue == null ? dataExtent[idx] : scale.parse(boundValue); // Calculating `percent` from `value` may be not accurate, because\n        // This calculation can not be inversed, because all of values that\n        // are overflow the `dataExtent` will be calculated to percent '100%'\n\n        boundPercent = numberUtil.linearMap(boundValue, dataExtent, percentExtent);\n      } // valueWindow[idx] = round(boundValue);\n      // percentWindow[idx] = round(boundPercent);\n\n\n      valueWindow[idx] = boundValue;\n      percentWindow[idx] = boundPercent;\n    });\n    asc(valueWindow);\n    asc(percentWindow); // The windows from user calling of `dispatchAction` might be out of the extent,\n    // or do not obey the `min/maxSpan`, `min/maxValueSpan`. But we dont restrict window\n    // by `zoomLock` here, because we see `zoomLock` just as a interaction constraint,\n    // where API is able to initialize/modify the window size even though `zoomLock`\n    // specified.\n\n    var spans = this._minMaxSpan;\n    hasPropModeValue ? restrictSet(valueWindow, percentWindow, dataExtent, percentExtent, false) : restrictSet(percentWindow, valueWindow, percentExtent, dataExtent, true);\n\n    function restrictSet(fromWindow, toWindow, fromExtent, toExtent, toValue) {\n      var suffix = toValue ? 'Span' : 'ValueSpan';\n      sliderMove(0, fromWindow, fromExtent, 'all', spans['min' + suffix], spans['max' + suffix]);\n\n      for (var i = 0; i < 2; i++) {\n        toWindow[i] = numberUtil.linearMap(fromWindow[i], fromExtent, toExtent, true);\n        toValue && (toWindow[i] = scale.parse(toWindow[i]));\n      }\n    }\n\n    return {\n      valueWindow: valueWindow,\n      percentWindow: percentWindow\n    };\n  };\n  /**\n   * Notice: reset should not be called before series.restoreData() called,\n   * so it is recommanded to be called in \"process stage\" but not \"model init\n   * stage\".\n   */\n\n\n  AxisProxy.prototype.reset = function (dataZoomModel) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n\n    var targetSeries = this.getTargetSeriesModels(); // Culculate data window and data extent, and record them.\n\n    this._dataExtent = calculateDataExtent(this, this._dimName, targetSeries); // this.hasSeriesStacked = false;\n    // each(targetSeries, function (series) {\n    // let data = series.getData();\n    // let dataDim = data.mapDimension(this._dimName);\n    // let stackedDimension = data.getCalculationInfo('stackedDimension');\n    // if (stackedDimension && stackedDimension === dataDim) {\n    // this.hasSeriesStacked = true;\n    // }\n    // }, this);\n    // `calculateDataWindow` uses min/maxSpan.\n\n    this._updateMinMaxSpan();\n\n    var dataWindow = this.calculateDataWindow(dataZoomModel.settledOption);\n    this._valueWindow = dataWindow.valueWindow;\n    this._percentWindow = dataWindow.percentWindow; // Update axis setting then.\n\n    this._setAxisModel();\n  };\n\n  AxisProxy.prototype.filterData = function (dataZoomModel, api) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n\n    var axisDim = this._dimName;\n    var seriesModels = this.getTargetSeriesModels();\n    var filterMode = dataZoomModel.get('filterMode');\n    var valueWindow = this._valueWindow;\n\n    if (filterMode === 'none') {\n      return;\n    } // FIXME\n    // Toolbox may has dataZoom injected. And if there are stacked bar chart\n    // with NaN data, NaN will be filtered and stack will be wrong.\n    // So we need to force the mode to be set empty.\n    // In fect, it is not a big deal that do not support filterMode-'filter'\n    // when using toolbox#dataZoom, utill tooltip#dataZoom support \"single axis\n    // selection\" some day, which might need \"adapt to data extent on the\n    // otherAxis\", which is disabled by filterMode-'empty'.\n    // But currently, stack has been fixed to based on value but not index,\n    // so this is not an issue any more.\n    // let otherAxisModel = this.getOtherAxisModel();\n    // if (dataZoomModel.get('$fromToolbox')\n    //     && otherAxisModel\n    //     && otherAxisModel.hasSeriesStacked\n    // ) {\n    //     filterMode = 'empty';\n    // }\n    // TODO\n    // filterMode 'weakFilter' and 'empty' is not optimized for huge data yet.\n\n\n    each(seriesModels, function (seriesModel) {\n      var seriesData = seriesModel.getData();\n      var dataDims = seriesData.mapDimensionsAll(axisDim);\n\n      if (!dataDims.length) {\n        return;\n      }\n\n      if (filterMode === 'weakFilter') {\n        seriesData.filterSelf(function (dataIndex) {\n          var leftOut;\n          var rightOut;\n          var hasValue;\n\n          for (var i = 0; i < dataDims.length; i++) {\n            var value = seriesData.get(dataDims[i], dataIndex);\n            var thisHasValue = !isNaN(value);\n            var thisLeftOut = value < valueWindow[0];\n            var thisRightOut = value > valueWindow[1];\n\n            if (thisHasValue && !thisLeftOut && !thisRightOut) {\n              return true;\n            }\n\n            thisHasValue && (hasValue = true);\n            thisLeftOut && (leftOut = true);\n            thisRightOut && (rightOut = true);\n          } // If both left out and right out, do not filter.\n\n\n          return hasValue && leftOut && rightOut;\n        });\n      } else {\n        each(dataDims, function (dim) {\n          if (filterMode === 'empty') {\n            seriesModel.setData(seriesData = seriesData.map(dim, function (value) {\n              return !isInWindow(value) ? NaN : value;\n            }));\n          } else {\n            var range = {};\n            range[dim] = valueWindow; // console.time('select');\n\n            seriesData.selectRange(range); // console.timeEnd('select');\n          }\n        });\n      }\n\n      each(dataDims, function (dim) {\n        seriesData.setApproximateExtent(valueWindow, dim);\n      });\n    });\n\n    function isInWindow(value) {\n      return value >= valueWindow[0] && value <= valueWindow[1];\n    }\n  };\n\n  AxisProxy.prototype._updateMinMaxSpan = function () {\n    var minMaxSpan = this._minMaxSpan = {};\n    var dataZoomModel = this._dataZoomModel;\n    var dataExtent = this._dataExtent;\n    each(['min', 'max'], function (minMax) {\n      var percentSpan = dataZoomModel.get(minMax + 'Span');\n      var valueSpan = dataZoomModel.get(minMax + 'ValueSpan');\n      valueSpan != null && (valueSpan = this.getAxisModel().axis.scale.parse(valueSpan)); // minValueSpan and maxValueSpan has higher priority than minSpan and maxSpan\n\n      if (valueSpan != null) {\n        percentSpan = numberUtil.linearMap(dataExtent[0] + valueSpan, dataExtent, [0, 100], true);\n      } else if (percentSpan != null) {\n        valueSpan = numberUtil.linearMap(percentSpan, [0, 100], dataExtent, true) - dataExtent[0];\n      }\n\n      minMaxSpan[minMax + 'Span'] = percentSpan;\n      minMaxSpan[minMax + 'ValueSpan'] = valueSpan;\n    }, this);\n  };\n\n  AxisProxy.prototype._setAxisModel = function () {\n    var axisModel = this.getAxisModel();\n    var percentWindow = this._percentWindow;\n    var valueWindow = this._valueWindow;\n\n    if (!percentWindow) {\n      return;\n    } // [0, 500]: arbitrary value, guess axis extent.\n\n\n    var precision = numberUtil.getPixelPrecision(valueWindow, [0, 500]);\n    precision = Math.min(precision, 20); // For value axis, if min/max/scale are not set, we just use the extent obtained\n    // by series data, which may be a little different from the extent calculated by\n    // `axisHelper.getScaleExtent`. But the different just affects the experience a\n    // little when zooming. So it will not be fixed until some users require it strongly.\n\n    var rawExtentInfo = axisModel.axis.scale.rawExtentInfo;\n\n    if (percentWindow[0] !== 0) {\n      rawExtentInfo.setDeterminedMinMax('min', +valueWindow[0].toFixed(precision));\n    }\n\n    if (percentWindow[1] !== 100) {\n      rawExtentInfo.setDeterminedMinMax('max', +valueWindow[1].toFixed(precision));\n    }\n\n    rawExtentInfo.freeze();\n  };\n\n  return AxisProxy;\n}();\n\nfunction calculateDataExtent(axisProxy, axisDim, seriesModels) {\n  var dataExtent = [Infinity, -Infinity];\n  each(seriesModels, function (seriesModel) {\n    unionAxisExtentFromData(dataExtent, seriesModel.getData(), axisDim);\n  }); // It is important to get \"consistent\" extent when more then one axes is\n  // controlled by a `dataZoom`, otherwise those axes will not be synchronized\n  // when zooming. But it is difficult to know what is \"consistent\", considering\n  // axes have different type or even different meanings (For example, two\n  // time axes are used to compare data of the same date in different years).\n  // So basically dataZoom just obtains extent by series.data (in category axis\n  // extent can be obtained from axis.data).\n  // Nevertheless, user can set min/max/scale on axes to make extent of axes\n  // consistent.\n\n  var axisModel = axisProxy.getAxisModel();\n  var rawExtentResult = ensureScaleRawExtentInfo(axisModel.axis.scale, axisModel, dataExtent).calculate();\n  return [rawExtentResult.min, rawExtentResult.max];\n}\n\nexport default AxisProxy;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, each } from 'zrender/lib/core/util';\nimport { getAxisMainType } from './helper';\nimport AxisProxy from './AxisProxy';\nvar dataZoomProcessor = {\n  // `dataZoomProcessor` will only be performed in needed series. Consider if\n  // there is a line series and a pie series, it is better not to update the\n  // line series if only pie series is needed to be updated.\n  getTargetSeries: function (ecModel) {\n    function eachAxisModel(cb) {\n      ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n        dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n          var axisModel = ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n          cb(axisDim, axisIndex, axisModel, dataZoomModel);\n        });\n      });\n    } // FIXME: it brings side-effect to `getTargetSeries`.\n    // Prepare axis proxies.\n\n\n    eachAxisModel(function (axisDim, axisIndex, axisModel, dataZoomModel) {\n      // dispose all last axis proxy, in case that some axis are deleted.\n      axisModel.__dzAxisProxy = null;\n    });\n    var proxyList = [];\n    eachAxisModel(function (axisDim, axisIndex, axisModel, dataZoomModel) {\n      // Different dataZooms may constrol the same axis. In that case,\n      // an axisProxy serves both of them.\n      if (!axisModel.__dzAxisProxy) {\n        // Use the first dataZoomModel as the main model of axisProxy.\n        axisModel.__dzAxisProxy = new AxisProxy(axisDim, axisIndex, dataZoomModel, ecModel);\n        proxyList.push(axisModel.__dzAxisProxy);\n      }\n    });\n    var seriesModelMap = createHashMap();\n    each(proxyList, function (axisProxy) {\n      each(axisProxy.getTargetSeriesModels(), function (seriesModel) {\n        seriesModelMap.set(seriesModel.uid, seriesModel);\n      });\n    });\n    return seriesModelMap;\n  },\n  // Consider appendData, where filter should be performed. Because data process is\n  // in block mode currently, it is not need to worry about that the overallProgress\n  // execute every frame.\n  overallReset: function (ecModel, api) {\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n      // We calculate window and reset axis here but not in model\n      // init stage and not after action dispatch handler, because\n      // reset should be called after seriesData.restoreData.\n      dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n        dataZoomModel.getAxisProxy(axisDim, axisIndex).reset(dataZoomModel);\n      }); // Caution: data zoom filtering is order sensitive when using\n      // percent range and no min/max/scale set on axis.\n      // For example, we have dataZoom definition:\n      // [\n      //      {xAxisIndex: 0, start: 30, end: 70},\n      //      {yAxisIndex: 0, start: 20, end: 80}\n      // ]\n      // In this case, [20, 80] of y-dataZoom should be based on data\n      // that have filtered by x-dataZoom using range of [30, 70],\n      // but should not be based on full raw data. Thus sliding\n      // x-dataZoom will change both ranges of xAxis and yAxis,\n      // while sliding y-dataZoom will only change the range of yAxis.\n      // So we should filter x-axis after reset x-axis immediately,\n      // and then reset y-axis and filter y-axis.\n\n      dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n        dataZoomModel.getAxisProxy(axisDim, axisIndex).filterData(dataZoomModel, api);\n      });\n    });\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n      // Fullfill all of the range props so that user\n      // is able to get them from chart.getOption().\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n\n      if (axisProxy) {\n        var percentRange = axisProxy.getDataPercentWindow();\n        var valueRange = axisProxy.getDataValueWindow();\n        dataZoomModel.setCalculatedRange({\n          start: percentRange[0],\n          end: percentRange[1],\n          startValue: valueRange[0],\n          endValue: valueRange[1]\n        });\n      }\n    });\n  }\n};\nexport default dataZoomProcessor;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { findEffectedDataZooms } from './helper';\nimport { each } from 'zrender/lib/core/util';\nexport default function installDataZoomAction(registers) {\n  registers.registerAction('dataZoom', function (payload, ecModel) {\n    var effectedModels = findEffectedDataZooms(ecModel, payload);\n    each(effectedModels, function (dataZoomModel) {\n      dataZoomModel.setRawRange({\n        start: payload.start,\n        end: payload.end,\n        startValue: payload.startValue,\n        endValue: payload.endValue\n      });\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport dataZoomProcessor from './dataZoomProcessor';\nimport installDataZoomAction from './dataZoomAction';\nvar installed = false;\nexport default function installCommon(registers) {\n  if (installed) {\n    return;\n  }\n\n  installed = true;\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.FILTER, dataZoomProcessor);\n  installDataZoomAction(registers);\n  registers.registerSubTypeDefaulter('dataZoom', function () {\n    // Default 'slider' when no type specified.\n    return 'slider';\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport InsideZoomModel from './InsideZoomModel';\nimport InsideZoomView from './InsideZoomView';\nimport { installDataZoomRoamProcessor } from './roams';\nimport installCommon from './installCommon';\nexport function install(registers) {\n  installCommon(registers);\n  registers.registerComponentModel(InsideZoomModel);\n  registers.registerComponentView(InsideZoomView);\n  installDataZoomRoamProcessor(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomModel from './DataZoomModel';\nimport { inheritDefaultOption } from '../../util/component';\n\nvar SliderZoomModel =\n/** @class */\nfunction (_super) {\n  __extends(SliderZoomModel, _super);\n\n  function SliderZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = SliderZoomModel.type;\n    return _this;\n  }\n\n  SliderZoomModel.type = 'dataZoom.slider';\n  SliderZoomModel.layoutMode = 'box';\n  SliderZoomModel.defaultOption = inheritDefaultOption(DataZoomModel.defaultOption, {\n    show: true,\n    // deault value can only be drived in view stage.\n    right: 'ph',\n    top: 'ph',\n    width: 'ph',\n    height: 'ph',\n    left: null,\n    bottom: null,\n    borderColor: '#d2dbee',\n    borderRadius: 3,\n    backgroundColor: 'rgba(47,69,84,0)',\n    // dataBackgroundColor: '#ddd',\n    dataBackground: {\n      lineStyle: {\n        color: '#d2dbee',\n        width: 0.5\n      },\n      areaStyle: {\n        color: '#d2dbee',\n        opacity: 0.2\n      }\n    },\n    selectedDataBackground: {\n      lineStyle: {\n        color: '#8fb0f7',\n        width: 0.5\n      },\n      areaStyle: {\n        color: '#8fb0f7',\n        opacity: 0.2\n      }\n    },\n    // Color of selected window.\n    fillerColor: 'rgba(135,175,274,0.2)',\n    handleIcon: 'path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z',\n    // Percent of the slider height\n    handleSize: '100%',\n    handleStyle: {\n      color: '#fff',\n      borderColor: '#ACB8D1'\n    },\n    moveHandleSize: 7,\n    moveHandleIcon: 'path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z',\n    moveHandleStyle: {\n      color: '#D2DBEE',\n      opacity: 0.7\n    },\n    showDetail: true,\n    showDataShadow: 'auto',\n    realtime: true,\n    zoomLock: false,\n    textStyle: {\n      color: '#6E7079'\n    },\n    brushSelect: true,\n    brushStyle: {\n      color: 'rgba(135,175,274,0.15)'\n    },\n    emphasis: {\n      handleStyle: {\n        borderColor: '#8FB0F7'\n      },\n      moveHandleStyle: {\n        color: '#8FB0F7'\n      }\n    }\n  });\n  return SliderZoomModel;\n}(DataZoomModel);\n\nexport default SliderZoomModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { bind, each, isFunction, isString, indexOf } from 'zrender/lib/core/util';\nimport * as eventTool from 'zrender/lib/core/event';\nimport * as graphic from '../../util/graphic';\nimport * as throttle from '../../util/throttle';\nimport DataZoomView from './DataZoomView';\nimport { linearMap, asc, parsePercent } from '../../util/number';\nimport * as layout from '../../util/layout';\nimport sliderMove from '../helper/sliderMove';\nimport { getAxisMainType, collectReferCoordSysModelInfo } from './helper';\nimport { enableHoverEmphasis } from '../../util/states';\nimport { createSymbol, symbolBuildProxies } from '../../util/symbol';\nimport { deprecateLog } from '../../util/log';\nimport { createTextStyle } from '../../label/labelStyle';\nvar Rect = graphic.Rect; // Constants\n\nvar DEFAULT_LOCATION_EDGE_GAP = 7;\nvar DEFAULT_FRAME_BORDER_WIDTH = 1;\nvar DEFAULT_FILLER_SIZE = 30;\nvar DEFAULT_MOVE_HANDLE_SIZE = 7;\nvar HORIZONTAL = 'horizontal';\nvar VERTICAL = 'vertical';\nvar LABEL_GAP = 5;\nvar SHOW_DATA_SHADOW_SERIES_TYPE = ['line', 'bar', 'candlestick', 'scatter'];\nvar REALTIME_ANIMATION_CONFIG = {\n  easing: 'cubicOut',\n  duration: 100\n};\n\nvar SliderZoomView =\n/** @class */\nfunction (_super) {\n  __extends(SliderZoomView, _super);\n\n  function SliderZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = SliderZoomView.type;\n    _this._displayables = {};\n    return _this;\n  }\n\n  SliderZoomView.prototype.init = function (ecModel, api) {\n    this.api = api; // A unique handler for each dataZoom component\n\n    this._onBrush = bind(this._onBrush, this);\n    this._onBrushEnd = bind(this._onBrushEnd, this);\n  };\n\n  SliderZoomView.prototype.render = function (dataZoomModel, ecModel, api, payload) {\n    _super.prototype.render.apply(this, arguments);\n\n    throttle.createOrUpdate(this, '_dispatchZoomAction', dataZoomModel.get('throttle'), 'fixRate');\n    this._orient = dataZoomModel.getOrient();\n\n    if (dataZoomModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    }\n\n    if (dataZoomModel.noTarget()) {\n      this._clear();\n\n      this.group.removeAll();\n      return;\n    } // Notice: this._resetInterval() should not be executed when payload.type\n    // is 'dataZoom', origin this._range should be maintained, otherwise 'pan'\n    // or 'zoom' info will be missed because of 'throttle' of this.dispatchAction,\n\n\n    if (!payload || payload.type !== 'dataZoom' || payload.from !== this.uid) {\n      this._buildView();\n    }\n\n    this._updateView();\n  };\n\n  SliderZoomView.prototype.dispose = function () {\n    this._clear();\n\n    _super.prototype.dispose.apply(this, arguments);\n  };\n\n  SliderZoomView.prototype._clear = function () {\n    throttle.clear(this, '_dispatchZoomAction');\n    var zr = this.api.getZr();\n    zr.off('mousemove', this._onBrush);\n    zr.off('mouseup', this._onBrushEnd);\n  };\n\n  SliderZoomView.prototype._buildView = function () {\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n    this._brushing = false;\n    this._displayables.brushRect = null;\n\n    this._resetLocation();\n\n    this._resetInterval();\n\n    var barGroup = this._displayables.sliderGroup = new graphic.Group();\n\n    this._renderBackground();\n\n    this._renderHandle();\n\n    this._renderDataShadow();\n\n    thisGroup.add(barGroup);\n\n    this._positionGroup();\n  };\n\n  SliderZoomView.prototype._resetLocation = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api;\n    var showMoveHandle = dataZoomModel.get('brushSelect');\n    var moveHandleSize = showMoveHandle ? DEFAULT_MOVE_HANDLE_SIZE : 0; // If some of x/y/width/height are not specified,\n    // auto-adapt according to target grid.\n\n    var coordRect = this._findCoordRect();\n\n    var ecSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    }; // Default align by coordinate system rect.\n\n    var positionInfo = this._orient === HORIZONTAL ? {\n      // Why using 'right', because right should be used in vertical,\n      // and it is better to be consistent for dealing with position param merge.\n      right: ecSize.width - coordRect.x - coordRect.width,\n      top: ecSize.height - DEFAULT_FILLER_SIZE - DEFAULT_LOCATION_EDGE_GAP - moveHandleSize,\n      width: coordRect.width,\n      height: DEFAULT_FILLER_SIZE\n    } : {\n      right: DEFAULT_LOCATION_EDGE_GAP,\n      top: coordRect.y,\n      width: DEFAULT_FILLER_SIZE,\n      height: coordRect.height\n    }; // Do not write back to option and replace value 'ph', because\n    // the 'ph' value should be recalculated when resize.\n\n    var layoutParams = layout.getLayoutParams(dataZoomModel.option); // Replace the placeholder value.\n\n    each(['right', 'top', 'width', 'height'], function (name) {\n      if (layoutParams[name] === 'ph') {\n        layoutParams[name] = positionInfo[name];\n      }\n    });\n    var layoutRect = layout.getLayoutRect(layoutParams, ecSize);\n    this._location = {\n      x: layoutRect.x,\n      y: layoutRect.y\n    };\n    this._size = [layoutRect.width, layoutRect.height];\n    this._orient === VERTICAL && this._size.reverse();\n  };\n\n  SliderZoomView.prototype._positionGroup = function () {\n    var thisGroup = this.group;\n    var location = this._location;\n    var orient = this._orient; // Just use the first axis to determine mapping.\n\n    var targetAxisModel = this.dataZoomModel.getFirstTargetAxisModel();\n    var inverse = targetAxisModel && targetAxisModel.get('inverse');\n    var sliderGroup = this._displayables.sliderGroup;\n    var otherAxisInverse = (this._dataShadowInfo || {}).otherAxisInverse; // Transform barGroup.\n\n    sliderGroup.attr(orient === HORIZONTAL && !inverse ? {\n      scaleY: otherAxisInverse ? 1 : -1,\n      scaleX: 1\n    } : orient === HORIZONTAL && inverse ? {\n      scaleY: otherAxisInverse ? 1 : -1,\n      scaleX: -1\n    } : orient === VERTICAL && !inverse ? {\n      scaleY: otherAxisInverse ? -1 : 1,\n      scaleX: 1,\n      rotation: Math.PI / 2\n    } // Dont use Math.PI, considering shadow direction.\n    : {\n      scaleY: otherAxisInverse ? -1 : 1,\n      scaleX: -1,\n      rotation: Math.PI / 2\n    }); // Position barGroup\n\n    var rect = thisGroup.getBoundingRect([sliderGroup]);\n    thisGroup.x = location.x - rect.x;\n    thisGroup.y = location.y - rect.y;\n    thisGroup.markRedraw();\n  };\n\n  SliderZoomView.prototype._getViewExtent = function () {\n    return [0, this._size[0]];\n  };\n\n  SliderZoomView.prototype._renderBackground = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var size = this._size;\n    var barGroup = this._displayables.sliderGroup;\n    var brushSelect = dataZoomModel.get('brushSelect');\n    barGroup.add(new Rect({\n      silent: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: dataZoomModel.get('backgroundColor')\n      },\n      z2: -40\n    })); // Click panel, over shadow, below handles.\n\n    var clickPanel = new Rect({\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: 'transparent'\n      },\n      z2: 0,\n      onclick: bind(this._onClickPanel, this)\n    });\n    var zr = this.api.getZr();\n\n    if (brushSelect) {\n      clickPanel.on('mousedown', this._onBrushStart, this);\n      clickPanel.cursor = 'crosshair';\n      zr.on('mousemove', this._onBrush);\n      zr.on('mouseup', this._onBrushEnd);\n    } else {\n      zr.off('mousemove', this._onBrush);\n      zr.off('mouseup', this._onBrushEnd);\n    }\n\n    barGroup.add(clickPanel);\n  };\n\n  SliderZoomView.prototype._renderDataShadow = function () {\n    var info = this._dataShadowInfo = this._prepareDataShadowInfo();\n\n    this._displayables.dataShadowSegs = [];\n\n    if (!info) {\n      return;\n    }\n\n    var size = this._size;\n    var seriesModel = info.series;\n    var data = seriesModel.getRawData();\n    var otherDim = seriesModel.getShadowDim ? seriesModel.getShadowDim() // @see candlestick\n    : info.otherDim;\n\n    if (otherDim == null) {\n      return;\n    }\n\n    var otherDataExtent = data.getDataExtent(otherDim); // Nice extent.\n\n    var otherOffset = (otherDataExtent[1] - otherDataExtent[0]) * 0.3;\n    otherDataExtent = [otherDataExtent[0] - otherOffset, otherDataExtent[1] + otherOffset];\n    var otherShadowExtent = [0, size[1]];\n    var thisShadowExtent = [0, size[0]];\n    var areaPoints = [[size[0], 0], [0, 0]];\n    var linePoints = [];\n    var step = thisShadowExtent[1] / (data.count() - 1);\n    var thisCoord = 0; // Optimize for large data shadow\n\n    var stride = Math.round(data.count() / size[0]);\n    var lastIsEmpty;\n    data.each([otherDim], function (value, index) {\n      if (stride > 0 && index % stride) {\n        thisCoord += step;\n        return;\n      } // FIXME\n      // Should consider axis.min/axis.max when drawing dataShadow.\n      // FIXME\n      // 应该使用统一的空判断？还是在list里进行空判断？\n\n\n      var isEmpty = value == null || isNaN(value) || value === ''; // See #4235.\n\n      var otherCoord = isEmpty ? 0 : linearMap(value, otherDataExtent, otherShadowExtent, true); // Attempt to draw data shadow precisely when there are empty value.\n\n      if (isEmpty && !lastIsEmpty && index) {\n        areaPoints.push([areaPoints[areaPoints.length - 1][0], 0]);\n        linePoints.push([linePoints[linePoints.length - 1][0], 0]);\n      } else if (!isEmpty && lastIsEmpty) {\n        areaPoints.push([thisCoord, 0]);\n        linePoints.push([thisCoord, 0]);\n      }\n\n      areaPoints.push([thisCoord, otherCoord]);\n      linePoints.push([thisCoord, otherCoord]);\n      thisCoord += step;\n      lastIsEmpty = isEmpty;\n    });\n    var dataZoomModel = this.dataZoomModel;\n\n    function createDataShadowGroup(isSelectedArea) {\n      var model = dataZoomModel.getModel(isSelectedArea ? 'selectedDataBackground' : 'dataBackground');\n      var group = new graphic.Group();\n      var polygon = new graphic.Polygon({\n        shape: {\n          points: areaPoints\n        },\n        segmentIgnoreThreshold: 1,\n        style: model.getModel('areaStyle').getAreaStyle(),\n        silent: true,\n        z2: -20\n      });\n      var polyline = new graphic.Polyline({\n        shape: {\n          points: linePoints\n        },\n        segmentIgnoreThreshold: 1,\n        style: model.getModel('lineStyle').getLineStyle(),\n        silent: true,\n        z2: -19\n      });\n      group.add(polygon);\n      group.add(polyline);\n      return group;\n    } // let dataBackgroundModel = dataZoomModel.getModel('dataBackground');\n\n\n    for (var i = 0; i < 3; i++) {\n      var group = createDataShadowGroup(i === 1);\n\n      this._displayables.sliderGroup.add(group);\n\n      this._displayables.dataShadowSegs.push(group);\n    }\n  };\n\n  SliderZoomView.prototype._prepareDataShadowInfo = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var showDataShadow = dataZoomModel.get('showDataShadow');\n\n    if (showDataShadow === false) {\n      return;\n    } // Find a representative series.\n\n\n    var result;\n    var ecModel = this.ecModel;\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      var seriesModels = dataZoomModel.getAxisProxy(axisDim, axisIndex).getTargetSeriesModels();\n      each(seriesModels, function (seriesModel) {\n        if (result) {\n          return;\n        }\n\n        if (showDataShadow !== true && indexOf(SHOW_DATA_SHADOW_SERIES_TYPE, seriesModel.get('type')) < 0) {\n          return;\n        }\n\n        var thisAxis = ecModel.getComponent(getAxisMainType(axisDim), axisIndex).axis;\n        var otherDim = getOtherDim(axisDim);\n        var otherAxisInverse;\n        var coordSys = seriesModel.coordinateSystem;\n\n        if (otherDim != null && coordSys.getOtherAxis) {\n          otherAxisInverse = coordSys.getOtherAxis(thisAxis).inverse;\n        }\n\n        otherDim = seriesModel.getData().mapDimension(otherDim);\n        result = {\n          thisAxis: thisAxis,\n          series: seriesModel,\n          thisDim: axisDim,\n          otherDim: otherDim,\n          otherAxisInverse: otherAxisInverse\n        };\n      }, this);\n    }, this);\n    return result;\n  };\n\n  SliderZoomView.prototype._renderHandle = function () {\n    var thisGroup = this.group;\n    var displayables = this._displayables;\n    var handles = displayables.handles = [null, null];\n    var handleLabels = displayables.handleLabels = [null, null];\n    var sliderGroup = this._displayables.sliderGroup;\n    var size = this._size;\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api;\n    var borderRadius = dataZoomModel.get('borderRadius') || 0;\n    var brushSelect = dataZoomModel.get('brushSelect');\n    var filler = displayables.filler = new Rect({\n      silent: brushSelect,\n      style: {\n        fill: dataZoomModel.get('fillerColor')\n      },\n      textConfig: {\n        position: 'inside'\n      }\n    });\n    sliderGroup.add(filler); // Frame border.\n\n    sliderGroup.add(new Rect({\n      silent: true,\n      subPixelOptimize: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1],\n        r: borderRadius\n      },\n      style: {\n        stroke: dataZoomModel.get('dataBackgroundColor') // deprecated option\n        || dataZoomModel.get('borderColor'),\n        lineWidth: DEFAULT_FRAME_BORDER_WIDTH,\n        fill: 'rgba(0,0,0,0)'\n      }\n    })); // Left and right handle to resize\n\n    each([0, 1], function (handleIndex) {\n      var iconStr = dataZoomModel.get('handleIcon');\n\n      if (!symbolBuildProxies[iconStr] && iconStr.indexOf('path://') < 0 && iconStr.indexOf('image://') < 0) {\n        // Compatitable with the old icon parsers. Which can use a path string without path://\n        iconStr = 'path://' + iconStr;\n\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateLog('handleIcon now needs \\'path://\\' prefix when using a path string');\n        }\n      }\n\n      var path = createSymbol(iconStr, -1, 0, 2, 2, null, true);\n      path.attr({\n        cursor: getCursor(this._orient),\n        draggable: true,\n        drift: bind(this._onDragMove, this, handleIndex),\n        ondragend: bind(this._onDragEnd, this),\n        onmouseover: bind(this._showDataInfo, this, true),\n        onmouseout: bind(this._showDataInfo, this, false),\n        z2: 5\n      });\n      var bRect = path.getBoundingRect();\n      var handleSize = dataZoomModel.get('handleSize');\n      this._handleHeight = parsePercent(handleSize, this._size[1]);\n      this._handleWidth = bRect.width / bRect.height * this._handleHeight;\n      path.setStyle(dataZoomModel.getModel('handleStyle').getItemStyle());\n      path.style.strokeNoScale = true;\n      path.rectHover = true;\n      path.ensureState('emphasis').style = dataZoomModel.getModel(['emphasis', 'handleStyle']).getItemStyle();\n      enableHoverEmphasis(path);\n      var handleColor = dataZoomModel.get('handleColor'); // deprecated option\n      // Compatitable with previous version\n\n      if (handleColor != null) {\n        path.style.fill = handleColor;\n      }\n\n      sliderGroup.add(handles[handleIndex] = path);\n      var textStyleModel = dataZoomModel.getModel('textStyle');\n      thisGroup.add(handleLabels[handleIndex] = new graphic.Text({\n        silent: true,\n        invisible: true,\n        style: createTextStyle(textStyleModel, {\n          x: 0,\n          y: 0,\n          text: '',\n          verticalAlign: 'middle',\n          align: 'center',\n          fill: textStyleModel.getTextColor(),\n          font: textStyleModel.getFont()\n        }),\n        z2: 10\n      }));\n    }, this); // Handle to move. Only visible when brushSelect is set true.\n\n    var actualMoveZone = filler;\n\n    if (brushSelect) {\n      var moveHandleHeight = parsePercent(dataZoomModel.get('moveHandleSize'), size[1]);\n      var moveHandle_1 = displayables.moveHandle = new graphic.Rect({\n        style: dataZoomModel.getModel('moveHandleStyle').getItemStyle(),\n        silent: true,\n        shape: {\n          r: [0, 0, 2, 2],\n          y: size[1] - 0.5,\n          height: moveHandleHeight\n        }\n      });\n      var iconSize = moveHandleHeight * 0.8;\n      var moveHandleIcon = displayables.moveHandleIcon = createSymbol(dataZoomModel.get('moveHandleIcon'), -iconSize / 2, -iconSize / 2, iconSize, iconSize, '#fff', true);\n      moveHandleIcon.silent = true;\n      moveHandleIcon.y = size[1] + moveHandleHeight / 2 - 0.5;\n      moveHandle_1.ensureState('emphasis').style = dataZoomModel.getModel(['emphasis', 'moveHandleStyle']).getItemStyle();\n      var moveZoneExpandSize = Math.min(size[1] / 2, Math.max(moveHandleHeight, 10));\n      actualMoveZone = displayables.moveZone = new graphic.Rect({\n        invisible: true,\n        shape: {\n          y: size[1] - moveZoneExpandSize,\n          height: moveHandleHeight + moveZoneExpandSize\n        }\n      });\n      actualMoveZone.on('mouseover', function () {\n        api.enterEmphasis(moveHandle_1);\n      }).on('mouseout', function () {\n        api.leaveEmphasis(moveHandle_1);\n      });\n      sliderGroup.add(moveHandle_1);\n      sliderGroup.add(moveHandleIcon);\n      sliderGroup.add(actualMoveZone);\n    }\n\n    actualMoveZone.attr({\n      draggable: true,\n      cursor: getCursor(this._orient),\n      drift: bind(this._onDragMove, this, 'all'),\n      ondragstart: bind(this._showDataInfo, this, true),\n      ondragend: bind(this._onDragEnd, this),\n      onmouseover: bind(this._showDataInfo, this, true),\n      onmouseout: bind(this._showDataInfo, this, false)\n    });\n  };\n\n  SliderZoomView.prototype._resetInterval = function () {\n    var range = this._range = this.dataZoomModel.getPercentRange();\n\n    var viewExtent = this._getViewExtent();\n\n    this._handleEnds = [linearMap(range[0], [0, 100], viewExtent, true), linearMap(range[1], [0, 100], viewExtent, true)];\n  };\n\n  SliderZoomView.prototype._updateInterval = function (handleIndex, delta) {\n    var dataZoomModel = this.dataZoomModel;\n    var handleEnds = this._handleEnds;\n\n    var viewExtend = this._getViewExtent();\n\n    var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    var percentExtent = [0, 100];\n    sliderMove(delta, handleEnds, viewExtend, dataZoomModel.get('zoomLock') ? 'all' : handleIndex, minMaxSpan.minSpan != null ? linearMap(minMaxSpan.minSpan, percentExtent, viewExtend, true) : null, minMaxSpan.maxSpan != null ? linearMap(minMaxSpan.maxSpan, percentExtent, viewExtend, true) : null);\n    var lastRange = this._range;\n    var range = this._range = asc([linearMap(handleEnds[0], viewExtend, percentExtent, true), linearMap(handleEnds[1], viewExtend, percentExtent, true)]);\n    return !lastRange || lastRange[0] !== range[0] || lastRange[1] !== range[1];\n  };\n\n  SliderZoomView.prototype._updateView = function (nonRealtime) {\n    var displaybles = this._displayables;\n    var handleEnds = this._handleEnds;\n    var handleInterval = asc(handleEnds.slice());\n    var size = this._size;\n    each([0, 1], function (handleIndex) {\n      // Handles\n      var handle = displaybles.handles[handleIndex];\n      var handleHeight = this._handleHeight;\n      handle.attr({\n        scaleX: handleHeight / 2,\n        scaleY: handleHeight / 2,\n        // This is a trick, by adding an extra tiny offset to let the default handle's end point align to the drag window.\n        // NOTE: It may affect some custom shapes a bit. But we prefer to have better result by default.\n        x: handleEnds[handleIndex] + (handleIndex ? -1 : 1),\n        y: size[1] / 2 - handleHeight / 2\n      });\n    }, this); // Filler\n\n    displaybles.filler.setShape({\n      x: handleInterval[0],\n      y: 0,\n      width: handleInterval[1] - handleInterval[0],\n      height: size[1]\n    });\n    var viewExtent = {\n      x: handleInterval[0],\n      width: handleInterval[1] - handleInterval[0]\n    }; // Move handle\n\n    if (displaybles.moveHandle) {\n      displaybles.moveHandle.setShape(viewExtent);\n      displaybles.moveZone.setShape(viewExtent); // Force update path on the invisible object\n\n      displaybles.moveZone.getBoundingRect();\n      displaybles.moveHandleIcon && displaybles.moveHandleIcon.attr('x', viewExtent.x + viewExtent.width / 2);\n    } // update clip path of shadow.\n\n\n    var dataShadowSegs = displaybles.dataShadowSegs;\n    var segIntervals = [0, handleInterval[0], handleInterval[1], size[0]];\n\n    for (var i = 0; i < dataShadowSegs.length; i++) {\n      var segGroup = dataShadowSegs[i];\n      var clipPath = segGroup.getClipPath();\n\n      if (!clipPath) {\n        clipPath = new graphic.Rect();\n        segGroup.setClipPath(clipPath);\n      }\n\n      clipPath.setShape({\n        x: segIntervals[i],\n        y: 0,\n        width: segIntervals[i + 1] - segIntervals[i],\n        height: size[1]\n      });\n    }\n\n    this._updateDataInfo(nonRealtime);\n  };\n\n  SliderZoomView.prototype._updateDataInfo = function (nonRealtime) {\n    var dataZoomModel = this.dataZoomModel;\n    var displaybles = this._displayables;\n    var handleLabels = displaybles.handleLabels;\n    var orient = this._orient;\n    var labelTexts = ['', '']; // FIXME\n    // date型，支持formatter，autoformatter（ec2 date.getAutoFormatter）\n\n    if (dataZoomModel.get('showDetail')) {\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n\n      if (axisProxy) {\n        var axis = axisProxy.getAxisModel().axis;\n        var range = this._range;\n        var dataInterval = nonRealtime // See #4434, data and axis are not processed and reset yet in non-realtime mode.\n        ? axisProxy.calculateDataWindow({\n          start: range[0],\n          end: range[1]\n        }).valueWindow : axisProxy.getDataValueWindow();\n        labelTexts = [this._formatLabel(dataInterval[0], axis), this._formatLabel(dataInterval[1], axis)];\n      }\n    }\n\n    var orderedHandleEnds = asc(this._handleEnds.slice());\n    setLabel.call(this, 0);\n    setLabel.call(this, 1);\n\n    function setLabel(handleIndex) {\n      // Label\n      // Text should not transform by barGroup.\n      // Ignore handlers transform\n      var barTransform = graphic.getTransform(displaybles.handles[handleIndex].parent, this.group);\n      var direction = graphic.transformDirection(handleIndex === 0 ? 'right' : 'left', barTransform);\n      var offset = this._handleWidth / 2 + LABEL_GAP;\n      var textPoint = graphic.applyTransform([orderedHandleEnds[handleIndex] + (handleIndex === 0 ? -offset : offset), this._size[1] / 2], barTransform);\n      handleLabels[handleIndex].setStyle({\n        x: textPoint[0],\n        y: textPoint[1],\n        verticalAlign: orient === HORIZONTAL ? 'middle' : direction,\n        align: orient === HORIZONTAL ? direction : 'center',\n        text: labelTexts[handleIndex]\n      });\n    }\n  };\n\n  SliderZoomView.prototype._formatLabel = function (value, axis) {\n    var dataZoomModel = this.dataZoomModel;\n    var labelFormatter = dataZoomModel.get('labelFormatter');\n    var labelPrecision = dataZoomModel.get('labelPrecision');\n\n    if (labelPrecision == null || labelPrecision === 'auto') {\n      labelPrecision = axis.getPixelPrecision();\n    }\n\n    var valueStr = value == null || isNaN(value) ? '' // FIXME Glue code\n    : axis.type === 'category' || axis.type === 'time' ? axis.scale.getLabel({\n      value: Math.round(value)\n    }) // param of toFixed should less then 20.\n    : value.toFixed(Math.min(labelPrecision, 20));\n    return isFunction(labelFormatter) ? labelFormatter(value, valueStr) : isString(labelFormatter) ? labelFormatter.replace('{value}', valueStr) : valueStr;\n  };\n  /**\n   * @param showOrHide true: show, false: hide\n   */\n\n\n  SliderZoomView.prototype._showDataInfo = function (showOrHide) {\n    // Always show when drgging.\n    showOrHide = this._dragging || showOrHide;\n    var displayables = this._displayables;\n    var handleLabels = displayables.handleLabels;\n    handleLabels[0].attr('invisible', !showOrHide);\n    handleLabels[1].attr('invisible', !showOrHide); // Highlight move handle\n\n    displayables.moveHandle && this.api[showOrHide ? 'enterEmphasis' : 'leaveEmphasis'](displayables.moveHandle, 1);\n  };\n\n  SliderZoomView.prototype._onDragMove = function (handleIndex, dx, dy, event) {\n    this._dragging = true; // For mobile device, prevent screen slider on the button.\n\n    eventTool.stop(event.event); // Transform dx, dy to bar coordination.\n\n    var barTransform = this._displayables.sliderGroup.getLocalTransform();\n\n    var vertex = graphic.applyTransform([dx, dy], barTransform, true);\n\n    var changed = this._updateInterval(handleIndex, vertex[0]);\n\n    var realtime = this.dataZoomModel.get('realtime');\n\n    this._updateView(!realtime); // Avoid dispatch dataZoom repeatly but range not changed,\n    // which cause bad visual effect when progressive enabled.\n\n\n    changed && realtime && this._dispatchZoomAction(true);\n  };\n\n  SliderZoomView.prototype._onDragEnd = function () {\n    this._dragging = false;\n\n    this._showDataInfo(false); // While in realtime mode and stream mode, dispatch action when\n    // drag end will cause the whole view rerender, which is unnecessary.\n\n\n    var realtime = this.dataZoomModel.get('realtime');\n    !realtime && this._dispatchZoomAction(false);\n  };\n\n  SliderZoomView.prototype._onClickPanel = function (e) {\n    var size = this._size;\n\n    var localPoint = this._displayables.sliderGroup.transformCoordToLocal(e.offsetX, e.offsetY);\n\n    if (localPoint[0] < 0 || localPoint[0] > size[0] || localPoint[1] < 0 || localPoint[1] > size[1]) {\n      return;\n    }\n\n    var handleEnds = this._handleEnds;\n    var center = (handleEnds[0] + handleEnds[1]) / 2;\n\n    var changed = this._updateInterval('all', localPoint[0] - center);\n\n    this._updateView();\n\n    changed && this._dispatchZoomAction(false);\n  };\n\n  SliderZoomView.prototype._onBrushStart = function (e) {\n    var x = e.offsetX;\n    var y = e.offsetY;\n    this._brushStart = new graphic.Point(x, y);\n    this._brushing = true;\n    this._brushStartTime = +new Date(); // this._updateBrushRect(x, y);\n  };\n\n  SliderZoomView.prototype._onBrushEnd = function (e) {\n    if (!this._brushing) {\n      return;\n    }\n\n    var brushRect = this._displayables.brushRect;\n    this._brushing = false;\n\n    if (!brushRect) {\n      return;\n    }\n\n    brushRect.attr('ignore', true);\n    var brushShape = brushRect.shape;\n    var brushEndTime = +new Date(); // console.log(brushEndTime - this._brushStartTime);\n\n    if (brushEndTime - this._brushStartTime < 200 && Math.abs(brushShape.width) < 5) {\n      // Will treat it as a click\n      return;\n    }\n\n    var viewExtend = this._getViewExtent();\n\n    var percentExtent = [0, 100];\n    this._range = asc([linearMap(brushShape.x, viewExtend, percentExtent, true), linearMap(brushShape.x + brushShape.width, viewExtend, percentExtent, true)]);\n    this._handleEnds = [brushShape.x, brushShape.x + brushShape.width];\n\n    this._updateView();\n\n    this._dispatchZoomAction(false);\n  };\n\n  SliderZoomView.prototype._onBrush = function (e) {\n    if (this._brushing) {\n      // For mobile device, prevent screen slider on the button.\n      eventTool.stop(e.event);\n\n      this._updateBrushRect(e.offsetX, e.offsetY);\n    }\n  };\n\n  SliderZoomView.prototype._updateBrushRect = function (mouseX, mouseY) {\n    var displayables = this._displayables;\n    var dataZoomModel = this.dataZoomModel;\n    var brushRect = displayables.brushRect;\n\n    if (!brushRect) {\n      brushRect = displayables.brushRect = new Rect({\n        silent: true,\n        style: dataZoomModel.getModel('brushStyle').getItemStyle()\n      });\n      displayables.sliderGroup.add(brushRect);\n    }\n\n    brushRect.attr('ignore', false);\n    var brushStart = this._brushStart;\n    var sliderGroup = this._displayables.sliderGroup;\n    var endPoint = sliderGroup.transformCoordToLocal(mouseX, mouseY);\n    var startPoint = sliderGroup.transformCoordToLocal(brushStart.x, brushStart.y);\n    var size = this._size;\n    endPoint[0] = Math.max(Math.min(size[0], endPoint[0]), 0);\n    brushRect.setShape({\n      x: startPoint[0],\n      y: 0,\n      width: endPoint[0] - startPoint[0],\n      height: size[1]\n    });\n  };\n  /**\n   * This action will be throttled.\n   */\n\n\n  SliderZoomView.prototype._dispatchZoomAction = function (realtime) {\n    var range = this._range;\n    this.api.dispatchAction({\n      type: 'dataZoom',\n      from: this.uid,\n      dataZoomId: this.dataZoomModel.id,\n      animation: realtime ? REALTIME_ANIMATION_CONFIG : null,\n      start: range[0],\n      end: range[1]\n    });\n  };\n\n  SliderZoomView.prototype._findCoordRect = function () {\n    // Find the grid coresponding to the first axis referred by dataZoom.\n    var rect;\n    var coordSysInfoList = collectReferCoordSysModelInfo(this.dataZoomModel).infoList;\n\n    if (!rect && coordSysInfoList.length) {\n      var coordSys = coordSysInfoList[0].model.coordinateSystem;\n      rect = coordSys.getRect && coordSys.getRect();\n    }\n\n    if (!rect) {\n      var width = this.api.getWidth();\n      var height = this.api.getHeight();\n      rect = {\n        x: width * 0.2,\n        y: height * 0.2,\n        width: width * 0.6,\n        height: height * 0.6\n      };\n    }\n\n    return rect;\n  };\n\n  SliderZoomView.type = 'dataZoom.slider';\n  return SliderZoomView;\n}(DataZoomView);\n\nfunction getOtherDim(thisDim) {\n  // FIXME\n  // 这个逻辑和getOtherAxis里一致，但是写在这里是否不好\n  var map = {\n    x: 'y',\n    y: 'x',\n    radius: 'angle',\n    angle: 'radius'\n  };\n  return map[thisDim];\n}\n\nfunction getCursor(orient) {\n  return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\n\nexport default SliderZoomView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport SliderZoomModel from './SliderZoomModel';\nimport SliderZoomView from './SliderZoomView';\nimport installCommon from './installCommon';\nexport function install(registers) {\n  registers.registerComponentModel(SliderZoomModel);\n  registers.registerComponentView(SliderZoomView);\n  installCommon(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension';\nimport { install as installDataZoomInside } from './installDataZoomInside';\nimport { install as installDataZoomSlider } from './installDataZoomSlider';\nexport function install(registers) {\n  use(installDataZoomInside);\n  use(installDataZoomSlider); // Do not install './dataZoomSelect',\n  // since it only work for toolbox dataZoom.\n}","import { render } from \"./Statistics.vue?vue&type=template&id=189268b5&scoped=true\"\nimport script from \"./Statistics.vue?vue&type=script&lang=js\"\nexport * from \"./Statistics.vue?vue&type=script&lang=js\"\n\nimport \"./Statistics.vue?vue&type=style&index=0&id=189268b5&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-189268b5\"\n\nexport default script","var toObject = require('../internals/to-object');\n\nvar floor = Math.floor;\nvar replace = ''.replace;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d{1,2})/g;\n\n// `GetSubstitution` abstract operation\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace.call(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (ch.charAt(0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return str.slice(0, position);\n      case \"'\": return str.slice(tailPos);\n      case '<':\n        capture = namedCaptures[ch.slice(1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n","var fails = require('./fails');\n\nmodule.exports = fails(function () {\n  // babel-minify transpiles RegExp('.', 'g') -> /./g and it causes SyntaxError\n  var re = RegExp('(?<a>b)', (typeof '').charAt(5));\n  return re.exec('b').groups.a !== 'b' ||\n    'b'.replace(re, '$<a>c') !== 'bc';\n});\n","'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\nmodule.exports = function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.es/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.es/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar fails = require('../internals/fails');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar getSubstitution = require('../internals/get-substitution');\nvar regExpExec = require('../internals/regexp-exec-abstract');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar REPLACE = wellKnownSymbol('replace');\nvar max = Math.max;\nvar min = Math.min;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  // eslint-disable-next-line regexp/prefer-escape-replacement-dollar-char -- required for testing\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', function (_, nativeReplace, maybeCallNative) {\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (string, replaceValue) {\n      if (\n        typeof replaceValue === 'string' &&\n        replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1 &&\n        replaceValue.indexOf('$<') === -1\n      ) {\n        var res = maybeCallNative(nativeReplace, this, string, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(this);\n      var S = String(string);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n}, !REPLACE_SUPPORTS_NAMED_GROUPS || !REPLACE_KEEPS_$0 || REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Statistics.vue?vue&type=style&index=0&id=189268b5&scoped=true&lang=scss\"","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.es/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","'use strict';\n/* eslint-disable regexp/no-assertion-capturing-group, regexp/no-empty-group, regexp/no-lazy-ends -- testing */\n/* eslint-disable regexp/no-useless-quantifier -- testing */\nvar regexpFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar shared = require('../internals/shared');\nvar create = require('../internals/object-create');\nvar getInternalState = require('../internals/internal-state').get;\nvar UNSUPPORTED_DOT_ALL = require('../internals/regexp-unsupported-dot-all');\nvar UNSUPPORTED_NCG = require('../internals/regexp-unsupported-ncg');\n\nvar nativeExec = RegExp.prototype.exec;\nvar nativeReplace = shared('native-string-replace', String.prototype.replace);\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG;\n\nif (PATCH) {\n  // eslint-disable-next-line max-statements -- TODO\n  patchedExec = function exec(str) {\n    var re = this;\n    var state = getInternalState(re);\n    var raw = state.raw;\n    var result, reCopy, lastIndex, match, i, object, group;\n\n    if (raw) {\n      raw.lastIndex = re.lastIndex;\n      result = patchedExec.call(raw, str);\n      re.lastIndex = raw.lastIndex;\n      return result;\n    }\n\n    var groups = state.groups;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    if (match && groups) {\n      match.groups = object = create(null);\n      for (i = 0; i < groups.length; i++) {\n        group = groups[i];\n        object[group[0]] = match[group[1]];\n      }\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","var fails = require('../internals/fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\nvar RE = function (s, f) {\n  return RegExp(s, f);\n};\n\nexports.UNSUPPORTED_Y = fails(function () {\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n// `RegExp.prototype.exec` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.exec\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = String(data[index]);\n      s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\nvar RegExpPrototype = RegExp.prototype;\n\nmodule.exports = function (KEY, exec, FORCED, SHAM) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    FORCED\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      var $exec = regexp.exec;\n      if ($exec === regexpExec || $exec === RegExpPrototype.exec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    });\n\n    redefine(String.prototype, KEY, methods[0]);\n    redefine(RegExpPrototype, SYMBOL, methods[1]);\n  }\n\n  if (SHAM) createNonEnumerableProperty(RegExpPrototype[SYMBOL], 'sham', true);\n};\n","var fails = require('./fails');\n\nmodule.exports = fails(function () {\n  // babel-minify transpiles RegExp('.', 's') -> /./s and it causes SyntaxError\n  var re = RegExp('.', (typeof '').charAt(0));\n  return !(re.dotAll && re.exec('\\n') && re.flags === 's');\n});\n"],"sourceRoot":""}