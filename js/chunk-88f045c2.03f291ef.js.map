{"version":3,"sources":["webpack:///./src/components/Statistics.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/echarts/lib/chart/pie/pieLayout.js","webpack:///./node_modules/echarts/lib/processor/dataFilter.js","webpack:///./node_modules/echarts/lib/chart/pie/labelLayout.js","webpack:///./node_modules/echarts/lib/chart/helper/pieHelper.js","webpack:///./node_modules/echarts/lib/chart/pie/PieView.js","webpack:///./node_modules/echarts/lib/chart/helper/createListSimply.js","webpack:///./node_modules/echarts/lib/visual/LegendVisualProvider.js","webpack:///./node_modules/echarts/lib/chart/pie/PieSeries.js","webpack:///./node_modules/echarts/lib/chart/pie/install.js","webpack:///./node_modules/echarts/lib/component/title/install.js","webpack:///./node_modules/echarts/lib/component/legend/LegendModel.js","webpack:///./node_modules/echarts/lib/component/helper/listComponent.js","webpack:///./node_modules/echarts/lib/component/legend/LegendView.js","webpack:///./node_modules/echarts/lib/component/legend/legendFilter.js","webpack:///./node_modules/echarts/lib/component/legend/legendAction.js","webpack:///./node_modules/echarts/lib/component/legend/installLegendPlain.js","webpack:///./node_modules/echarts/lib/component/legend/ScrollableLegendModel.js","webpack:///./node_modules/echarts/lib/component/legend/ScrollableLegendView.js","webpack:///./node_modules/echarts/lib/component/legend/scrollableLegendAction.js","webpack:///./node_modules/echarts/lib/component/legend/installLegendScroll.js","webpack:///./node_modules/echarts/lib/component/legend/install.js","webpack:///./src/components/Statistics.vue?2719","webpack:///./src/components/Statistics.vue?ac07"],"names":["class","option","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","PI2","Math","PI","RADIAN","getViewRect","seriesModel","api","getBoxLayoutParams","width","getWidth","height","getHeight","pieLayout","seriesType","ecModel","eachSeriesByType","data","getData","valueDim","mapDimension","viewRect","center","get","radius","size","min","cx","x","cy","y","r0","r","startAngle","minAngle","validDataCount","each","isNaN","sum","getSum","unitRadian","clockwise","roseType","stillShowZeroSum","extent","getDataExtent","restAngle","valueSumLargerThanMinAngle","currentAngle","dir","setLayout","idx","angle","setItemLayout","NaN","endAngle","angle_1","layout_1","getItemLayout","layout_2","dataFilter","reset","legendModels","findComponents","mainType","length","filterSelf","name","getName","i","isSelected","adjustSingleSide","list","viewWidth","viewHeight","viewLeft","viewTop","farthestX","len","position","labelAlignTo","dx","label","linePoints","recalculateX","recalculateXOnSemiToAlignOnEllipseCurve","semi","rB","rB2","item","dy","abs","rA","rA2","sqrt","len2","items","topSemi","maxY","bottomSemi","push","avoidOverlap","labelLayoutList","leftList","rightList","leftmostX","Number","MAX_VALUE","rightmostX","isPositionCenter","max","layout","isAlignToEdge","realTextWidth","rect","targetTextWidth","labelDistance","edgeDistance","bleedMargin","style","dist","sectorShape","pieLabelLayout","hasLabelRotate","minShowLabelRadian","getLayout","setNotShow","el","ignore","isLabelShown","states","sector","getItemGraphicEl","shape","getTextContent","labelLine","getTextGuideLine","itemModel","getItemModel","labelModel","getModel","labelPosition","labelLineModel","labelLineLen","labelLineLen2","textX","textY","textAlign","midAngle","nx","cos","ny","sin","labelRotate","isLabelInside","x1","y1","x2","y2","x3","y3","rotate","rotation","setStyle","verticalAlign","align","selectState","select","textRect","getBoundingRect","clone","applyTransform","getComputedTransform","margin","minTurnAngle","maxSurfaceAngle","surfaceNormal","Point","setTextConfig","inside","notShowLabel","setShape","points","__hostTarget","textGuideLineConfig","anchor","getSectorCornerRadius","model","cornerRadius","innerCornerRadius","_super","PiePiece","_this","call","this","z2","text","setTextContent","updateData","prototype","firstCreate","hostModel","emphasisModel","animationType","getShallow","graphic","useStyle","getItemVisual","offset","cursorStyle","attr","_updateLabel","ensureState","labelText","visualColor","fill","visualOpacity","opacity","labelFetcher","labelDataIndex","inheritColor","defaultOpacity","defaultText","getFormattedLabel","removeTextGuideLine","polyline","setTextGuideLine","stroke","PieView","apply","arguments","ignoreLabelLineUpdate","init","sectorGroup","_sectorGroup","render","payload","oldData","_data","group","count","s","diff","add","piePiece","setItemGraphicEl","update","newIdx","oldIdx","off","remove","execute","dispose","containPoint","point","itemLayout","type","Chart","createListSimply","opt","nameList","coordDimensions","source","getSource","dimensionsInfo","createDimensions","List","initData","LegendVisualProvider","getDataWithEncodedVisual","getRawData","_getDataWithEncodedVisual","_getRawData","getAllNames","rawData","mapArray","containName","indexOfName","dataWithEncodedVisual","dataIndex","PieSeriesModel","useColorPaletteOnData","legendVisualProvider","_defaultLabelLine","mergeOption","getInitialData","encodeDefaulter","getDataParams","params","valueList","percent","$vars","labelLineNormalOpt","labelLineEmphasisOpt","emphasis","show","defaultOption","zlevel","z","legendHoverLink","minShowLabelAngle","selectedOffset","percentPrecision","left","top","right","bottom","overflow","alignTo","distanceToLabelLine","length2","smooth","lineStyle","itemStyle","borderWidth","labelLayout","hideOverlap","scale","scaleSize","avoidLabelOverlap","animationDuration","animationTypeUpdate","animationEasingUpdate","animationDurationUpdate","animationEasing","Series","PieSeries","install","registers","registerChartView","registerSeriesModel","registerAction","registerLayout","registerProcessor","TitleModel","layoutMode","ignoreSize","target","subtext","subtarget","backgroundColor","borderColor","padding","itemGap","textStyle","fontSize","fontWeight","color","subtextStyle","Component","TitleView","titleModel","removeAll","textStyleModel","subtextStyleModel","textVerticalAlign","textEl","getTextColor","disableBox","subText","subTextEl","link","sublink","triggerEvent","silent","on","eventData","componentType","componentIndex","groupRect","layoutOption","layoutRect","markRedraw","alignStyle","getItemStyle","subPixelOptimize","registerComponentModel","registerComponentView","getDefaultSelectorOptions","title","getLocale","LegendModel","parentModel","mergeDefaultAndTheme","selected","_updateSelector","selector","index","optionUpdated","_updateData","legendData","hasSelected","name_1","potentialData","availableNames","eachRawSeries","isPotential","seriesName","provider","names","isSeriesFiltered","concat","_availableNames","dataItem","Model","selectedMode","unSelect","toggleSelected","hasOwnProperty","allSelect","inverseSelect","getOrient","dependencies","orient","borderRadius","itemWidth","itemHeight","symbolRotate","inactiveColor","inactiveBorderColor","inactiveBorderWidth","decal","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","borderCap","borderJoin","borderDashOffset","borderMiterLimit","inactiveWidth","cap","join","dashOffset","miterLimit","selectorLabel","fontFamily","selectorPosition","selectorItemGap","selectorButtonGap","tooltip","makeBackground","componentModel","format","curry","LegendView","newlineDisabled","_contentGroup","_selectorGroup","_isFirstRender","getContentGroup","getSelectorGroup","legendModel","isFirstRender","resetInner","itemAlign","renderInner","positionInfo","viewportSize","maxSize","mainRect","layoutInner","_backgroundEl","contentGroup","legendDrawnMap","selectMode","excludeSeriesId","id","legendItemModel","g","newline","getSeriesByName","lineVisualStyle","getVisual","legendIcon","itemGroup","_createItem","dispatchSelectAction","dispatchHighlightAction","dispatchDownplayAction","set","colorArr","_createSelector","selectorGroup","selectorItem","onclick","dispatchAction","emphasisLabelModel","normal","itemVisualStyle","drawType","visualDrawType","iconRotate","legendIconType","legendLineStyle","getLegendStyle","getLegendIcon","getDefaultLegendIcon","icon","formatter","content","replace","hitRect","invisible","tooltipModel","itemName","itemTooltipOption","eachChild","child","__legendDataIndex","contentRect","contentPos","selectorRect","selectorPos","orientIdx","wh","hw","yx","iconType","itemProperties","propName","visualName","lastIndexOf","lineWidth","legendLineModel","lineProperties","visualHasBorder","indexOf","symboType","setOrigin","dataName","isUseHoverLayer","emphasisState","getZr","storage","getDisplayList","hoverLayer","legendFilter","filterSeries","series","legendSelectActionHandler","methodName","selectedMap","isToggleSelect","eachComponent","isItemSelected","installLegendAction","PRIORITY","PROCESSOR","SERIES_FILTER","registerSubTypeDefaulter","ScrollableLegendModel","setScrollDataIndex","scrollDataIndex","inputPositionParams","mergeAndNormalizeLayoutParams","pageButtonItemGap","pageButtonGap","pageButtonPosition","pageFormatter","pageIcons","horizontal","vertical","pageIconColor","pageIconInactiveColor","pageIconSize","pageTextStyle","raw","WH","XY","ScrollableLegendView","_currentIndex","_containerGroup","_controllerGroup","removeClipPath","__rectSize","self","controllerGroup","pageIconSizeArr","createPageButton","pageTextStyleModel","iconIdx","pageDataIndexName","_pageGo","font","getFont","xy","processMaxSize","_layoutContentAndController","containerGroup","controllerRect","showController","_showController","containerPos","controllerPos","setPosition","clipShape","setClipPath","pageInfo","_getPageInfo","pageIndex","contentPosition","_updatePageInfoView","to","legendId","canJump","childOfName","cursor","pageText","current","total","pageCount","containerRectSize","targetItemIndex","_findTargetItemIndex","children","targetItem","itemCount","pCount","result","pagePrevDataIndex","pageNextDataIndex","targetItemInfo","getItemInfo","winStartItemInfo","winEndItemInfo","currItemInfo","e","intersect","itemRect","start","itemInfo","winStart","targetDataIndex","defaultIndex","legendDataIdx","installScrollableLegendAction","subType","query","components","VChart","provide","setup","props","context","trigger","legend","toolbox","feature","mark","dataView","readOnly","restore","saveAsImage","__scopeId"],"mappings":"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","file":"js/chunk-88f045c2.03f291ef.js","sourcesContent":["<template>\n  <v-chart class=\"chart flex-rCenter\" :option=\"option\" />\n</template>\n\n<script>\nimport { use } from \"echarts/core\";\nimport { CanvasRenderer } from \"echarts/renderers\";\nimport { PieChart } from \"echarts/charts\";\nimport {\n  TitleComponent,\n  TooltipComponent,\n  LegendComponent\n} from \"echarts/components\";\nimport VChart, { THEME_KEY } from \"vue-echarts\";\nimport {ref, defineComponent, onBeforeMount, inject } from \"vue\";\n\nuse([\n  CanvasRenderer,\n  PieChart,\n  TitleComponent,\n  TooltipComponent,\n  LegendComponent\n]);\n\nexport default defineComponent({\n  name: \"Statistics\",\n  components: {\n    VChart\n  },\n  provide: {\n    [THEME_KEY]: \"light\"\n  },\n  setup (props, context) {\n    const axios = inject('axios');\n    const option = ref({\n      title: {\n        text: '',\n        subtext: 'AeXiaohu',\n        left: 'center'\n      },\n      tooltip: {\n        trigger: 'item'\n      },\n      legend: {\n        top: 'bottom'\n      },\n      toolbox: {\n        show: true,\n        feature: {\n          mark: {show: true},\n          dataView: {show: true, readOnly: false},\n          restore: {show: true},\n          saveAsImage: {show: true}\n        }\n      },\n      series: [\n        {\n          name: '',\n          type: 'pie',\n          radius: [50, 250],\n          center: ['50%', '50%'],\n          roseType: 'area',\n          itemStyle: {\n            borderRadius: 8\n          },\n          data: [\n            {value: 1000, name: ' 1'},\n            {value: 1520, name: ' 2'},\n            {value: 1352, name: ' 3'},\n            {value: 1785, name: ' 4'},\n            {value: 854, name: ' 5'},\n            {value: 1100, name: ' 6'},\n            {value: 1235, name: ' 7'},\n            {value: 950, name: ' 8'}\n          ]\n        }\n      ]\n    });\n    // onBeforeMount(()=>{\n    //   (async()=>await axios({\n    //     method: 'get',\n    //     url: '/statis',\n    //     data: {\n    //       auth: 'xiaohu'\n    //     },\n    //   }).then(res=>{\n    //     for(let v of res.data){\n    //       let entry = {\n    //         value: v.score,\n    //         name: v.username\n    //       }\n    //       option.value.series[0].data.push(entry);\n    //     }\n    //   }))();\n    // });\n    return { option };\n  }\n});\n</script>\n\n<style scoped lang=\"scss\">\n.chart {\n  height: 40rem;\n  & > div{\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n  }\n}\n</style>\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { parsePercent, linearMap } from '../../util/number';\nimport * as layout from '../../util/layout';\nimport * as zrUtil from 'zrender/lib/core/util';\nvar PI2 = Math.PI * 2;\nvar RADIAN = Math.PI / 180;\n\nfunction getViewRect(seriesModel, api) {\n  return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n\nexport default function pieLayout(seriesType, ecModel, api) {\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var viewRect = getViewRect(seriesModel, api);\n    var center = seriesModel.get('center');\n    var radius = seriesModel.get('radius');\n\n    if (!zrUtil.isArray(radius)) {\n      radius = [0, radius];\n    }\n\n    if (!zrUtil.isArray(center)) {\n      center = [center, center];\n    }\n\n    var width = parsePercent(viewRect.width, api.getWidth());\n    var height = parsePercent(viewRect.height, api.getHeight());\n    var size = Math.min(width, height);\n    var cx = parsePercent(center[0], width) + viewRect.x;\n    var cy = parsePercent(center[1], height) + viewRect.y;\n    var r0 = parsePercent(radius[0], size / 2);\n    var r = parsePercent(radius[1], size / 2);\n    var startAngle = -seriesModel.get('startAngle') * RADIAN;\n    var minAngle = seriesModel.get('minAngle') * RADIAN;\n    var validDataCount = 0;\n    data.each(valueDim, function (value) {\n      !isNaN(value) && validDataCount++;\n    });\n    var sum = data.getSum(valueDim); // Sum may be 0\n\n    var unitRadian = Math.PI / (sum || validDataCount) * 2;\n    var clockwise = seriesModel.get('clockwise');\n    var roseType = seriesModel.get('roseType');\n    var stillShowZeroSum = seriesModel.get('stillShowZeroSum'); // [0...max]\n\n    var extent = data.getDataExtent(valueDim);\n    extent[0] = 0; // In the case some sector angle is smaller than minAngle\n\n    var restAngle = PI2;\n    var valueSumLargerThanMinAngle = 0;\n    var currentAngle = startAngle;\n    var dir = clockwise ? 1 : -1;\n    data.setLayout({\n      viewRect: viewRect,\n      r: r\n    });\n    data.each(valueDim, function (value, idx) {\n      var angle;\n\n      if (isNaN(value)) {\n        data.setItemLayout(idx, {\n          angle: NaN,\n          startAngle: NaN,\n          endAngle: NaN,\n          clockwise: clockwise,\n          cx: cx,\n          cy: cy,\n          r0: r0,\n          r: roseType ? NaN : r\n        });\n        return;\n      } // FIXME  2.0  roseType  area \n\n\n      if (roseType !== 'area') {\n        angle = sum === 0 && stillShowZeroSum ? unitRadian : value * unitRadian;\n      } else {\n        angle = PI2 / validDataCount;\n      }\n\n      if (angle < minAngle) {\n        angle = minAngle;\n        restAngle -= minAngle;\n      } else {\n        valueSumLargerThanMinAngle += value;\n      }\n\n      var endAngle = currentAngle + dir * angle;\n      data.setItemLayout(idx, {\n        angle: angle,\n        startAngle: currentAngle,\n        endAngle: endAngle,\n        clockwise: clockwise,\n        cx: cx,\n        cy: cy,\n        r0: r0,\n        r: roseType ? linearMap(value, extent, [r0, r]) : r\n      });\n      currentAngle = endAngle;\n    }); // Some sector is constrained by minAngle\n    // Rest sectors needs recalculate angle\n\n    if (restAngle < PI2 && validDataCount) {\n      // Average the angle if rest angle is not enough after all angles is\n      // Constrained by minAngle\n      if (restAngle <= 1e-3) {\n        var angle_1 = PI2 / validDataCount;\n        data.each(valueDim, function (value, idx) {\n          if (!isNaN(value)) {\n            var layout_1 = data.getItemLayout(idx);\n            layout_1.angle = angle_1;\n            layout_1.startAngle = startAngle + dir * idx * angle_1;\n            layout_1.endAngle = startAngle + dir * (idx + 1) * angle_1;\n          }\n        });\n      } else {\n        unitRadian = restAngle / valueSumLargerThanMinAngle;\n        currentAngle = startAngle;\n        data.each(valueDim, function (value, idx) {\n          if (!isNaN(value)) {\n            var layout_2 = data.getItemLayout(idx);\n            var angle = layout_2.angle === minAngle ? minAngle : value * unitRadian;\n            layout_2.startAngle = currentAngle;\n            layout_2.endAngle = currentAngle + dir * angle;\n            currentAngle += dir * angle;\n          }\n        });\n      }\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function dataFilter(seriesType) {\n  return {\n    seriesType: seriesType,\n    reset: function (seriesModel, ecModel) {\n      var legendModels = ecModel.findComponents({\n        mainType: 'legend'\n      });\n\n      if (!legendModels || !legendModels.length) {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      data.filterSelf(function (idx) {\n        var name = data.getName(idx); // If in any legend component the status is not selected.\n\n        for (var i = 0; i < legendModels.length; i++) {\n          // @ts-ignore FIXME: LegendModel\n          if (!legendModels[i].isSelected(name)) {\n            return false;\n          }\n        }\n\n        return true;\n      });\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME emphasis label position is not same with normal label position\nimport { parsePercent } from '../../util/number';\nimport { Point } from '../../util/graphic';\nimport { each } from 'zrender/lib/core/util';\nimport { limitTurnAngle, limitSurfaceAngle } from '../../label/labelGuideHelper';\nimport { shiftLayoutOnY } from '../../label/labelLayoutHelper';\nvar RADIAN = Math.PI / 180;\n\nfunction adjustSingleSide(list, cx, cy, r, dir, viewWidth, viewHeight, viewLeft, viewTop, farthestX) {\n  if (list.length < 2) {\n    return;\n  }\n\n  ;\n\n  function recalculateXOnSemiToAlignOnEllipseCurve(semi) {\n    var rB = semi.rB;\n    var rB2 = rB * rB;\n\n    for (var i = 0; i < semi.list.length; i++) {\n      var item = semi.list[i];\n      var dy = Math.abs(item.label.y - cy); // horizontal r is always same with original r because x is not changed.\n\n      var rA = r + item.len;\n      var rA2 = rA * rA; // Use ellipse implicit function to calculate x\n\n      var dx = Math.sqrt((1 - Math.abs(dy * dy / rB2)) * rA2);\n      item.label.x = cx + (dx + item.len2) * dir;\n    }\n  } // Adjust X based on the shifted y. Make tight labels aligned on an ellipse curve.\n\n\n  function recalculateX(items) {\n    // Extremes of\n    var topSemi = {\n      list: [],\n      maxY: 0\n    };\n    var bottomSemi = {\n      list: [],\n      maxY: 0\n    };\n\n    for (var i = 0; i < items.length; i++) {\n      if (items[i].labelAlignTo !== 'none') {\n        continue;\n      }\n\n      var item = items[i];\n      var semi = item.label.y > cy ? bottomSemi : topSemi;\n      var dy = Math.abs(item.label.y - cy);\n\n      if (dy > semi.maxY) {\n        var dx = item.label.x - cx - item.len2 * dir; // horizontal r is always same with original r because x is not changed.\n\n        var rA = r + item.len; // Canculate rB based on the topest / bottemest label.\n\n        var rB = Math.abs(dx) < rA ? Math.sqrt(dy * dy / (1 - dx * dx / rA / rA)) : rA;\n        semi.rB = rB;\n        semi.maxY = dy;\n      }\n\n      semi.list.push(item);\n    }\n\n    recalculateXOnSemiToAlignOnEllipseCurve(topSemi);\n    recalculateXOnSemiToAlignOnEllipseCurve(bottomSemi);\n  }\n\n  var len = list.length;\n\n  for (var i = 0; i < len; i++) {\n    if (list[i].position === 'outer' && list[i].labelAlignTo === 'labelLine') {\n      var dx = list[i].label.x - farthestX;\n      list[i].linePoints[1][0] += dx;\n      list[i].label.x = farthestX;\n    }\n  }\n\n  if (shiftLayoutOnY(list, viewTop, viewTop + viewHeight)) {\n    recalculateX(list);\n  }\n}\n\nfunction avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight, viewLeft, viewTop) {\n  var leftList = [];\n  var rightList = [];\n  var leftmostX = Number.MAX_VALUE;\n  var rightmostX = -Number.MAX_VALUE;\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    var label = labelLayoutList[i].label;\n\n    if (isPositionCenter(labelLayoutList[i])) {\n      continue;\n    }\n\n    if (label.x < cx) {\n      leftmostX = Math.min(leftmostX, label.x);\n      leftList.push(labelLayoutList[i]);\n    } else {\n      rightmostX = Math.max(rightmostX, label.x);\n      rightList.push(labelLayoutList[i]);\n    }\n  }\n\n  adjustSingleSide(rightList, cx, cy, r, 1, viewWidth, viewHeight, viewLeft, viewTop, rightmostX);\n  adjustSingleSide(leftList, cx, cy, r, -1, viewWidth, viewHeight, viewLeft, viewTop, leftmostX);\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    var layout = labelLayoutList[i];\n    var label = layout.label;\n\n    if (isPositionCenter(layout)) {\n      continue;\n    }\n\n    var linePoints = layout.linePoints;\n\n    if (linePoints) {\n      var isAlignToEdge = layout.labelAlignTo === 'edge';\n      var realTextWidth = layout.rect.width;\n      var targetTextWidth = void 0;\n\n      if (isAlignToEdge) {\n        if (label.x < cx) {\n          targetTextWidth = linePoints[2][0] - layout.labelDistance - viewLeft - layout.edgeDistance;\n        } else {\n          targetTextWidth = viewLeft + viewWidth - layout.edgeDistance - linePoints[2][0] - layout.labelDistance;\n        }\n      } else {\n        if (label.x < cx) {\n          targetTextWidth = label.x - viewLeft - layout.bleedMargin;\n        } else {\n          targetTextWidth = viewLeft + viewWidth - label.x - layout.bleedMargin;\n        }\n      }\n\n      if (targetTextWidth < layout.rect.width) {\n        // TODOTODO\n        // layout.text = textContain.truncateText(layout.text, targetTextWidth, layout.font);\n        layout.label.style.width = targetTextWidth;\n\n        if (layout.labelAlignTo === 'edge') {\n          realTextWidth = targetTextWidth; // realTextWidth = textContain.getWidth(layout.text, layout.font);\n        }\n      }\n\n      var dist = linePoints[1][0] - linePoints[2][0];\n\n      if (isAlignToEdge) {\n        if (label.x < cx) {\n          linePoints[2][0] = viewLeft + layout.edgeDistance + realTextWidth + layout.labelDistance;\n        } else {\n          linePoints[2][0] = viewLeft + viewWidth - layout.edgeDistance - realTextWidth - layout.labelDistance;\n        }\n      } else {\n        if (label.x < cx) {\n          linePoints[2][0] = label.x + layout.labelDistance;\n        } else {\n          linePoints[2][0] = label.x - layout.labelDistance;\n        }\n\n        linePoints[1][0] = linePoints[2][0] + dist;\n      }\n\n      linePoints[1][1] = linePoints[2][1] = label.y;\n    }\n  }\n}\n\nfunction isPositionCenter(sectorShape) {\n  // Not change x for center label\n  return sectorShape.position === 'center';\n}\n\nexport default function pieLabelLayout(seriesModel) {\n  var data = seriesModel.getData();\n  var labelLayoutList = [];\n  var cx;\n  var cy;\n  var hasLabelRotate = false;\n  var minShowLabelRadian = (seriesModel.get('minShowLabelAngle') || 0) * RADIAN;\n  var viewRect = data.getLayout('viewRect');\n  var r = data.getLayout('r');\n  var viewWidth = viewRect.width;\n  var viewLeft = viewRect.x;\n  var viewTop = viewRect.y;\n  var viewHeight = viewRect.height;\n\n  function setNotShow(el) {\n    el.ignore = true;\n  }\n\n  function isLabelShown(label) {\n    if (!label.ignore) {\n      return true;\n    }\n\n    for (var key in label.states) {\n      if (label.states[key].ignore === false) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  data.each(function (idx) {\n    var sector = data.getItemGraphicEl(idx);\n    var sectorShape = sector.shape;\n    var label = sector.getTextContent();\n    var labelLine = sector.getTextGuideLine();\n    var itemModel = data.getItemModel(idx);\n    var labelModel = itemModel.getModel('label'); // Use position in normal or emphasis\n\n    var labelPosition = labelModel.get('position') || itemModel.get(['emphasis', 'label', 'position']);\n    var labelDistance = labelModel.get('distanceToLabelLine');\n    var labelAlignTo = labelModel.get('alignTo');\n    var edgeDistance = parsePercent(labelModel.get('edgeDistance'), viewWidth);\n    var bleedMargin = labelModel.get('bleedMargin');\n    var labelLineModel = itemModel.getModel('labelLine');\n    var labelLineLen = labelLineModel.get('length');\n    labelLineLen = parsePercent(labelLineLen, viewWidth);\n    var labelLineLen2 = labelLineModel.get('length2');\n    labelLineLen2 = parsePercent(labelLineLen2, viewWidth);\n\n    if (Math.abs(sectorShape.endAngle - sectorShape.startAngle) < minShowLabelRadian) {\n      each(label.states, setNotShow);\n      label.ignore = true;\n      return;\n    }\n\n    if (!isLabelShown(label)) {\n      return;\n    }\n\n    var midAngle = (sectorShape.startAngle + sectorShape.endAngle) / 2;\n    var nx = Math.cos(midAngle);\n    var ny = Math.sin(midAngle);\n    var textX;\n    var textY;\n    var linePoints;\n    var textAlign;\n    cx = sectorShape.cx;\n    cy = sectorShape.cy;\n    var isLabelInside = labelPosition === 'inside' || labelPosition === 'inner';\n\n    if (labelPosition === 'center') {\n      textX = sectorShape.cx;\n      textY = sectorShape.cy;\n      textAlign = 'center';\n    } else {\n      var x1 = (isLabelInside ? (sectorShape.r + sectorShape.r0) / 2 * nx : sectorShape.r * nx) + cx;\n      var y1 = (isLabelInside ? (sectorShape.r + sectorShape.r0) / 2 * ny : sectorShape.r * ny) + cy;\n      textX = x1 + nx * 3;\n      textY = y1 + ny * 3;\n\n      if (!isLabelInside) {\n        // For roseType\n        var x2 = x1 + nx * (labelLineLen + r - sectorShape.r);\n        var y2 = y1 + ny * (labelLineLen + r - sectorShape.r);\n        var x3 = x2 + (nx < 0 ? -1 : 1) * labelLineLen2;\n        var y3 = y2;\n\n        if (labelAlignTo === 'edge') {\n          // Adjust textX because text align of edge is opposite\n          textX = nx < 0 ? viewLeft + edgeDistance : viewLeft + viewWidth - edgeDistance;\n        } else {\n          textX = x3 + (nx < 0 ? -labelDistance : labelDistance);\n        }\n\n        textY = y3;\n        linePoints = [[x1, y1], [x2, y2], [x3, y3]];\n      }\n\n      textAlign = isLabelInside ? 'center' : labelAlignTo === 'edge' ? nx > 0 ? 'right' : 'left' : nx > 0 ? 'left' : 'right';\n    }\n\n    var labelRotate;\n    var rotate = labelModel.get('rotate');\n\n    if (typeof rotate === 'number') {\n      labelRotate = rotate * (Math.PI / 180);\n    } else {\n      labelRotate = rotate ? nx < 0 ? -midAngle + Math.PI : -midAngle : 0;\n    }\n\n    hasLabelRotate = !!labelRotate;\n    label.x = textX;\n    label.y = textY;\n    label.rotation = labelRotate;\n    label.setStyle({\n      verticalAlign: 'middle'\n    }); // Not sectorShape the inside label\n\n    if (!isLabelInside) {\n      var textRect = label.getBoundingRect().clone();\n      textRect.applyTransform(label.getComputedTransform()); // Text has a default 1px stroke. Exclude this.\n\n      var margin = (label.style.margin || 0) + 2.1;\n      textRect.y -= margin / 2;\n      textRect.height += margin;\n      labelLayoutList.push({\n        label: label,\n        labelLine: labelLine,\n        position: labelPosition,\n        len: labelLineLen,\n        len2: labelLineLen2,\n        minTurnAngle: labelLineModel.get('minTurnAngle'),\n        maxSurfaceAngle: labelLineModel.get('maxSurfaceAngle'),\n        surfaceNormal: new Point(nx, ny),\n        linePoints: linePoints,\n        textAlign: textAlign,\n        labelDistance: labelDistance,\n        labelAlignTo: labelAlignTo,\n        edgeDistance: edgeDistance,\n        bleedMargin: bleedMargin,\n        rect: textRect\n      });\n    } else {\n      label.setStyle({\n        align: textAlign\n      });\n      var selectState = label.states.select;\n\n      if (selectState) {\n        selectState.x += label.x;\n        selectState.y += label.y;\n      }\n    }\n\n    sector.setTextConfig({\n      inside: isLabelInside\n    });\n  });\n\n  if (!hasLabelRotate && seriesModel.get('avoidLabelOverlap')) {\n    avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight, viewLeft, viewTop);\n  }\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    var layout = labelLayoutList[i];\n    var label = layout.label;\n    var labelLine = layout.labelLine;\n    var notShowLabel = isNaN(label.x) || isNaN(label.y);\n\n    if (label) {\n      label.setStyle({\n        align: layout.textAlign\n      });\n\n      if (notShowLabel) {\n        each(label.states, setNotShow);\n        label.ignore = true;\n      }\n\n      var selectState = label.states.select;\n\n      if (selectState) {\n        selectState.x += label.x;\n        selectState.y += label.y;\n      }\n    }\n\n    if (labelLine) {\n      var linePoints = layout.linePoints;\n\n      if (notShowLabel || !linePoints) {\n        each(labelLine.states, setNotShow);\n        labelLine.ignore = true;\n      } else {\n        limitTurnAngle(linePoints, layout.minTurnAngle);\n        limitSurfaceAngle(linePoints, layout.surfaceNormal, layout.maxSurfaceAngle);\n        labelLine.setShape({\n          points: linePoints\n        }); // Set the anchor to the midpoint of sector\n\n        label.__hostTarget.textGuideLineConfig = {\n          anchor: new Point(linePoints[0][0], linePoints[0][1])\n        };\n      }\n    }\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isArray } from 'zrender/lib/core/util';\nimport { parsePercent } from 'zrender/lib/contain/text';\nexport function getSectorCornerRadius(model, shape) {\n  var cornerRadius = model.get('borderRadius');\n\n  if (cornerRadius == null) {\n    return null;\n  }\n\n  if (!isArray(cornerRadius)) {\n    cornerRadius = [cornerRadius, cornerRadius];\n  }\n\n  return {\n    innerCornerRadius: parsePercent(cornerRadius[0], shape.r0),\n    cornerRadius: parsePercent(cornerRadius[1], shape.r)\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __assign, __extends } from \"tslib\";\nimport { extend, retrieve3 } from 'zrender/lib/core/util';\nimport * as graphic from '../../util/graphic';\nimport { setStatesStylesFromModel, enableHoverEmphasis } from '../../util/states';\nimport ChartView from '../../view/Chart';\nimport labelLayout from './labelLayout';\nimport { setLabelLineStyle, getLabelLineStatesModels } from '../../label/labelGuideHelper';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle';\nimport { getSectorCornerRadius } from '../helper/pieHelper';\n/**\n * Piece of pie including Sector, Label, LabelLine\n */\n\nvar PiePiece =\n/** @class */\nfunction (_super) {\n  __extends(PiePiece, _super);\n\n  function PiePiece(data, idx, startAngle) {\n    var _this = _super.call(this) || this;\n\n    _this.z2 = 2;\n    var text = new graphic.Text();\n\n    _this.setTextContent(text);\n\n    _this.updateData(data, idx, startAngle, true);\n\n    return _this;\n  }\n\n  PiePiece.prototype.updateData = function (data, idx, startAngle, firstCreate) {\n    var sector = this;\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var emphasisModel = itemModel.getModel('emphasis');\n    var layout = data.getItemLayout(idx);\n    var sectorShape = extend(getSectorCornerRadius(itemModel.getModel('itemStyle'), layout) || {}, layout); // Ignore NaN data.\n\n    if (isNaN(sectorShape.startAngle)) {\n      // Use NaN shape to avoid drawing shape.\n      sector.setShape(sectorShape);\n      return;\n    }\n\n    if (firstCreate) {\n      sector.setShape(sectorShape);\n      var animationType = seriesModel.getShallow('animationType');\n\n      if (animationType === 'scale') {\n        sector.shape.r = layout.r0;\n        graphic.initProps(sector, {\n          shape: {\n            r: layout.r\n          }\n        }, seriesModel, idx);\n      } // Expansion\n      else {\n          if (startAngle != null) {\n            sector.setShape({\n              startAngle: startAngle,\n              endAngle: startAngle\n            });\n            graphic.initProps(sector, {\n              shape: {\n                startAngle: layout.startAngle,\n                endAngle: layout.endAngle\n              }\n            }, seriesModel, idx);\n          } else {\n            sector.shape.endAngle = layout.startAngle;\n            graphic.updateProps(sector, {\n              shape: {\n                endAngle: layout.endAngle\n              }\n            }, seriesModel, idx);\n          }\n        }\n    } else {\n      // Transition animation from the old shape\n      graphic.updateProps(sector, {\n        shape: sectorShape\n      }, seriesModel, idx);\n    }\n\n    sector.useStyle(data.getItemVisual(idx, 'style'));\n    setStatesStylesFromModel(sector, itemModel);\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var offset = seriesModel.get('selectedOffset');\n    var dx = Math.cos(midAngle) * offset;\n    var dy = Math.sin(midAngle) * offset;\n    var cursorStyle = itemModel.getShallow('cursor');\n    cursorStyle && sector.attr('cursor', cursorStyle);\n\n    this._updateLabel(seriesModel, data, idx);\n\n    sector.ensureState('emphasis').shape = __assign({\n      r: layout.r + (emphasisModel.get('scale') ? emphasisModel.get('scaleSize') || 0 : 0)\n    }, getSectorCornerRadius(emphasisModel.getModel('itemStyle'), layout));\n    extend(sector.ensureState('select'), {\n      x: dx,\n      y: dy,\n      shape: getSectorCornerRadius(itemModel.getModel(['select', 'itemStyle']), layout)\n    });\n    extend(sector.ensureState('blur'), {\n      shape: getSectorCornerRadius(itemModel.getModel(['blur', 'itemStyle']), layout)\n    });\n    var labelLine = sector.getTextGuideLine();\n    var labelText = sector.getTextContent();\n    labelLine && extend(labelLine.ensureState('select'), {\n      x: dx,\n      y: dy\n    }); // TODO: needs dx, dy in zrender?\n\n    extend(labelText.ensureState('select'), {\n      x: dx,\n      y: dy\n    });\n    enableHoverEmphasis(this, emphasisModel.get('focus'), emphasisModel.get('blurScope'));\n  };\n\n  PiePiece.prototype._updateLabel = function (seriesModel, data, idx) {\n    var sector = this;\n    var itemModel = data.getItemModel(idx);\n    var labelLineModel = itemModel.getModel('labelLine');\n    var style = data.getItemVisual(idx, 'style');\n    var visualColor = style && style.fill;\n    var visualOpacity = style && style.opacity;\n    setLabelStyle(sector, getLabelStatesModels(itemModel), {\n      labelFetcher: data.hostModel,\n      labelDataIndex: idx,\n      inheritColor: visualColor,\n      defaultOpacity: visualOpacity,\n      defaultText: seriesModel.getFormattedLabel(idx, 'normal') || data.getName(idx)\n    });\n    var labelText = sector.getTextContent(); // Set textConfig on sector.\n\n    sector.setTextConfig({\n      // reset position, rotation\n      position: null,\n      rotation: null\n    }); // Make sure update style on labelText after setLabelStyle.\n    // Because setLabelStyle will replace a new style on it.\n\n    labelText.attr({\n      z2: 10\n    });\n    var labelPosition = seriesModel.get(['label', 'position']);\n\n    if (labelPosition !== 'outside' && labelPosition !== 'outer') {\n      sector.removeTextGuideLine();\n    } else {\n      var polyline = this.getTextGuideLine();\n\n      if (!polyline) {\n        polyline = new graphic.Polyline();\n        this.setTextGuideLine(polyline);\n      } // Default use item visual color\n\n\n      setLabelLineStyle(this, getLabelLineStatesModels(itemModel), {\n        stroke: visualColor,\n        opacity: retrieve3(labelLineModel.get(['lineStyle', 'opacity']), visualOpacity, 1)\n      });\n    }\n  };\n\n  return PiePiece;\n}(graphic.Sector); // Pie view\n\n\nvar PieView =\n/** @class */\nfunction (_super) {\n  __extends(PieView, _super);\n\n  function PieView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.ignoreLabelLineUpdate = true;\n    return _this;\n  }\n\n  PieView.prototype.init = function () {\n    var sectorGroup = new graphic.Group();\n    this._sectorGroup = sectorGroup;\n  };\n\n  PieView.prototype.render = function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    var startAngle; // First render\n\n    if (!oldData && data.count() > 0) {\n      var shape = data.getItemLayout(0);\n\n      for (var s = 1; isNaN(shape && shape.startAngle) && s < data.count(); ++s) {\n        shape = data.getItemLayout(s);\n      }\n\n      if (shape) {\n        startAngle = shape.startAngle;\n      }\n    }\n\n    data.diff(oldData).add(function (idx) {\n      var piePiece = new PiePiece(data, idx, startAngle);\n      data.setItemGraphicEl(idx, piePiece);\n      group.add(piePiece);\n    }).update(function (newIdx, oldIdx) {\n      var piePiece = oldData.getItemGraphicEl(oldIdx);\n      piePiece.updateData(data, newIdx, startAngle);\n      piePiece.off('click');\n      group.add(piePiece);\n      data.setItemGraphicEl(newIdx, piePiece);\n    }).remove(function (idx) {\n      var piePiece = oldData.getItemGraphicEl(idx);\n      graphic.removeElementWithFadeOut(piePiece, seriesModel, idx);\n    }).execute();\n    labelLayout(seriesModel); // Always use initial animation.\n\n    if (seriesModel.get('animationTypeUpdate') !== 'expansion') {\n      this._data = data;\n    }\n  };\n\n  PieView.prototype.dispose = function () {};\n\n  PieView.prototype.containPoint = function (point, seriesModel) {\n    var data = seriesModel.getData();\n    var itemLayout = data.getItemLayout(0);\n\n    if (itemLayout) {\n      var dx = point[0] - itemLayout.cx;\n      var dy = point[1] - itemLayout.cy;\n      var radius = Math.sqrt(dx * dx + dy * dy);\n      return radius <= itemLayout.r && radius >= itemLayout.r0;\n    }\n  };\n\n  PieView.type = 'pie';\n  return PieView;\n}(ChartView);\n\nexport default PieView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport createDimensions from '../../data/helper/createDimensions';\nimport List from '../../data/List';\nimport { extend, isArray } from 'zrender/lib/core/util';\n/**\n * [Usage]:\n * (1)\n * createListSimply(seriesModel, ['value']);\n * (2)\n * createListSimply(seriesModel, {\n *     coordDimensions: ['value'],\n *     dimensionsCount: 5\n * });\n */\n\nexport default function createListSimply(seriesModel, opt, nameList) {\n  opt = isArray(opt) && {\n    coordDimensions: opt\n  } || extend({}, opt);\n  var source = seriesModel.getSource();\n  var dimensionsInfo = createDimensions(source, opt);\n  var list = new List(dimensionsInfo, seriesModel);\n  list.initData(source, nameList);\n  return list;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * LegendVisualProvider is an bridge that pick encoded color from data and\n * provide to the legend component.\n */\nvar LegendVisualProvider =\n/** @class */\nfunction () {\n  function LegendVisualProvider( // Function to get data after filtered. It stores all the encoding info\n  getDataWithEncodedVisual, // Function to get raw data before filtered.\n  getRawData) {\n    this._getDataWithEncodedVisual = getDataWithEncodedVisual;\n    this._getRawData = getRawData;\n  }\n\n  LegendVisualProvider.prototype.getAllNames = function () {\n    var rawData = this._getRawData(); // We find the name from the raw data. In case it's filtered by the legend component.\n    // Normally, the name can be found in rawData, but can't be found in filtered data will display as gray.\n\n\n    return rawData.mapArray(rawData.getName);\n  };\n\n  LegendVisualProvider.prototype.containName = function (name) {\n    var rawData = this._getRawData();\n\n    return rawData.indexOfName(name) >= 0;\n  };\n\n  LegendVisualProvider.prototype.indexOfName = function (name) {\n    // Only get data when necessary.\n    // Because LegendVisualProvider constructor may be new in the stage that data is not prepared yet.\n    // Invoking Series#getData immediately will throw an error.\n    var dataWithEncodedVisual = this._getDataWithEncodedVisual();\n\n    return dataWithEncodedVisual.indexOfName(name);\n  };\n\n  LegendVisualProvider.prototype.getItemVisual = function (dataIndex, key) {\n    // Get encoded visual properties from final filtered data.\n    var dataWithEncodedVisual = this._getDataWithEncodedVisual();\n\n    return dataWithEncodedVisual.getItemVisual(dataIndex, key);\n  };\n\n  return LegendVisualProvider;\n}();\n\nexport default LegendVisualProvider;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport createListSimply from '../helper/createListSimply';\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as modelUtil from '../../util/model';\nimport { getPercentWithPrecision } from '../../util/number';\nimport { makeSeriesEncodeForNameBased } from '../../data/helper/sourceHelper';\nimport LegendVisualProvider from '../../visual/LegendVisualProvider';\nimport SeriesModel from '../../model/Series';\n\nvar PieSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(PieSeriesModel, _super);\n\n  function PieSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.useColorPaletteOnData = true;\n    return _this;\n  }\n  /**\n   * @overwrite\n   */\n\n\n  PieSeriesModel.prototype.init = function (option) {\n    _super.prototype.init.apply(this, arguments); // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n\n    this.legendVisualProvider = new LegendVisualProvider(zrUtil.bind(this.getData, this), zrUtil.bind(this.getRawData, this));\n\n    this._defaultLabelLine(option);\n  };\n  /**\n   * @overwrite\n   */\n\n\n  PieSeriesModel.prototype.mergeOption = function () {\n    _super.prototype.mergeOption.apply(this, arguments);\n  };\n  /**\n   * @overwrite\n   */\n\n\n  PieSeriesModel.prototype.getInitialData = function () {\n    return createListSimply(this, {\n      coordDimensions: ['value'],\n      encodeDefaulter: zrUtil.curry(makeSeriesEncodeForNameBased, this)\n    });\n  };\n  /**\n   * @overwrite\n   */\n\n\n  PieSeriesModel.prototype.getDataParams = function (dataIndex) {\n    var data = this.getData();\n\n    var params = _super.prototype.getDataParams.call(this, dataIndex); // FIXME toFixed?\n\n\n    var valueList = [];\n    data.each(data.mapDimension('value'), function (value) {\n      valueList.push(value);\n    });\n    params.percent = getPercentWithPrecision(valueList, dataIndex, data.hostModel.get('percentPrecision'));\n    params.$vars.push('percent');\n    return params;\n  };\n\n  PieSeriesModel.prototype._defaultLabelLine = function (option) {\n    // Extend labelLine emphasis\n    modelUtil.defaultEmphasis(option, 'labelLine', ['show']);\n    var labelLineNormalOpt = option.labelLine;\n    var labelLineEmphasisOpt = option.emphasis.labelLine; // Not show label line if `label.normal.show = false`\n\n    labelLineNormalOpt.show = labelLineNormalOpt.show && option.label.show;\n    labelLineEmphasisOpt.show = labelLineEmphasisOpt.show && option.emphasis.label.show;\n  };\n\n  PieSeriesModel.type = 'series.pie';\n  PieSeriesModel.defaultOption = {\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    // \n    center: ['50%', '50%'],\n    radius: [0, '75%'],\n    // \n    clockwise: true,\n    startAngle: 90,\n    // 0\n    minAngle: 0,\n    // If the angle of a sector less than `minShowLabelAngle`,\n    // the label will not be displayed.\n    minShowLabelAngle: 0,\n    // \n    selectedOffset: 10,\n    // singlemultiple\n    // selectedMode: false,\n    // 'radius' | 'area'\n    // roseType: null,\n    percentPrecision: 2,\n    // If still show when all data zero.\n    stillShowZeroSum: true,\n    // cursor: null,\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    width: null,\n    height: null,\n    label: {\n      // color: 'inherit',\n      // If rotate around circle\n      rotate: 0,\n      show: true,\n      overflow: 'truncate',\n      // 'outer', 'inside', 'center'\n      position: 'outer',\n      // 'none', 'labelLine', 'edge'. Works only when position is 'outer'\n      alignTo: 'none',\n      // Closest distance between label and chart edge.\n      // Works only position is 'outer' and alignTo is 'edge'.\n      edgeDistance: '25%',\n      // Works only position is 'outer' and alignTo is not 'edge'.\n      bleedMargin: 10,\n      // Distance between text and label line.\n      distanceToLabelLine: 5 // formatter: Tooltip.formatter\n      // TEXTSTYLE\n      // distance: positioninnerlabel()\n\n    },\n    // Enabled when label.normal.position is 'outer'\n    labelLine: {\n      show: true,\n      // \n      length: 15,\n      // \n      length2: 15,\n      smooth: false,\n      minTurnAngle: 90,\n      maxSurfaceAngle: 90,\n      lineStyle: {\n        // color: ,\n        width: 1,\n        type: 'solid'\n      }\n    },\n    itemStyle: {\n      borderWidth: 1\n    },\n    labelLayout: {\n      // Hide the overlapped label.\n      hideOverlap: true\n    },\n    emphasis: {\n      scale: true,\n      scaleSize: 5\n    },\n    // If use strategy to avoid label overlapping\n    avoidLabelOverlap: true,\n    // Animation type. Valid values: expansion, scale\n    animationType: 'expansion',\n    animationDuration: 1000,\n    // Animation type when update. Valid values: transition, expansion\n    animationTypeUpdate: 'transition',\n    animationEasingUpdate: 'cubicInOut',\n    animationDurationUpdate: 500,\n    animationEasing: 'cubicInOut'\n  };\n  return PieSeriesModel;\n}(SeriesModel);\n\nexport default PieSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createLegacyDataSelectAction } from '../../legacy/dataSelectAction';\nimport pieLayout from '../pie/pieLayout';\nimport dataFilter from '../../processor/dataFilter';\nimport { curry } from 'zrender/lib/core/util';\nimport PieView from './PieView';\nimport PieSeriesModel from './PieSeries';\nexport function install(registers) {\n  registers.registerChartView(PieView);\n  registers.registerSeriesModel(PieSeriesModel);\n  createLegacyDataSelectAction('pie', registers.registerAction);\n  registers.registerLayout(curry(pieLayout, 'pie'));\n  registers.registerProcessor(dataFilter('pie'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as graphic from '../../util/graphic';\nimport { getECData } from '../../util/innerStore';\nimport { createTextStyle } from '../../label/labelStyle';\nimport { getLayoutRect } from '../../util/layout';\nimport ComponentModel from '../../model/Component';\nimport ComponentView from '../../view/Component';\nimport { windowOpen } from '../../util/format';\n\nvar TitleModel =\n/** @class */\nfunction (_super) {\n  __extends(TitleModel, _super);\n\n  function TitleModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = TitleModel.type;\n    _this.layoutMode = {\n      type: 'box',\n      ignoreSize: true\n    };\n    return _this;\n  }\n\n  TitleModel.type = 'title';\n  TitleModel.defaultOption = {\n    zlevel: 0,\n    z: 6,\n    show: true,\n    text: '',\n    target: 'blank',\n    subtext: '',\n    subtarget: 'blank',\n    left: 0,\n    top: 0,\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    borderWidth: 0,\n    padding: 5,\n    itemGap: 10,\n    textStyle: {\n      fontSize: 18,\n      fontWeight: 'bold',\n      color: '#464646'\n    },\n    subtextStyle: {\n      fontSize: 12,\n      color: '#6E7079'\n    }\n  };\n  return TitleModel;\n}(ComponentModel); // View\n\n\nvar TitleView =\n/** @class */\nfunction (_super) {\n  __extends(TitleView, _super);\n\n  function TitleView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = TitleView.type;\n    return _this;\n  }\n\n  TitleView.prototype.render = function (titleModel, ecModel, api) {\n    this.group.removeAll();\n\n    if (!titleModel.get('show')) {\n      return;\n    }\n\n    var group = this.group;\n    var textStyleModel = titleModel.getModel('textStyle');\n    var subtextStyleModel = titleModel.getModel('subtextStyle');\n    var textAlign = titleModel.get('textAlign');\n    var textVerticalAlign = zrUtil.retrieve2(titleModel.get('textBaseline'), titleModel.get('textVerticalAlign'));\n    var textEl = new graphic.Text({\n      style: createTextStyle(textStyleModel, {\n        text: titleModel.get('text'),\n        fill: textStyleModel.getTextColor()\n      }, {\n        disableBox: true\n      }),\n      z2: 10\n    });\n    var textRect = textEl.getBoundingRect();\n    var subText = titleModel.get('subtext');\n    var subTextEl = new graphic.Text({\n      style: createTextStyle(subtextStyleModel, {\n        text: subText,\n        fill: subtextStyleModel.getTextColor(),\n        y: textRect.height + titleModel.get('itemGap'),\n        verticalAlign: 'top'\n      }, {\n        disableBox: true\n      }),\n      z2: 10\n    });\n    var link = titleModel.get('link');\n    var sublink = titleModel.get('sublink');\n    var triggerEvent = titleModel.get('triggerEvent', true);\n    textEl.silent = !link && !triggerEvent;\n    subTextEl.silent = !sublink && !triggerEvent;\n\n    if (link) {\n      textEl.on('click', function () {\n        windowOpen(link, '_' + titleModel.get('target'));\n      });\n    }\n\n    if (sublink) {\n      subTextEl.on('click', function () {\n        windowOpen(sublink, '_' + titleModel.get('subtarget'));\n      });\n    }\n\n    getECData(textEl).eventData = getECData(subTextEl).eventData = triggerEvent ? {\n      componentType: 'title',\n      componentIndex: titleModel.componentIndex\n    } : null;\n    group.add(textEl);\n    subText && group.add(subTextEl); // If no subText, but add subTextEl, there will be an empty line.\n\n    var groupRect = group.getBoundingRect();\n    var layoutOption = titleModel.getBoxLayoutParams();\n    layoutOption.width = groupRect.width;\n    layoutOption.height = groupRect.height;\n    var layoutRect = getLayoutRect(layoutOption, {\n      width: api.getWidth(),\n      height: api.getHeight()\n    }, titleModel.get('padding')); // Adjust text align based on position\n\n    if (!textAlign) {\n      // Align left if title is on the left. center and right is same\n      textAlign = titleModel.get('left') || titleModel.get('right'); // @ts-ignore\n\n      if (textAlign === 'middle') {\n        textAlign = 'center';\n      } // Adjust layout by text align\n\n\n      if (textAlign === 'right') {\n        layoutRect.x += layoutRect.width;\n      } else if (textAlign === 'center') {\n        layoutRect.x += layoutRect.width / 2;\n      }\n    }\n\n    if (!textVerticalAlign) {\n      textVerticalAlign = titleModel.get('top') || titleModel.get('bottom'); // @ts-ignore\n\n      if (textVerticalAlign === 'center') {\n        textVerticalAlign = 'middle';\n      }\n\n      if (textVerticalAlign === 'bottom') {\n        layoutRect.y += layoutRect.height;\n      } else if (textVerticalAlign === 'middle') {\n        layoutRect.y += layoutRect.height / 2;\n      }\n\n      textVerticalAlign = textVerticalAlign || 'top';\n    }\n\n    group.x = layoutRect.x;\n    group.y = layoutRect.y;\n    group.markRedraw();\n    var alignStyle = {\n      align: textAlign,\n      verticalAlign: textVerticalAlign\n    };\n    textEl.setStyle(alignStyle);\n    subTextEl.setStyle(alignStyle); // Render background\n    // Get groupRect again because textAlign has been changed\n\n    groupRect = group.getBoundingRect();\n    var padding = layoutRect.margin;\n    var style = titleModel.getItemStyle(['color', 'opacity']);\n    style.fill = titleModel.get('backgroundColor');\n    var rect = new graphic.Rect({\n      shape: {\n        x: groupRect.x - padding[3],\n        y: groupRect.y - padding[0],\n        width: groupRect.width + padding[1] + padding[3],\n        height: groupRect.height + padding[0] + padding[2],\n        r: titleModel.get('borderRadius')\n      },\n      style: style,\n      subPixelOptimize: true,\n      silent: true\n    });\n    group.add(rect);\n  };\n\n  TitleView.type = 'title';\n  return TitleView;\n}(ComponentView);\n\nexport function install(registers) {\n  registers.registerComponentModel(TitleModel);\n  registers.registerComponentView(TitleView);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport Model from '../../model/Model';\nimport { isNameSpecified } from '../../util/model';\nimport ComponentModel from '../../model/Component';\n\nvar getDefaultSelectorOptions = function (ecModel, type) {\n  if (type === 'all') {\n    return {\n      type: 'all',\n      title: ecModel.getLocale(['legend', 'selector', 'all'])\n    };\n  } else if (type === 'inverse') {\n    return {\n      type: 'inverse',\n      title: ecModel.getLocale(['legend', 'selector', 'inverse'])\n    };\n  }\n};\n\nvar LegendModel =\n/** @class */\nfunction (_super) {\n  __extends(LegendModel, _super);\n\n  function LegendModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = LegendModel.type;\n    _this.layoutMode = {\n      type: 'box',\n      // legend.width/height are maxWidth/maxHeight actually,\n      // whereas realy width/height is calculated by its content.\n      // (Setting {left: 10, right: 10} does not make sense).\n      // So consider the case:\n      // `setOption({legend: {left: 10});`\n      // then `setOption({legend: {right: 10});`\n      // The previous `left` should be cleared by setting `ignoreSize`.\n      ignoreSize: true\n    };\n    return _this;\n  }\n\n  LegendModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n    option.selected = option.selected || {};\n\n    this._updateSelector(option);\n  };\n\n  LegendModel.prototype.mergeOption = function (option, ecModel) {\n    _super.prototype.mergeOption.call(this, option, ecModel);\n\n    this._updateSelector(option);\n  };\n\n  LegendModel.prototype._updateSelector = function (option) {\n    var selector = option.selector;\n    var ecModel = this.ecModel;\n\n    if (selector === true) {\n      selector = option.selector = ['all', 'inverse'];\n    }\n\n    if (zrUtil.isArray(selector)) {\n      zrUtil.each(selector, function (item, index) {\n        zrUtil.isString(item) && (item = {\n          type: item\n        });\n        selector[index] = zrUtil.merge(item, getDefaultSelectorOptions(ecModel, item.type));\n      });\n    }\n  };\n\n  LegendModel.prototype.optionUpdated = function () {\n    this._updateData(this.ecModel);\n\n    var legendData = this._data; // If selectedMode is single, try to select one\n\n    if (legendData[0] && this.get('selectedMode') === 'single') {\n      var hasSelected = false; // If has any selected in option.selected\n\n      for (var i = 0; i < legendData.length; i++) {\n        var name_1 = legendData[i].get('name');\n\n        if (this.isSelected(name_1)) {\n          // Force to unselect others\n          this.select(name_1);\n          hasSelected = true;\n          break;\n        }\n      } // Try select the first if selectedMode is single\n\n\n      !hasSelected && this.select(legendData[0].get('name'));\n    }\n  };\n\n  LegendModel.prototype._updateData = function (ecModel) {\n    var potentialData = [];\n    var availableNames = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      var seriesName = seriesModel.name;\n      availableNames.push(seriesName);\n      var isPotential;\n\n      if (seriesModel.legendVisualProvider) {\n        var provider = seriesModel.legendVisualProvider;\n        var names = provider.getAllNames();\n\n        if (!ecModel.isSeriesFiltered(seriesModel)) {\n          availableNames = availableNames.concat(names);\n        }\n\n        if (names.length) {\n          potentialData = potentialData.concat(names);\n        } else {\n          isPotential = true;\n        }\n      } else {\n        isPotential = true;\n      }\n\n      if (isPotential && isNameSpecified(seriesModel)) {\n        potentialData.push(seriesModel.name);\n      }\n    });\n    /**\n     * @type {Array.<string>}\n     * @private\n     */\n\n    this._availableNames = availableNames; // If legend.data not specified in option, use availableNames as data,\n    // which is convinient for user preparing option.\n\n    var rawData = this.get('data') || potentialData;\n    var legendData = zrUtil.map(rawData, function (dataItem) {\n      // Can be string or number\n      if (typeof dataItem === 'string' || typeof dataItem === 'number') {\n        dataItem = {\n          name: dataItem\n        };\n      }\n\n      return new Model(dataItem, this, this.ecModel);\n    }, this);\n    /**\n     * @type {Array.<module:echarts/model/Model>}\n     * @private\n     */\n\n    this._data = legendData;\n  };\n\n  LegendModel.prototype.getData = function () {\n    return this._data;\n  };\n\n  LegendModel.prototype.select = function (name) {\n    var selected = this.option.selected;\n    var selectedMode = this.get('selectedMode');\n\n    if (selectedMode === 'single') {\n      var data = this._data;\n      zrUtil.each(data, function (dataItem) {\n        selected[dataItem.get('name')] = false;\n      });\n    }\n\n    selected[name] = true;\n  };\n\n  LegendModel.prototype.unSelect = function (name) {\n    if (this.get('selectedMode') !== 'single') {\n      this.option.selected[name] = false;\n    }\n  };\n\n  LegendModel.prototype.toggleSelected = function (name) {\n    var selected = this.option.selected; // Default is true\n\n    if (!selected.hasOwnProperty(name)) {\n      selected[name] = true;\n    }\n\n    this[selected[name] ? 'unSelect' : 'select'](name);\n  };\n\n  LegendModel.prototype.allSelect = function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      selected[dataItem.get('name', true)] = true;\n    });\n  };\n\n  LegendModel.prototype.inverseSelect = function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      var name = dataItem.get('name', true); // Initially, default value is true\n\n      if (!selected.hasOwnProperty(name)) {\n        selected[name] = true;\n      }\n\n      selected[name] = !selected[name];\n    });\n  };\n\n  LegendModel.prototype.isSelected = function (name) {\n    var selected = this.option.selected;\n    return !(selected.hasOwnProperty(name) && !selected[name]) && zrUtil.indexOf(this._availableNames, name) >= 0;\n  };\n\n  LegendModel.prototype.getOrient = function () {\n    return this.get('orient') === 'vertical' ? {\n      index: 1,\n      name: 'vertical'\n    } : {\n      index: 0,\n      name: 'horizontal'\n    };\n  };\n\n  LegendModel.type = 'legend.plain';\n  LegendModel.dependencies = ['series'];\n  LegendModel.defaultOption = {\n    zlevel: 0,\n    z: 4,\n    show: true,\n    orient: 'horizontal',\n    left: 'center',\n    // right: 'center',\n    top: 0,\n    // bottom: null,\n    align: 'auto',\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    borderRadius: 0,\n    borderWidth: 0,\n    padding: 5,\n    itemGap: 10,\n    itemWidth: 25,\n    itemHeight: 14,\n    symbolRotate: 'inherit',\n    inactiveColor: '#ccc',\n    inactiveBorderColor: '#ccc',\n    inactiveBorderWidth: 'auto',\n    itemStyle: {\n      color: 'inherit',\n      opacity: 'inherit',\n      decal: 'inherit',\n      shadowBlur: 0,\n      shadowColor: null,\n      shadowOffsetX: 0,\n      shadowOffsetY: 0,\n      borderColor: 'inherit',\n      borderWidth: 'auto',\n      borderCap: 'inherit',\n      borderJoin: 'inherit',\n      borderDashOffset: 'inherit',\n      borderMiterLimit: 'inherit'\n    },\n    lineStyle: {\n      width: 'auto',\n      color: 'inherit',\n      inactiveColor: '#ccc',\n      inactiveWidth: 2,\n      opacity: 'inherit',\n      type: 'inherit',\n      cap: 'inherit',\n      join: 'inherit',\n      dashOffset: 'inherit',\n      miterLimit: 'inherit',\n      shadowBlur: 0,\n      shadowColor: null,\n      shadowOffsetX: 0,\n      shadowOffsetY: 0\n    },\n    textStyle: {\n      color: '#333'\n    },\n    selectedMode: true,\n    selector: false,\n    selectorLabel: {\n      show: true,\n      borderRadius: 10,\n      padding: [3, 5, 3, 5],\n      fontSize: 12,\n      fontFamily: ' sans-serif',\n      color: '#666',\n      borderWidth: 1,\n      borderColor: '#666'\n    },\n    emphasis: {\n      selectorLabel: {\n        show: true,\n        color: '#eee',\n        backgroundColor: '#666'\n      }\n    },\n    selectorPosition: 'auto',\n    selectorItemGap: 7,\n    selectorButtonGap: 10,\n    tooltip: {\n      show: false\n    }\n  };\n  return LegendModel;\n}(ComponentModel);\n\nexport default LegendModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport { getLayoutRect, box as layoutBox, positionElement } from '../../util/layout';\nimport * as formatUtil from '../../util/format';\nimport * as graphic from '../../util/graphic';\n/**\n * Layout list like component.\n * It will box layout each items in group of component and then position the whole group in the viewport\n * @param {module:zrender/group/Group} group\n * @param {module:echarts/model/Component} componentModel\n * @param {module:echarts/ExtensionAPI}\n */\n\nexport function layout(group, componentModel, api) {\n  var boxLayoutParams = componentModel.getBoxLayoutParams();\n  var padding = componentModel.get('padding');\n  var viewportSize = {\n    width: api.getWidth(),\n    height: api.getHeight()\n  };\n  var rect = getLayoutRect(boxLayoutParams, viewportSize, padding);\n  layoutBox(componentModel.get('orient'), group, componentModel.get('itemGap'), rect.width, rect.height);\n  positionElement(group, boxLayoutParams, viewportSize, padding);\n}\nexport function makeBackground(rect, componentModel) {\n  var padding = formatUtil.normalizeCssArray(componentModel.get('padding'));\n  var style = componentModel.getItemStyle(['color', 'opacity']);\n  style.fill = componentModel.get('backgroundColor');\n  rect = new graphic.Rect({\n    shape: {\n      x: rect.x - padding[3],\n      y: rect.y - padding[0],\n      width: rect.width + padding[1] + padding[3],\n      height: rect.height + padding[0] + padding[2],\n      r: componentModel.get('borderRadius')\n    },\n    style: style,\n    silent: true,\n    z2: -1\n  }); // FIXME\n  // `subPixelOptimizeRect` may bring some gap between edge of viewpart\n  // and background rect when setting like `left: 0`, `top: 0`.\n  // graphic.subPixelOptimizeRect(rect);\n\n  return rect;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport { parse, stringify } from 'zrender/lib/tool/color';\nimport * as graphic from '../../util/graphic';\nimport { enableHoverEmphasis } from '../../util/states';\nimport { setLabelStyle, createTextStyle } from '../../label/labelStyle';\nimport { makeBackground } from '../helper/listComponent';\nimport * as layoutUtil from '../../util/layout';\nimport ComponentView from '../../view/Component';\nimport { LINE_STYLE_KEY_MAP } from '../../model/mixin/lineStyle';\nimport { ITEM_STYLE_KEY_MAP } from '../../model/mixin/itemStyle';\nimport { createSymbol } from '../../util/symbol';\nvar curry = zrUtil.curry;\nvar each = zrUtil.each;\nvar Group = graphic.Group;\n\nvar LegendView =\n/** @class */\nfunction (_super) {\n  __extends(LegendView, _super);\n\n  function LegendView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = LegendView.type;\n    _this.newlineDisabled = false;\n    return _this;\n  }\n\n  LegendView.prototype.init = function () {\n    this.group.add(this._contentGroup = new Group());\n    this.group.add(this._selectorGroup = new Group());\n    this._isFirstRender = true;\n  };\n  /**\n   * @protected\n   */\n\n\n  LegendView.prototype.getContentGroup = function () {\n    return this._contentGroup;\n  };\n  /**\n   * @protected\n   */\n\n\n  LegendView.prototype.getSelectorGroup = function () {\n    return this._selectorGroup;\n  };\n  /**\n   * @override\n   */\n\n\n  LegendView.prototype.render = function (legendModel, ecModel, api) {\n    var isFirstRender = this._isFirstRender;\n    this._isFirstRender = false;\n    this.resetInner();\n\n    if (!legendModel.get('show', true)) {\n      return;\n    }\n\n    var itemAlign = legendModel.get('align');\n    var orient = legendModel.get('orient');\n\n    if (!itemAlign || itemAlign === 'auto') {\n      itemAlign = legendModel.get('left') === 'right' && orient === 'vertical' ? 'right' : 'left';\n    } // selector has been normalized to an array in model\n\n\n    var selector = legendModel.get('selector', true);\n    var selectorPosition = legendModel.get('selectorPosition', true);\n\n    if (selector && (!selectorPosition || selectorPosition === 'auto')) {\n      selectorPosition = orient === 'horizontal' ? 'end' : 'start';\n    }\n\n    this.renderInner(itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition); // Perform layout.\n\n    var positionInfo = legendModel.getBoxLayoutParams();\n    var viewportSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var padding = legendModel.get('padding');\n    var maxSize = layoutUtil.getLayoutRect(positionInfo, viewportSize, padding);\n    var mainRect = this.layoutInner(legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition); // Place mainGroup, based on the calculated `mainRect`.\n\n    var layoutRect = layoutUtil.getLayoutRect(zrUtil.defaults({\n      width: mainRect.width,\n      height: mainRect.height\n    }, positionInfo), viewportSize, padding);\n    this.group.x = layoutRect.x - mainRect.x;\n    this.group.y = layoutRect.y - mainRect.y;\n    this.group.markRedraw(); // Render background after group is layout.\n\n    this.group.add(this._backgroundEl = makeBackground(mainRect, legendModel));\n  };\n\n  LegendView.prototype.resetInner = function () {\n    this.getContentGroup().removeAll();\n    this._backgroundEl && this.group.remove(this._backgroundEl);\n    this.getSelectorGroup().removeAll();\n  };\n\n  LegendView.prototype.renderInner = function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var legendDrawnMap = zrUtil.createHashMap();\n    var selectMode = legendModel.get('selectedMode');\n    var excludeSeriesId = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      !seriesModel.get('legendHoverLink') && excludeSeriesId.push(seriesModel.id);\n    });\n    each(legendModel.getData(), function (legendItemModel, dataIndex) {\n      var name = legendItemModel.get('name'); // Use empty string or \\n as a newline string\n\n      if (!this.newlineDisabled && (name === '' || name === '\\n')) {\n        var g = new Group(); // @ts-ignore\n\n        g.newline = true;\n        contentGroup.add(g);\n        return;\n      } // Representitive series.\n\n\n      var seriesModel = ecModel.getSeriesByName(name)[0];\n\n      if (legendDrawnMap.get(name)) {\n        // Have been drawed\n        return;\n      } // Legend to control series.\n\n\n      if (seriesModel) {\n        var data = seriesModel.getData();\n        var lineVisualStyle = data.getVisual('legendLineStyle') || {};\n        var legendIcon = data.getVisual('legendIcon');\n        /**\n         * `data.getVisual('style')` may be the color from the register\n         * in series. For example, for line series,\n         */\n\n        var style = data.getVisual('style');\n\n        var itemGroup = this._createItem(seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, lineVisualStyle, style, legendIcon, selectMode);\n\n        itemGroup.on('click', curry(dispatchSelectAction, name, null, api, excludeSeriesId)).on('mouseover', curry(dispatchHighlightAction, seriesModel.name, null, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, seriesModel.name, null, api, excludeSeriesId));\n        legendDrawnMap.set(name, true);\n      } else {\n        // Legend to control data. In pie and funnel.\n        ecModel.eachRawSeries(function (seriesModel) {\n          // In case multiple series has same data name\n          if (legendDrawnMap.get(name)) {\n            return;\n          }\n\n          if (seriesModel.legendVisualProvider) {\n            var provider = seriesModel.legendVisualProvider;\n\n            if (!provider.containName(name)) {\n              return;\n            }\n\n            var idx = provider.indexOfName(name);\n            var style = provider.getItemVisual(idx, 'style');\n            var legendIcon = provider.getItemVisual(idx, 'legendIcon');\n            var colorArr = parse(style.fill); // Color may be set to transparent in visualMap when data is out of range.\n            // Do not show nothing.\n\n            if (colorArr && colorArr[3] === 0) {\n              colorArr[3] = 0.2; // TODO color is set to 0, 0, 0, 0. Should show correct RGBA\n\n              style.fill = stringify(colorArr, 'rgba');\n            }\n\n            var itemGroup = this._createItem(seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, {}, style, legendIcon, selectMode); // FIXME: consider different series has items with the same name.\n\n\n            itemGroup.on('click', curry(dispatchSelectAction, null, name, api, excludeSeriesId)) // Should not specify the series name, consider legend controls\n            // more than one pie series.\n            .on('mouseover', curry(dispatchHighlightAction, null, name, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, null, name, api, excludeSeriesId));\n            legendDrawnMap.set(name, true);\n          }\n        }, this);\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (!legendDrawnMap.get(name)) {\n          console.warn(name + ' series not exists. Legend data should be same with series name or data name.');\n        }\n      }\n    }, this);\n\n    if (selector) {\n      this._createSelector(selector, legendModel, api, orient, selectorPosition);\n    }\n  };\n\n  LegendView.prototype._createSelector = function (selector, legendModel, api, orient, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    each(selector, function createSelectorButton(selectorItem) {\n      var type = selectorItem.type;\n      var labelText = new graphic.Text({\n        style: {\n          x: 0,\n          y: 0,\n          align: 'center',\n          verticalAlign: 'middle'\n        },\n        onclick: function () {\n          api.dispatchAction({\n            type: type === 'all' ? 'legendAllSelect' : 'legendInverseSelect'\n          });\n        }\n      });\n      selectorGroup.add(labelText);\n      var labelModel = legendModel.getModel('selectorLabel');\n      var emphasisLabelModel = legendModel.getModel(['emphasis', 'selectorLabel']);\n      setLabelStyle(labelText, {\n        normal: labelModel,\n        emphasis: emphasisLabelModel\n      }, {\n        defaultText: selectorItem.title\n      });\n      enableHoverEmphasis(labelText);\n    });\n  };\n\n  LegendView.prototype._createItem = function (seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, lineVisualStyle, itemVisualStyle, legendIcon, selectMode) {\n    var drawType = seriesModel.visualDrawType;\n    var itemWidth = legendModel.get('itemWidth');\n    var itemHeight = legendModel.get('itemHeight');\n    var isSelected = legendModel.isSelected(name);\n    var iconRotate = legendItemModel.get('symbolRotate');\n    var legendIconType = legendItemModel.get('icon');\n    legendIcon = legendIconType || legendIcon || 'roundRect';\n    var legendLineStyle = legendModel.getModel('lineStyle');\n    var style = getLegendStyle(legendIcon, legendItemModel, legendLineStyle, lineVisualStyle, itemVisualStyle, drawType, isSelected);\n    var itemGroup = new Group();\n    var textStyleModel = legendItemModel.getModel('textStyle');\n\n    if (typeof seriesModel.getLegendIcon === 'function' && (!legendIconType || legendIconType === 'inherit')) {\n      // Series has specific way to define legend icon\n      itemGroup.add(seriesModel.getLegendIcon({\n        itemWidth: itemWidth,\n        itemHeight: itemHeight,\n        icon: legendIcon,\n        iconRotate: iconRotate,\n        itemStyle: style.itemStyle,\n        lineStyle: style.lineStyle\n      }));\n    } else {\n      // Use default legend icon policy for most series\n      var rotate = legendIconType === 'inherit' && seriesModel.getData().getVisual('symbol') ? iconRotate === 'inherit' ? seriesModel.getData().getVisual('symbolRotate') : iconRotate : 0; // No rotation for no icon\n\n      itemGroup.add(getDefaultLegendIcon({\n        itemWidth: itemWidth,\n        itemHeight: itemHeight,\n        icon: legendIcon,\n        iconRotate: rotate,\n        itemStyle: style.itemStyle,\n        lineStyle: style.lineStyle\n      }));\n    }\n\n    var textX = itemAlign === 'left' ? itemWidth + 5 : -5;\n    var textAlign = itemAlign;\n    var formatter = legendModel.get('formatter');\n    var content = name;\n\n    if (typeof formatter === 'string' && formatter) {\n      content = formatter.replace('{name}', name != null ? name : '');\n    } else if (typeof formatter === 'function') {\n      content = formatter(name);\n    }\n\n    var inactiveColor = legendItemModel.get('inactiveColor');\n    itemGroup.add(new graphic.Text({\n      style: createTextStyle(textStyleModel, {\n        text: content,\n        x: textX,\n        y: itemHeight / 2,\n        fill: isSelected ? textStyleModel.getTextColor() : inactiveColor,\n        align: textAlign,\n        verticalAlign: 'middle'\n      })\n    })); // Add a invisible rect to increase the area of mouse hover\n\n    var hitRect = new graphic.Rect({\n      shape: itemGroup.getBoundingRect(),\n      invisible: true\n    });\n    var tooltipModel = legendItemModel.getModel('tooltip');\n\n    if (tooltipModel.get('show')) {\n      graphic.setTooltipConfig({\n        el: hitRect,\n        componentModel: legendModel,\n        itemName: name,\n        itemTooltipOption: tooltipModel.option\n      });\n    }\n\n    itemGroup.add(hitRect);\n    itemGroup.eachChild(function (child) {\n      child.silent = true;\n    });\n    hitRect.silent = !selectMode;\n    this.getContentGroup().add(itemGroup);\n    enableHoverEmphasis(itemGroup); // @ts-ignore\n\n    itemGroup.__legendDataIndex = dataIndex;\n    return itemGroup;\n  };\n\n  LegendView.prototype.layoutInner = function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var selectorGroup = this.getSelectorGroup(); // Place items in contentGroup.\n\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), maxSize.width, maxSize.height);\n    var contentRect = contentGroup.getBoundingRect();\n    var contentPos = [-contentRect.x, -contentRect.y];\n    selectorGroup.markRedraw();\n    contentGroup.markRedraw();\n\n    if (selector) {\n      // Place buttons in selectorGroup\n      layoutUtil.box( // Buttons in selectorGroup always layout horizontally\n      'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n      var selectorRect = selectorGroup.getBoundingRect();\n      var selectorPos = [-selectorRect.x, -selectorRect.y];\n      var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n      var orientIdx = legendModel.getOrient().index;\n      var wh = orientIdx === 0 ? 'width' : 'height';\n      var hw = orientIdx === 0 ? 'height' : 'width';\n      var yx = orientIdx === 0 ? 'y' : 'x';\n\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += contentRect[wh] + selectorButtonGap;\n      } else {\n        contentPos[orientIdx] += selectorRect[wh] + selectorButtonGap;\n      } //Always align selector to content as 'middle'\n\n\n      selectorPos[1 - orientIdx] += contentRect[hw] / 2 - selectorRect[hw] / 2;\n      selectorGroup.x = selectorPos[0];\n      selectorGroup.y = selectorPos[1];\n      contentGroup.x = contentPos[0];\n      contentGroup.y = contentPos[1];\n      var mainRect = {\n        x: 0,\n        y: 0\n      };\n      mainRect[wh] = contentRect[wh] + selectorButtonGap + selectorRect[wh];\n      mainRect[hw] = Math.max(contentRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(0, selectorRect[yx] + selectorPos[1 - orientIdx]);\n      return mainRect;\n    } else {\n      contentGroup.x = contentPos[0];\n      contentGroup.y = contentPos[1];\n      return this.group.getBoundingRect();\n    }\n  };\n  /**\n   * @protected\n   */\n\n\n  LegendView.prototype.remove = function () {\n    this.getContentGroup().removeAll();\n    this._isFirstRender = true;\n  };\n\n  LegendView.type = 'legend.plain';\n  return LegendView;\n}(ComponentView);\n\nfunction getLegendStyle(iconType, legendModel, legendLineStyle, lineVisualStyle, itemVisualStyle, drawType, isSelected) {\n  /**\n   * Use series style if is inherit;\n   * elsewise, use legend style\n   */\n  // itemStyle\n  var legendItemModel = legendModel.getModel('itemStyle');\n  var itemProperties = ITEM_STYLE_KEY_MAP.concat([['decal']]);\n  var itemStyle = {};\n\n  for (var i = 0; i < itemProperties.length; ++i) {\n    var propName = itemProperties[i][itemProperties[i].length - 1];\n    var visualName = itemProperties[i][0];\n    var value = legendItemModel.getShallow(propName);\n\n    if (value === 'inherit') {\n      switch (visualName) {\n        case 'fill':\n          /**\n           * Series with visualDrawType as 'stroke' should have\n           * series stroke as legend fill\n           */\n          itemStyle.fill = itemVisualStyle[drawType];\n          break;\n\n        case 'stroke':\n          /**\n           * icon type with \"emptyXXX\" should use fill color\n           * in visual style\n           */\n          itemStyle.stroke = itemVisualStyle[iconType.lastIndexOf('empty', 0) === 0 ? 'fill' : 'stroke'];\n          break;\n\n        case 'opacity':\n          /**\n           * Use lineStyle.opacity if drawType is stroke\n           */\n          itemStyle.opacity = (drawType === 'fill' ? itemVisualStyle : lineVisualStyle).opacity;\n          break;\n\n        default:\n          itemStyle[visualName] = itemVisualStyle[visualName];\n      }\n    } else if (value === 'auto' && visualName === 'lineWidth') {\n      // If lineStyle.width is 'auto', it is set to be 2 if series has border\n      itemStyle.lineWidth = itemVisualStyle.lineWidth > 0 ? 2 : 0;\n    } else {\n      itemStyle[visualName] = value;\n    }\n  } // lineStyle\n\n\n  var legendLineModel = legendModel.getModel('lineStyle');\n  var lineProperties = LINE_STYLE_KEY_MAP.concat([['inactiveColor'], ['inactiveWidth']]);\n  var lineStyle = {};\n\n  for (var i = 0; i < lineProperties.length; ++i) {\n    var propName = lineProperties[i][1];\n    var visualName = lineProperties[i][0];\n    var value = legendLineModel.getShallow(propName);\n\n    if (value === 'inherit') {\n      lineStyle[visualName] = lineVisualStyle[visualName];\n    } else if (value === 'auto' && visualName === 'lineWidth') {\n      // If lineStyle.width is 'auto', it is set to be 2 if series has border\n      lineStyle.lineWidth = lineVisualStyle.lineWidth > 0 ? 2 : 0;\n    } else {\n      lineStyle[visualName] = value;\n    }\n  } // Fix auto color to real color\n\n\n  itemStyle.fill === 'auto' && (itemStyle.fill = itemVisualStyle.fill);\n  itemStyle.stroke === 'auto' && (itemStyle.stroke = itemVisualStyle.fill);\n  lineStyle.stroke === 'auto' && (lineStyle.stroke = itemVisualStyle.fill);\n\n  if (!isSelected) {\n    var borderWidth = legendModel.get('inactiveBorderWidth');\n    /**\n     * Since stroke is set to be inactiveBorderColor, it may occur that\n     * there is no border in series but border in legend, so we need to\n     * use border only when series has border if is set to be auto\n     */\n\n    var visualHasBorder = itemStyle[iconType.indexOf('empty') > -1 ? 'fill' : 'stroke'];\n    itemStyle.lineWidth = borderWidth === 'auto' ? itemVisualStyle.lineWidth > 0 && visualHasBorder ? 2 : 0 : itemStyle.lineWidth;\n    itemStyle.fill = legendModel.get('inactiveColor');\n    itemStyle.stroke = legendModel.get('inactiveBorderColor');\n    lineStyle.stroke = legendLineStyle.get('inactiveColor');\n    lineStyle.lineWidth = legendLineStyle.get('inactiveWidth');\n  }\n\n  return {\n    itemStyle: itemStyle,\n    lineStyle: lineStyle\n  };\n}\n\nfunction getDefaultLegendIcon(opt) {\n  var symboType = opt.icon || 'roundRect';\n  var icon = createSymbol(symboType, 0, 0, opt.itemWidth, opt.itemHeight, opt.itemStyle.fill);\n  icon.setStyle(opt.itemStyle);\n  icon.rotation = (opt.iconRotate || 0) * Math.PI / 180;\n  icon.setOrigin([opt.itemWidth / 2, opt.itemHeight / 2]);\n\n  if (symboType.indexOf('empty') > -1) {\n    icon.style.stroke = icon.style.fill;\n    icon.style.fill = '#fff';\n    icon.style.lineWidth = 2;\n  }\n\n  return icon;\n}\n\nfunction dispatchSelectAction(seriesName, dataName, api, excludeSeriesId) {\n  // downplay before unselect\n  dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId);\n  api.dispatchAction({\n    type: 'legendToggleSelect',\n    name: seriesName != null ? seriesName : dataName\n  }); // highlight after select\n  // TODO higlight immediately may cause animation loss.\n\n  dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId);\n}\n\nfunction isUseHoverLayer(api) {\n  var list = api.getZr().storage.getDisplayList();\n  var emphasisState;\n  var i = 0;\n  var len = list.length;\n\n  while (i < len && !(emphasisState = list[i].states.emphasis)) {\n    i++;\n  }\n\n  return emphasisState && emphasisState.hoverLayer;\n}\n\nfunction dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  if (!isUseHoverLayer(api)) {\n    api.dispatchAction({\n      type: 'highlight',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\n\nfunction dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  if (!isUseHoverLayer(api)) {\n    api.dispatchAction({\n      type: 'downplay',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\n\nexport default LegendView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function legendFilter(ecModel) {\n  var legendModels = ecModel.findComponents({\n    mainType: 'legend'\n  });\n\n  if (legendModels && legendModels.length) {\n    ecModel.filterSeries(function (series) {\n      // If in any legend component the status is not selected.\n      // Because in legend series is assumed selected when it is not in the legend data.\n      for (var i = 0; i < legendModels.length; i++) {\n        if (!legendModels[i].isSelected(series.name)) {\n          return false;\n        }\n      }\n\n      return true;\n    });\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport { curry, each } from 'zrender/lib/core/util';\n\nfunction legendSelectActionHandler(methodName, payload, ecModel) {\n  var selectedMap = {};\n  var isToggleSelect = methodName === 'toggleSelected';\n  var isSelected; // Update all legend components\n\n  ecModel.eachComponent('legend', function (legendModel) {\n    if (isToggleSelect && isSelected != null) {\n      // Force other legend has same selected status\n      // Or the first is toggled to true and other are toggled to false\n      // In the case one legend has some item unSelected in option. And if other legend\n      // doesn't has the item, they will assume it is selected.\n      legendModel[isSelected ? 'select' : 'unSelect'](payload.name);\n    } else if (methodName === 'allSelect' || methodName === 'inverseSelect') {\n      legendModel[methodName]();\n    } else {\n      legendModel[methodName](payload.name);\n      isSelected = legendModel.isSelected(payload.name);\n    }\n\n    var legendData = legendModel.getData();\n    each(legendData, function (model) {\n      var name = model.get('name'); // Wrap element\n\n      if (name === '\\n' || name === '') {\n        return;\n      }\n\n      var isItemSelected = legendModel.isSelected(name);\n\n      if (selectedMap.hasOwnProperty(name)) {\n        // Unselected if any legend is unselected\n        selectedMap[name] = selectedMap[name] && isItemSelected;\n      } else {\n        selectedMap[name] = isItemSelected;\n      }\n    });\n  }); // Return the event explicitly\n\n  return methodName === 'allSelect' || methodName === 'inverseSelect' ? {\n    selected: selectedMap\n  } : {\n    name: payload.name,\n    selected: selectedMap\n  };\n}\n\nexport function installLegendAction(registers) {\n  /**\n   * @event legendToggleSelect\n   * @type {Object}\n   * @property {string} type 'legendToggleSelect'\n   * @property {string} [from]\n   * @property {string} name Series name or data item name\n   */\n  registers.registerAction('legendToggleSelect', 'legendselectchanged', curry(legendSelectActionHandler, 'toggleSelected'));\n  registers.registerAction('legendAllSelect', 'legendselectall', curry(legendSelectActionHandler, 'allSelect'));\n  registers.registerAction('legendInverseSelect', 'legendinverseselect', curry(legendSelectActionHandler, 'inverseSelect'));\n  /**\n   * @event legendSelect\n   * @type {Object}\n   * @property {string} type 'legendSelect'\n   * @property {string} name Series name or data item name\n   */\n\n  registers.registerAction('legendSelect', 'legendselected', curry(legendSelectActionHandler, 'select'));\n  /**\n   * @event legendUnSelect\n   * @type {Object}\n   * @property {string} type 'legendUnSelect'\n   * @property {string} name Series name or data item name\n   */\n\n  registers.registerAction('legendUnSelect', 'legendunselected', curry(legendSelectActionHandler, 'unSelect'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport LegendModel from './LegendModel';\nimport LegendView from './LegendView';\nimport legendFilter from './legendFilter';\nimport { installLegendAction } from './legendAction';\nexport function install(registers) {\n  registers.registerComponentModel(LegendModel);\n  registers.registerComponentView(LegendView);\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.SERIES_FILTER, legendFilter);\n  registers.registerSubTypeDefaulter('legend', function () {\n    return 'plain';\n  });\n  installLegendAction(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport LegendModel from './LegendModel';\nimport { mergeLayoutParam, getLayoutParams } from '../../util/layout';\nimport { inheritDefaultOption } from '../../util/component';\n\nvar ScrollableLegendModel =\n/** @class */\nfunction (_super) {\n  __extends(ScrollableLegendModel, _super);\n\n  function ScrollableLegendModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ScrollableLegendModel.type;\n    return _this;\n  }\n  /**\n   * @param {number} scrollDataIndex\n   */\n\n\n  ScrollableLegendModel.prototype.setScrollDataIndex = function (scrollDataIndex) {\n    this.option.scrollDataIndex = scrollDataIndex;\n  };\n\n  ScrollableLegendModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputPositionParams = getLayoutParams(option);\n\n    _super.prototype.init.call(this, option, parentModel, ecModel);\n\n    mergeAndNormalizeLayoutParams(this, option, inputPositionParams);\n  };\n  /**\n   * @override\n   */\n\n\n  ScrollableLegendModel.prototype.mergeOption = function (option, ecModel) {\n    _super.prototype.mergeOption.call(this, option, ecModel);\n\n    mergeAndNormalizeLayoutParams(this, this.option, option);\n  };\n\n  ScrollableLegendModel.type = 'legend.scroll';\n  ScrollableLegendModel.defaultOption = inheritDefaultOption(LegendModel.defaultOption, {\n    scrollDataIndex: 0,\n    pageButtonItemGap: 5,\n    pageButtonGap: null,\n    pageButtonPosition: 'end',\n    pageFormatter: '{current}/{total}',\n    pageIcons: {\n      horizontal: ['M0,0L12,-10L12,10z', 'M0,0L-12,-10L-12,10z'],\n      vertical: ['M0,0L20,0L10,-20z', 'M0,0L20,0L10,20z']\n    },\n    pageIconColor: '#2f4554',\n    pageIconInactiveColor: '#aaa',\n    pageIconSize: 15,\n    pageTextStyle: {\n      color: '#333'\n    },\n    animationDurationUpdate: 800\n  });\n  return ScrollableLegendModel;\n}(LegendModel);\n\n; // Do not `ignoreSize` to enable setting {left: 10, right: 10}.\n\nfunction mergeAndNormalizeLayoutParams(legendModel, target, raw) {\n  var orient = legendModel.getOrient();\n  var ignoreSize = [1, 1];\n  ignoreSize[orient.index] = 0;\n  mergeLayoutParam(target, raw, {\n    type: 'box',\n    ignoreSize: !!ignoreSize\n  });\n}\n\nexport default ScrollableLegendModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Separate legend and scrollable legend to reduce package size.\n */\n\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as graphic from '../../util/graphic';\nimport * as layoutUtil from '../../util/layout';\nimport LegendView from './LegendView';\nvar Group = graphic.Group;\nvar WH = ['width', 'height'];\nvar XY = ['x', 'y'];\n\nvar ScrollableLegendView =\n/** @class */\nfunction (_super) {\n  __extends(ScrollableLegendView, _super);\n\n  function ScrollableLegendView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ScrollableLegendView.type;\n    _this.newlineDisabled = true;\n    _this._currentIndex = 0;\n    return _this;\n  }\n\n  ScrollableLegendView.prototype.init = function () {\n    _super.prototype.init.call(this);\n\n    this.group.add(this._containerGroup = new Group());\n\n    this._containerGroup.add(this.getContentGroup());\n\n    this.group.add(this._controllerGroup = new Group());\n  };\n  /**\n   * @override\n   */\n\n\n  ScrollableLegendView.prototype.resetInner = function () {\n    _super.prototype.resetInner.call(this);\n\n    this._controllerGroup.removeAll();\n\n    this._containerGroup.removeClipPath();\n\n    this._containerGroup.__rectSize = null;\n  };\n  /**\n   * @override\n   */\n\n\n  ScrollableLegendView.prototype.renderInner = function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var self = this; // Render content items.\n\n    _super.prototype.renderInner.call(this, itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition);\n\n    var controllerGroup = this._controllerGroup; // FIXME: support be 'auto' adapt to size number text length,\n    // e.g., '3/12345' should not overlap with the control arrow button.\n\n    var pageIconSize = legendModel.get('pageIconSize', true);\n    var pageIconSizeArr = zrUtil.isArray(pageIconSize) ? pageIconSize : [pageIconSize, pageIconSize];\n    createPageButton('pagePrev', 0);\n    var pageTextStyleModel = legendModel.getModel('pageTextStyle');\n    controllerGroup.add(new graphic.Text({\n      name: 'pageText',\n      style: {\n        // Placeholder to calculate a proper layout.\n        text: 'xx/xx',\n        fill: pageTextStyleModel.getTextColor(),\n        font: pageTextStyleModel.getFont(),\n        verticalAlign: 'middle',\n        align: 'center'\n      },\n      silent: true\n    }));\n    createPageButton('pageNext', 1);\n\n    function createPageButton(name, iconIdx) {\n      var pageDataIndexName = name + 'DataIndex';\n      var icon = graphic.createIcon(legendModel.get('pageIcons', true)[legendModel.getOrient().name][iconIdx], {\n        // Buttons will be created in each render, so we do not need\n        // to worry about avoiding using legendModel kept in scope.\n        onclick: zrUtil.bind(self._pageGo, self, pageDataIndexName, legendModel, api)\n      }, {\n        x: -pageIconSizeArr[0] / 2,\n        y: -pageIconSizeArr[1] / 2,\n        width: pageIconSizeArr[0],\n        height: pageIconSizeArr[1]\n      });\n      icon.name = name;\n      controllerGroup.add(icon);\n    }\n  };\n  /**\n   * @override\n   */\n\n\n  ScrollableLegendView.prototype.layoutInner = function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var xy = XY[orientIdx];\n    var hw = WH[1 - orientIdx];\n    var yx = XY[1 - orientIdx];\n    selector && layoutUtil.box( // Buttons in selectorGroup always layout horizontally\n    'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n    var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n    var selectorRect = selectorGroup.getBoundingRect();\n    var selectorPos = [-selectorRect.x, -selectorRect.y];\n    var processMaxSize = zrUtil.clone(maxSize);\n    selector && (processMaxSize[wh] = maxSize[wh] - selectorRect[wh] - selectorButtonGap);\n\n    var mainRect = this._layoutContentAndController(legendModel, isFirstRender, processMaxSize, orientIdx, wh, hw, yx, xy);\n\n    if (selector) {\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += mainRect[wh] + selectorButtonGap;\n      } else {\n        var offset = selectorRect[wh] + selectorButtonGap;\n        selectorPos[orientIdx] -= offset;\n        mainRect[xy] -= offset;\n      }\n\n      mainRect[wh] += selectorRect[wh] + selectorButtonGap;\n      selectorPos[1 - orientIdx] += mainRect[yx] + mainRect[hw] / 2 - selectorRect[hw] / 2;\n      mainRect[hw] = Math.max(mainRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(mainRect[yx], selectorRect[yx] + selectorPos[1 - orientIdx]);\n      selectorGroup.x = selectorPos[0];\n      selectorGroup.y = selectorPos[1];\n      selectorGroup.markRedraw();\n    }\n\n    return mainRect;\n  };\n\n  ScrollableLegendView.prototype._layoutContentAndController = function (legendModel, isFirstRender, maxSize, orientIdx, wh, hw, yx, xy) {\n    var contentGroup = this.getContentGroup();\n    var containerGroup = this._containerGroup;\n    var controllerGroup = this._controllerGroup; // Place items in contentGroup.\n\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), !orientIdx ? null : maxSize.width, orientIdx ? null : maxSize.height);\n    layoutUtil.box( // Buttons in controller are layout always horizontally.\n    'horizontal', controllerGroup, legendModel.get('pageButtonItemGap', true));\n    var contentRect = contentGroup.getBoundingRect();\n    var controllerRect = controllerGroup.getBoundingRect();\n    var showController = this._showController = contentRect[wh] > maxSize[wh]; // In case that the inner elements of contentGroup layout do not based on [0, 0]\n\n    var contentPos = [-contentRect.x, -contentRect.y]; // Remain contentPos when scroll animation perfroming.\n    // If first rendering, `contentGroup.position` is [0, 0], which\n    // does not make sense and may cause unexepcted animation if adopted.\n\n    if (!isFirstRender) {\n      contentPos[orientIdx] = contentGroup[xy];\n    } // Layout container group based on 0.\n\n\n    var containerPos = [0, 0];\n    var controllerPos = [-controllerRect.x, -controllerRect.y];\n    var pageButtonGap = zrUtil.retrieve2(legendModel.get('pageButtonGap', true), legendModel.get('itemGap', true)); // Place containerGroup and controllerGroup and contentGroup.\n\n    if (showController) {\n      var pageButtonPosition = legendModel.get('pageButtonPosition', true); // controller is on the right / bottom.\n\n      if (pageButtonPosition === 'end') {\n        controllerPos[orientIdx] += maxSize[wh] - controllerRect[wh];\n      } // controller is on the left / top.\n      else {\n          containerPos[orientIdx] += controllerRect[wh] + pageButtonGap;\n        }\n    } // Always align controller to content as 'middle'.\n\n\n    controllerPos[1 - orientIdx] += contentRect[hw] / 2 - controllerRect[hw] / 2;\n    contentGroup.setPosition(contentPos);\n    containerGroup.setPosition(containerPos);\n    controllerGroup.setPosition(controllerPos); // Calculate `mainRect` and set `clipPath`.\n    // mainRect should not be calculated by `this.group.getBoundingRect()`\n    // for sake of the overflow.\n\n    var mainRect = {\n      x: 0,\n      y: 0\n    }; // Consider content may be overflow (should be clipped).\n\n    mainRect[wh] = showController ? maxSize[wh] : contentRect[wh];\n    mainRect[hw] = Math.max(contentRect[hw], controllerRect[hw]); // `containerRect[yx] + containerPos[1 - orientIdx]` is 0.\n\n    mainRect[yx] = Math.min(0, controllerRect[yx] + controllerPos[1 - orientIdx]);\n    containerGroup.__rectSize = maxSize[wh];\n\n    if (showController) {\n      var clipShape = {\n        x: 0,\n        y: 0\n      };\n      clipShape[wh] = Math.max(maxSize[wh] - controllerRect[wh] - pageButtonGap, 0);\n      clipShape[hw] = mainRect[hw];\n      containerGroup.setClipPath(new graphic.Rect({\n        shape: clipShape\n      })); // Consider content may be larger than container, container rect\n      // can not be obtained from `containerGroup.getBoundingRect()`.\n\n      containerGroup.__rectSize = clipShape[wh];\n    } else {\n      // Do not remove or ignore controller. Keep them set as placeholders.\n      controllerGroup.eachChild(function (child) {\n        child.attr({\n          invisible: true,\n          silent: true\n        });\n      });\n    } // Content translate animation.\n\n\n    var pageInfo = this._getPageInfo(legendModel);\n\n    pageInfo.pageIndex != null && graphic.updateProps(contentGroup, {\n      x: pageInfo.contentPosition[0],\n      y: pageInfo.contentPosition[1]\n    }, // When switch from \"show controller\" to \"not show controller\", view should be\n    // updated immediately without animation, otherwise causes weird effect.\n    showController ? legendModel : null);\n\n    this._updatePageInfoView(legendModel, pageInfo);\n\n    return mainRect;\n  };\n\n  ScrollableLegendView.prototype._pageGo = function (to, legendModel, api) {\n    var scrollDataIndex = this._getPageInfo(legendModel)[to];\n\n    scrollDataIndex != null && api.dispatchAction({\n      type: 'legendScroll',\n      scrollDataIndex: scrollDataIndex,\n      legendId: legendModel.id\n    });\n  };\n\n  ScrollableLegendView.prototype._updatePageInfoView = function (legendModel, pageInfo) {\n    var controllerGroup = this._controllerGroup;\n    zrUtil.each(['pagePrev', 'pageNext'], function (name) {\n      var key = name + 'DataIndex';\n      var canJump = pageInfo[key] != null;\n      var icon = controllerGroup.childOfName(name);\n\n      if (icon) {\n        icon.setStyle('fill', canJump ? legendModel.get('pageIconColor', true) : legendModel.get('pageIconInactiveColor', true));\n        icon.cursor = canJump ? 'pointer' : 'default';\n      }\n    });\n    var pageText = controllerGroup.childOfName('pageText');\n    var pageFormatter = legendModel.get('pageFormatter');\n    var pageIndex = pageInfo.pageIndex;\n    var current = pageIndex != null ? pageIndex + 1 : 0;\n    var total = pageInfo.pageCount;\n    pageText && pageFormatter && pageText.setStyle('text', zrUtil.isString(pageFormatter) ? pageFormatter.replace('{current}', current == null ? '' : current + '').replace('{total}', total == null ? '' : total + '') : pageFormatter({\n      current: current,\n      total: total\n    }));\n  };\n  /**\n   *  contentPosition: Array.<number>, null when data item not found.\n   *  pageIndex: number, null when data item not found.\n   *  pageCount: number, always be a number, can be 0.\n   *  pagePrevDataIndex: number, null when no previous page.\n   *  pageNextDataIndex: number, null when no next page.\n   * }\n   */\n\n\n  ScrollableLegendView.prototype._getPageInfo = function (legendModel) {\n    var scrollDataIndex = legendModel.get('scrollDataIndex', true);\n    var contentGroup = this.getContentGroup();\n    var containerRectSize = this._containerGroup.__rectSize;\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var xy = XY[orientIdx];\n\n    var targetItemIndex = this._findTargetItemIndex(scrollDataIndex);\n\n    var children = contentGroup.children();\n    var targetItem = children[targetItemIndex];\n    var itemCount = children.length;\n    var pCount = !itemCount ? 0 : 1;\n    var result = {\n      contentPosition: [contentGroup.x, contentGroup.y],\n      pageCount: pCount,\n      pageIndex: pCount - 1,\n      pagePrevDataIndex: null,\n      pageNextDataIndex: null\n    };\n\n    if (!targetItem) {\n      return result;\n    }\n\n    var targetItemInfo = getItemInfo(targetItem);\n    result.contentPosition[orientIdx] = -targetItemInfo.s; // Strategy:\n    // (1) Always align based on the left/top most item.\n    // (2) It is user-friendly that the last item shown in the\n    // current window is shown at the begining of next window.\n    // Otherwise if half of the last item is cut by the window,\n    // it will have no chance to display entirely.\n    // (3) Consider that item size probably be different, we\n    // have calculate pageIndex by size rather than item index,\n    // and we can not get page index directly by division.\n    // (4) The window is to narrow to contain more than\n    // one item, we should make sure that the page can be fliped.\n\n    for (var i = targetItemIndex + 1, winStartItemInfo = targetItemInfo, winEndItemInfo = targetItemInfo, currItemInfo = null; i <= itemCount; ++i) {\n      currItemInfo = getItemInfo(children[i]);\n\n      if ( // Half of the last item is out of the window.\n      !currItemInfo && winEndItemInfo.e > winStartItemInfo.s + containerRectSize || // If the current item does not intersect with the window, the new page\n      // can be started at the current item or the last item.\n      currItemInfo && !intersect(currItemInfo, winStartItemInfo.s)) {\n        if (winEndItemInfo.i > winStartItemInfo.i) {\n          winStartItemInfo = winEndItemInfo;\n        } else {\n          // e.g., when page size is smaller than item size.\n          winStartItemInfo = currItemInfo;\n        }\n\n        if (winStartItemInfo) {\n          if (result.pageNextDataIndex == null) {\n            result.pageNextDataIndex = winStartItemInfo.i;\n          }\n\n          ++result.pageCount;\n        }\n      }\n\n      winEndItemInfo = currItemInfo;\n    }\n\n    for (var i = targetItemIndex - 1, winStartItemInfo = targetItemInfo, winEndItemInfo = targetItemInfo, currItemInfo = null; i >= -1; --i) {\n      currItemInfo = getItemInfo(children[i]);\n\n      if ( // If the the end item does not intersect with the window started\n      // from the current item, a page can be settled.\n      (!currItemInfo || !intersect(winEndItemInfo, currItemInfo.s)) && // e.g., when page size is smaller than item size.\n      winStartItemInfo.i < winEndItemInfo.i) {\n        winEndItemInfo = winStartItemInfo;\n\n        if (result.pagePrevDataIndex == null) {\n          result.pagePrevDataIndex = winStartItemInfo.i;\n        }\n\n        ++result.pageCount;\n        ++result.pageIndex;\n      }\n\n      winStartItemInfo = currItemInfo;\n    }\n\n    return result;\n\n    function getItemInfo(el) {\n      if (el) {\n        var itemRect = el.getBoundingRect();\n        var start = itemRect[xy] + el[xy];\n        return {\n          s: start,\n          e: start + itemRect[wh],\n          i: el.__legendDataIndex\n        };\n      }\n    }\n\n    function intersect(itemInfo, winStart) {\n      return itemInfo.e >= winStart && itemInfo.s <= winStart + containerRectSize;\n    }\n  };\n\n  ScrollableLegendView.prototype._findTargetItemIndex = function (targetDataIndex) {\n    if (!this._showController) {\n      return 0;\n    }\n\n    var index;\n    var contentGroup = this.getContentGroup();\n    var defaultIndex;\n    contentGroup.eachChild(function (child, idx) {\n      var legendDataIdx = child.__legendDataIndex; // FIXME\n      // If the given targetDataIndex (from model) is illegal,\n      // we use defaultIndex. But the index on the legend model and\n      // action payload is still illegal. That case will not be\n      // changed until some scenario requires.\n\n      if (defaultIndex == null && legendDataIdx != null) {\n        defaultIndex = idx;\n      }\n\n      if (legendDataIdx === targetDataIndex) {\n        index = idx;\n      }\n    });\n    return index != null ? index : defaultIndex;\n  };\n\n  ScrollableLegendView.type = 'legend.scroll';\n  return ScrollableLegendView;\n}(LegendView);\n\nexport default ScrollableLegendView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function installScrollableLegendAction(registers) {\n  /**\n   * @event legendScroll\n   * @type {Object}\n   * @property {string} type 'legendScroll'\n   * @property {string} scrollDataIndex\n   */\n  registers.registerAction('legendScroll', 'legendscroll', function (payload, ecModel) {\n    var scrollDataIndex = payload.scrollDataIndex;\n    scrollDataIndex != null && ecModel.eachComponent({\n      mainType: 'legend',\n      subType: 'scroll',\n      query: payload\n    }, function (legendModel) {\n      legendModel.setScrollDataIndex(scrollDataIndex);\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension';\nimport { install as installLegendPlain } from './installLegendPlain';\nimport ScrollableLegendModel from './ScrollableLegendModel';\nimport ScrollableLegendView from './ScrollableLegendView';\nimport installScrollableLegendAction from './scrollableLegendAction';\nexport function install(registers) {\n  use(installLegendPlain);\n  registers.registerComponentModel(ScrollableLegendModel);\n  registers.registerComponentView(ScrollableLegendView);\n  installScrollableLegendAction(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension';\nimport { install as installLegendPlain } from './installLegendPlain';\nimport { install as installLegendScroll } from './installLegendScroll';\nexport function install(registers) {\n  use(installLegendPlain);\n  use(installLegendScroll);\n}","import { render } from \"./Statistics.vue?vue&type=template&id=3505f34f&scoped=true\"\nimport script from \"./Statistics.vue?vue&type=script&lang=js\"\nexport * from \"./Statistics.vue?vue&type=script&lang=js\"\n\nimport \"./Statistics.vue?vue&type=style&index=0&id=3505f34f&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-3505f34f\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Statistics.vue?vue&type=style&index=0&id=3505f34f&scoped=true&lang=scss\""],"sourceRoot":""}